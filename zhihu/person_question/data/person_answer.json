{
    "3201525765": {
        "created_time": 1694094019,
        "content": "量化交易不算太靠谱，它只算“不靠谱”里面比较靠谱的。为啥说它不靠谱呢？因为量化交易真的不一定能赚钱！我先po张图片感受一下，这是某头部百亿私募的量化选股多头产品，成立约2年时间，亏损了5%，相对同期沪深300指数跌幅20%来说，跌得算少了，毕竟也是亏损，咱老百姓要的还是真金白银的绝对收益。再看另一家头部百亿私募的以赚取绝对收益的市场中性产品，2021年年底出现亏损，期间最大亏损扩大到将近8%，虽然最终收益拉回来了，目前盈利4.19%，但3年时间存余额宝收益都比这高哇。这只是我“居心叵测”挑选的个例，用反证法的方式说明“量化交易也不是一定赚钱的”，在这之外赚钱的量化产品有很多，但亏损的产品也不少，所以说量化交易不一定靠谱。我真的是谢谢现在的部分宣传媒体了，很多都是把量化渲染成“收割韭菜的镰刀”，再加上高工资高捐款高收益的新闻，让很多不明真相的小伙伴糊里糊涂地认为“量化交易就是稳赚不赔的”。作为一名量化从业者，实话实说，量化交易的确是能基于历史数据和数学模型，让投资盈利的概率偏向于我们，但并不能保证百分之百盈利。就好比你对一个硬币动了手脚，让你的胜率从50%提高到60%，还是有16%的概率连输2次，6.4%的概率连输3次，2.6%的概率连输4次，1%的概率连输5次......黑天鹅谁也预料不到，哪有什么稳赚不赔。既然量化交易不是稳赚不赔的，那为啥我还选量化交易呢？因为咱是平头百姓，没有内幕，不会坐庄，搞不来确定性的垄断盈利，只好“矮子里面挑将军”，在不靠谱中提高确定性。这就要说到量化交易对我投资交易最大的3个作用：其一，验证/发掘投资想法；其二，提高投资效率；其三，保持纪律性。第一个作用最为重要，它解决的是投资当中根本性的问题：买什么买多少什么时候买卖。我初学投资那会儿，在网上一搜，一大堆投资/交易的书籍和课程，这个专家那个大师，龙头战法，潜伏战法，爆破战法，琳琅满目，包罗万象，公说公有理，婆说婆有理，不知到底该相信谁。直到遇到了量化交易，把这些专家大师们的理论手法写成代码，转化成交易策略，放在历史数据当中跑一遍，就被扒的底裤都不剩了，一声叹息后，大骂竖子误我。个人看(pian)来(jian)，用量化方法找到/验证一种有效的投资交易方法，就跟现代医学里面找到治疗某种疾病的药物流程一样，讲究的都是“大样本随机双盲对照测试”，这样发现制作出来的药，敢吃，总好过街边摊贩包治百病的“大力丸”。假如第一个作用没有了，也就是量化发掘出来的投资想法行不通，要是量化还能提高投资效率，我依旧会坚持下去。这主要包含两个方面，一个是研究效率，另一个是交易效率。现在A股也有5000+支股票了，人的时间精力是有限的，光靠人眼手工来大范围筛选股票进行研究，非眼瞎手残不可，比方说，要在全部A股当中找出符合“MACD顶底背离”形态的股票，光靠自己手动来做，想死的心都有了，如果量化编程实现，我感觉自己还可以抢救一下，这就是提高研究效率。提高交易效率指的是，用程序化的方法实盘交易和盯盘，解放自己大部分时间和精力。举个极端的例子，需要你手动买入100支股票，然后要实时盯盘，下跌幅度超过5%就要止损出场(考虑价格笼子)，想想这对你意味着什么？而这是可以用量化轻松搞定的。第三个作用“保持纪律性”，这对做期货CTA的小伙伴感触会比较深，一般的趋势型CTA策略都是以“低胜率，高赔率”著称，交易几次才能盈利一次，但那一次的利润可以覆盖前几次亏损，并且还有盈余，保证总体预期盈利，“别有心思”的小伙伴就想了，自己过滤一些进场时点会更好，但往往很容易就错过大涨的机会，之前的亏损更加无法弥补。机器没有人的七情六欲，是一个没有感情的执行机器，能帮咱保持高度的统一性和纪律性。正是因为这3点原因，自己毅然决然选择了量化交易，这只是我个人的观点和偏见，其实量化交易只是一种投资方法，并不能稳赚不赔，因此也无需将它神化，觉得做量化就多么了不起，希望小伙伴们不要误信那些不良媒体，觉得量化就一定能赚钱，为了量化而量化。刀枪剑戟，斧钺钩叉，镋棍槊棒，鞭锏锤抓，十八样兵器各有优劣，样样精通当然是好，如果不行，适合自己的才最重要，在真金白银交易之前，只需多问问内心：怎么证明自己是对的？交易之后能否安然入睡？更多相关资料请见下方文章卡片，另外还有一个持续更新的量化公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：手把手教你构建与改进轮动策略（十年10倍，附源码）quantkoala：复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/3201525765",
        "comment_count": 7,
        "voteup_count": 18,
        "question_title": "http://www.zhihu.com/api/v4/questions/268908294",
        "question_url": "量化交易靠谱吗？"
    },
    "3201513084": {
        "created_time": 1694093353,
        "content": "并没有赚到钱，还亏进去N桶金，大概是400w吧，穿仓后还倒欠交易所370w，不过悲剧的主人公不是我，量化交易并不是像大家幻想的带赚钱功能的ATM，想唠唠这个真实的量化故事望大伙儿引以为戒。之前有一篇文章《量化交易平台的坑有多大？由于行情错误1手委托损失400多万！》在量化圈子内疯传，以自述的形式，表达了在半个多小时内亏损400多万的经历和感受，为了方便表述，根据这篇文章作者的ID名，文中称呼其为“空哥”吧。空哥这次做的是期货跨期套利，2023年4月19日上午10点半，量化交易系统监测到沥青2307合约和2308合约的价差处于低位，于是触发开仓信号，做多价差，预期将来价差会增大，也就是要开多1手沥青2307合约，同时做空1手沥青2308合约。由于2308合约没有2307合约流动性好（交易活跃成交容易），于是计划先去成交2308合约，成交之后，再去交易2307合约。2308合约成交很顺利，按盘口价3919.0成交。接着要开多2307合约，盘口卖价是3919.0，为了能立马成交，还在这基础上加了4跳（沥青的最小变动单位是1元/吨），发出了限价3923.0的委托单。按照往常一般就成交了，如果不成交，就撤单，然后读取盘口卖价加4跳再发单，通常第二次都会成交，但神奇的是，还是没有成交，高能的地方来了。在10:30~11:06这36分钟的时间里，由于一直没有成交，在沥青2307合约上，不断地撤单报单，合计总数约6万次，空哥发现异常后，就手动停掉了策略。本以为就此结束，最多把单腿的空头仓位平掉就好了，亏损一些单边点差和手续费。1手沥青，市值不到4w，每日波动限制是±3%，跌停入手再涨停，1手空头当天最多亏损2k多，那空哥为啥因为这1手委托亏损了400w呢？那是因为当天事后，期货公司打电话来说，要收400多万的申报费，空哥这个期货账户里面本来有30w，现在不仅全部被划走了，还倒欠了374w。1手委托要收400w的申报费，是不是很震惊？咱来盘盘其中的道儿~~~这个申报费，沥青这个品种所在的上海期货交易所以前是不收的，是去年8月4日夜盘开始才开始有的，详见上期所公告《关于在期货和期权合约对客户信息量收取申报费的通知》，各大期货公司和金融媒体也都披露宣传过，可能一般交易者都够不着他的起收门槛，很多人都没有留心，打个不恰当的比方，就如同个税起征点调到月薪10w才开始征收，那估计大部分国人都不会去了解10w之后的阶梯征收方式。那为什么1手委托能收400w的申报费呢？咱来详细看看上期所的这个申报费收取规则。从收费公式/图表当中看出，要计算出申报费，那就要理解“信息量”和“报单成交比OTR”这两个关键概念。信息量=报单、撤单、询价等交易指令笔数之和。也就是1个交易指令对应着1个信息量，在那篇文章当中，空哥说自己使用的是FAK指令，FAK的全称是“FillAndKill”，立即成交剩余指令自动撤销指令，简单来说就是下一个限价单，能成交就成交，不能成交的那部分就自动撤单。那1个FAK指令对应多少个信息量呢？这得分情况，如果下了FAK，全部成交了，只有报单这1个指令，那算1个信息量，如果不成交或部分成交，那后面还会跟着1个撤单指令，这种情况下算2个信息量。空哥在沥青2307合约上一共使用了59600次FAK指令，而且都是没有成交，对应的就是59600次报单和59600次撤单，信息量合计是119200笔。注意，信息量只针对笔数，跟每一笔指令对应的委托数量无关，无论你挂1手还是100手，都是收一样的钱。接下来说“报单成交比OTR”，报单成交比（OTR）=（信息量/有成交的报单笔数）-1，因为空哥将近6万次FAK指令都没有成交，所以有成交的报单笔数为0，但分母不能为0啊，上期所对这种特殊情况的处理是将分母设为1，这次的OTR=(119200/1)-1=119199。OTR这个指标的设置意图就是用来衡量你的报单质量，数值越小，报单质量越高，数值越大，报单质量就越差。如果每一笔报单都全部成交，那OTR就恒定等于0，如果每次报单都没有成交，则OTR一直随着报单笔数增加而增加。在上交所，OTR质量高低的分界点是2.0，OTR&gt;2的各档位申报费都是OTR&lt;=2的2倍，空哥这次很不幸，都落在了收费标准最高的那档。现在，咱对着上期所那张收费表，看看这400多万是怎么算出来的。沥青在上期所是属于A组品种，OTR大于2.0，收费标准看最右边那一列。前面的4000笔不收费，费用为0，费用来自于4000笔之后。4001~8000笔:4000x0.5=0.2w8000~40000笔：32000x2.5=8w40000笔以上：(119200-40000)x50=396w合计起来就是404.2w，这跟空哥披露的结算单一致，申报费用大头都来自于第2w次之后使用FAK指令，费用占比达到396/404.2=97.97%，如果空哥能在量化交易系统出现异常12分钟内手动停止策略就好了，至少能降低90%的损失。有的小伙伴可能就疑惑了，平常那些佣金手续费什么的都是实时收取，最多就把账户的钱给全部扣光，怎么这个申报费是一天一结，还把账户给搞穿仓了？其实是这样的，这个申报费是交易所针对单个品种合约收取的，是交易所要收的钱，收这个钱的目的是“为强化监管效能，保障市场平稳运行......”但一个交易者可能在多个期货公司开通多个账户交易同一个品种合约，交易所要到每天结算时，才能汇总各个期货公司的交易数据，才能计算出一个交易者他的合计信息量和OTR是多少，毕竟是阶梯收费，信息量越多、OTR越高收的越贵，这才有了实时交易不收申报费，到结算时才一次性收取，进而造成了穿仓。申报费看明白了，也计算明白了，但为什么要交这么高的申报费呢？那是因为6w次的报单撤单都成交不了1手沥青2307合约，为什么成交不了呢？空哥事后找原因发现，空哥所用的JZ量化软件推送的行情数据与其他行情软件显示的数据不一致，可能是JZ量化软件误将沥青2306合约的行情当成是沥青2307的行情推送过来了，而当时沥青2306合约的实时价格比2307合约的要低10几跳，于是读取2306合约盘口卖价外加4跳都够不着2307合约的盘口价，导致了6w次报撤单都成交不了1手的悲剧发生。也有人质疑空哥为什么不加报单撤单数限制，为什么要用FAK指令“炫技”？这还是有一定历史原因的，这就要说到上期所在2019年1月发布的《上海期货交易所异常交易行为管理办法》，在“第二章异常交易行为认定”中的“第十条因套期保值交易、立即全部成交否则自动撤销指令（FOK）和立即成交剩余指令自动撤销指令（FAK）等产生的自成交、频繁报撤单、大额报撤单等行为不构成异常交易行为。”因为使用FAK指令产生的频繁报撤单行为都不属于异常交易行为，这是当时空哥在开发这个策略时所能看到的最新相关交易规则，于是就没有加上报撤单数目限制，后续又没有经常登交易所网站学习新制度，于是乎错过了后面的申报费收费规则的学习，没有再把报撤单数目限制加上去。整个事件的始末想必已经了解清楚了，那来总结一下当中量化交易实盘中潜在的那些坑，也给咱一些警示，查缺补漏。1.行情推送错误。这是导致这次悲剧的直接原因，除了行情推送错误之外，还会有行情数据延迟，开仓信号错误或者错过交易机会；量化平台/交易终端宕机或掉线，导致委托交易失败或者回报信息慢重复报单；券商系统出错，导致获取持仓/资金错误，导致策略错误执行。别以为这些都是小量化软件平台或小券商才会出现的错误，其实浓眉大眼的交易所也会。2.交易制度变更。正是由于空哥没有经常登交易所网站学习新的交易制度，没有意识到申报费对原始策略的影响，因此没有加上报撤单数目的限制，导致了高昂费用的产生。在前文当中，详细唠了申报费的收取细节，但那只是上期所的，各个期货交易所的计算细节还是有差异的，各位小伙伴一定要记得去看看自己交易标的最新的交易制度。3.风控细节不完善。实盘交易是跟实时行情和反馈对接的，在整个交易链路当中啥幺蛾子都可能会发生，在策略当中重新加上“报撤单数目限制”是事前风控，但总有啥幺蛾子是咱事先想不到的，百密一疏嘛，这个时候至少可以在实盘策略当中加上一个预警提醒机制，事出反常必有妖，提醒一下终归是好的。愿空哥顺利趟过这次坎坷，福气都在后头~参考资料：空不异色，2023.4.19，《量化交易平台的坑有多大？由于行情错误1手委托损失400多万！》上海期货交易所，2022.7.29，《关于在期货和期权合约对客户信息量收取申报费的通知》上海期货交易所，2019.1.21，《上海期货交易所异常交易行为管理办法》更多相关资料请见下方文章卡片，另外还有一个持续更新的量化公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：手把手教你构建与改进轮动策略（十年10倍，附源码）quantkoala：复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/3201513084",
        "comment_count": 0,
        "voteup_count": 57,
        "question_title": "http://www.zhihu.com/api/v4/questions/445943569",
        "question_url": "量化交易真的能赚到钱吗？"
    },
    "3192993139": {
        "created_time": 1693571759,
        "content": "我之前也想过类似的问题，如果量化大神穿越到今天零基础开始学量化交易，那他如何收集到众多的量化因子进行模仿/借鉴？前段时间找了几个量化大神线上交流了一下，仿佛找到了答案，今天就给大伙儿盘点一下那些极其适合量化萌新的因子库来源，关键大部分还都是免费的~大神们最开始的时候，除了骨骼清奇、天赋异禀的之外，也没有谁一上来就开挂的，初期也是得乖乖学习，关键这个时候不是先追求数量，而是先追求质量，建立正确的因子认知非常重要。这个时候最好不要“东一榔头，西一棒槌”的碎片化学习，要成体系化学习，那最体系的莫过于书籍了，这里推荐两本经典书籍，分别是《量化投资策略：如何实现超额收益Alpha》和《投资策略实战分析：华尔街股市经典策略20年推演》。在这两本书里面，都列举出了许多对股市有驱动力的量化因子，并附有详尽的因子分析，让你明白每一个因子的金融逻辑，看到交易的本质。前一本在之前推荐的20本量化书当中已经有过推荐，后一本在量化圈里面推荐得还比较少，但个人觉得，后一本书对因子的分析更为透彻，除了常规的分组回测那些有效性分析外，还会着重分析最好与最差情况以及各种场景，所以也重点推荐一下。看书找量化因子这种方式，重点不在于因子数量，而在于学到量化因子的构建逻辑，不是天马行空的胡乱搭配，而是有明显的金融意义的。接下来，就可以广撒网，多捞鱼了，在论文里，你可以看到经典的Alpha101，在《101FormulaicAlphas》这短短的22页论文里，你能看到101个“奇奇怪怪”的量化因子，不要惊叹于Zura大神天马行空的创意，在3年后，他还发表了有151个量化策略的论文《151TradingStrategies》，我之前也给大伙儿介绍过了，不再赘述。在Alpha101发表两年后，国泰君安金融工程团队发表了研究报告《基于短周期价量特征的多因子选股体系》，类似于Alpha101的形式，提出了基于我国A股的191个短周期价量Alpha因子，因此坊间也俗称Alpha191。除了国君金工研报外，个人觉得华泰系的金工因子系列研报也非常不错，除了分门别类测试做得好之外，同时兼具股票股票和期货因子，非常值得量化萌新借鉴学习。除了书籍、论文和研报这些因子库之外，还有各大量化平台上也有专门的因子版块，这里拿JoinQuant平台为例，其他平台类似。JQ上已经实现前文说的Alpha101和Alpha191因子，直接通过API接口就可以获取因子数据，除此之外还有常用的技术指标因子和JQ自己的因子库（其中包含有Barra因子），有个更便捷的“因子看板”功能，能非常方便地查看每个因子在不同场景下的绩效。Alpha101：https://www.joinquant.com/help/api/help#name:Alpha101Alpha191：https://www.joinquant.com/help/api/help#name:Alpha191无须做延伸，利用好上文提到的书籍、论文、研报和网站，就可以迅速构建出300+个因子的基础因子库，如果再加上tsfresh等特征自动挖掘工具，整个因子库的因子数量就可以拓展到20w+的级别，也许这些公开的因子库都会失效，但它提供的养分足以让我们茁壮成长，前人归纳，后人演绎。虽然资料都是公开免费的，但为了节省大伙儿的时间精力，文中提及的论文和研报都已经打包整理好，想认真学习的小伙伴可在公Z号『量化君也』后台回复暗号：因子库，便可以保存下载后开启学习之旅，看在我劳心劳力的份儿上，要一个充满鼓励的『赞』不过分吧~更多相关资料请见下方文章卡片，另外还有一个持续更新的量化公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：手把手教你构建与改进轮动策略（十年10倍，附源码）quantkoala：复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：36分钟，6万次报撤单，1手委托亏损400万，量化交易实盘中潜在的那些坑quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/3192993139",
        "comment_count": 1,
        "voteup_count": 78,
        "question_title": "http://www.zhihu.com/api/v4/questions/68093183",
        "question_url": "量化因子库下应该去哪里寻找？"
    },
    "3167139676": {
        "created_time": 1692111773,
        "content": "看到这个问题，我情不自禁地想起之前看到的一个“野路子”策略，能一定程度上诠释小资金和大机构策略的区别，因为这个策略大机构大资金做不了，非要做的话冲击成本会很大，收益都可能冲没了，小资金做的话都花不了1w块，本金虽小，碰上好行情收益可不小，感兴趣的话请听我细细道来~~~事情是这个样子滴，最近在各个量化社区里面瞎转悠，发现有一类策略在个人宽客那里玩得飞起，那就是“大妈类”策略，有菜场大妈，还有皇城大妈、正黄旗大妈、通天纹大妈等，其中以菜场大妈的变种和衍生最多。虽然这类名字听起来非常“民科”，一股野路子的味道扑面而来，但看过核心的策略思路后，个人感觉还是存在一定的底层逻辑，对于量化萌新来说是一种性价比非常高的入门策略，逻辑简单代码少，思路清晰收益高。目前从公开的资料看，菜场大妈的核心策略思想是聚宽社区『开心果』大神最先提出，虽然那篇帖子已经被作者删除了，但之前保存下源码的宽客延续了这个策略的生命，出现了各种“魔改”，将策略发扬光大。为啥这些策略名字里面都含有“大妈”呢？我说一个梗大伙儿就明白了。如果你去菜市场买菜时，觉得自己的砍价能力不够出色，或者抹不开面子去砍价，那么有一个土法子非常管用，那就是跟在一个同在市场买菜的大妈后面，等大妈酣畅淋漓砍完价后，你立马凑到摊主跟前，说“这青菜我也来两斤”，划算又实惠，干净又卫生。如果把买股票类比成买菜，那菜场大妈的核心技能就是总能买到“性价比高”的股票，也就是质量好、价格便宜。于是乎，目前主流菜场大妈策略最核心的选股思路归结起来就七个字：质好价低市值小，下面具体展开唠唠。质好，就是筛选质量好、基本面好的股票。最初的版本只使用了“股息率”这个因子，能真金白银分红的企业应该不会差到哪里去，后来的改进版本当中，为了筛选更优质的股票，逐步加入了“PEG”(市盈率相对盈利增长比率)等因子。价低，就是筛选质好股票中价格低的股票，最初的版本中是股价不能超过9元，“9元”这个设置除了测试效果好之外，还有一个好处就是，正是方便小资金的个人宽客使用该策略，买入1手股票加上交易费用和滑点，最多才900块出头，选股10支，还不到1w，真的是非常滴亲民接地气。后来改进的版本当中就出现了动态的股价阈值，也就是不使用固定的股价数额了，而使用当时的分位价格，例如股价要比全市场80%的股票都要低。市值小，顾名思义，也就是筛选出前两步“质好价低”中市值最小的N支股票，作为最终的目标持仓。你瞧，虽然策略的名称看起来很俗气，但却利用了两个被金融专家孜孜不倦研究的金融异象——小市值和低价股。小市值就不用我过多介绍了，那是A股过去十几年来总体收益贡献最大的一类因子，早在Fama-French三因子定价模型中就已经提及，虽然不是一直都有效，但不可忽视它的整体收益贡献。小市值的“溢价”来源主要有3方面：1)壳价值；2)小票的成长性更好；3)散户主导市场的投机氛围。当初的壳价值随着注册制的全面推行已经非常弱化，目前主要还是因为A股的投资者结构导致小票更容易被炒作，获得流动性溢价，但针没有两头尖，甘蔗也没有两头甜，小票跌起来也是非常要命的。另一个金融异象就是低价股，这也跟小市值一样，不单单是A股，国内外都存在这个现象，最著名的例子之一就是：七十多年以前，美国投资大师约翰·坦伯顿用借来的一万美元买入一百多支1美元以下的低价股，在这四年之后，他将这些股票全部卖出，赚回了3倍的收益，那也是他投资生涯的第一桶金。低价股的“溢价”来源就没有小市值的那么明确了，可能的来源也是有3个，分别是低估值、低质量和个人投资者的价格幻觉，进一步详细的说明大伙儿可以看招商证券金工团队的研究《A股低价股溢价效应及其成因解析》，对了，小市值的可以看东方证券团队的《A股小市值溢价的来源》。菜场大妈选股策略的思路和原理唠完了，是骡子是马时候牵出来遛遛了，策略回测绩效如下，第一个收益曲线图是普通轴，也就是平常一般看的收益率，第二个是对数轴，方便对比策略和基准的收益趋势。回测时间范围是近10年，也就是从2013年至今，取得了10年将近140倍的收益，年化收益是62.34%，夏普率是2.25，最大回撤为30.88%，作为一个简单的入门级策略，这个收益情况算是不错的了。这里补充说明的是，在质好方面，同时使用了股息率和PEG因子；在价低方面，除了最高限价9元之外，由于A股最新的“面值1元退市”规则，加入了最低限价2元，也就是股价要在2~9元之间；每个月第一个交易日调仓，剔除ST、停牌、涨跌停等股票之后，最终选择符合质好价低条件市值最小的10支股票，等权分配资金，正常费率含最低5元。不过先不要高兴太早，上面的回测当中我还没有加入滑点，只是模拟一种最理想的交易情况，特别是对于低价股而言，滑点有时候是一个非常致命的因素，这方面的详细说明可以看之前的文章《5年收益曾狂飙131倍，没有未来函数，\"圣杯\"背后却有这样的bug》。在这里，可以放开一些，加入1%的滑点，再重新回测一遍，回测绩效如下所示。如果是大资金，那那冲击成本会高很多，所以一开始我说大资金做不了。策略总收益就从140倍下降到了97倍，看上去下降得非常多，但实际策略年化收益只从62.34%下降到了56.70%，因为月频调仓，交易频率不高，滑点造成的收益下降有限，可以从侧面看出复利效应是多么的厉害和诱人。夏普率也下降到了2.03，最大回撤也扩大到了31.19%，虽然出现了明显的下降，但对于入门级策略来说，依旧是一个非常亮眼的数据。那咱再来看看今年的表现如何，回测时也是加入了滑点。PS：本文『菜场大妈量化选股策略』试验源码、使用说明和异象研报已分享至『量化藏经阁』和『量化藏经阁Max』社群内，群友请在社群量化兵器库原路径中自取。菜场大妈选股策略年初至今的表现非常亮眼，虽然说5月份之前总体跑输了，但两个月的时间一下子就追回来了，跑赢了基准37%。其实这也是大妈类策略关注度提高的原因，都是被目前亮眼的数据吸引过来的。这里只是说了菜场大妈选股策略的主流基础玩法，留有很多改进方向待大侠们魔改，例如：（1）更多更有效的基本面筛选因子组合。（2）对持仓中涨跌停等特殊股票的特殊处理和之后的空闲资金再利用。（3）大妈类策略不是机构的主流策略，因为承载不了那么多资金，更适合个人宽客使用，并且鉴于小市值和低价股的溢价来源，可以在基础池中进一步剔除机构持股比例和分析师跟踪比例比较高的个股。纯粹只是个人猜想，抛砖引玉，回见~更多相关资料请见下方文章卡片，另外还有一个持续更新的量化公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：量化大神在萌新期是如何找到众多量化因子的？quantkoala：36分钟，6万次报撤单，1手委托亏损400万，量化交易实盘中潜在的那些坑quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/3167139676",
        "comment_count": 5,
        "voteup_count": 28,
        "question_title": "http://www.zhihu.com/api/v4/questions/426468983",
        "question_url": "使用小资金量（几千到几万）进行量化交易与去机构使用大资金量进行股票/期货量化，策略和思路有何区别？"
    },
    "3159534315": {
        "created_time": 1691673559,
        "content": "主要看题主你对“学会”的定义吧，如果是全方位精通，那有点儿难，如果说只是能写出基础的量化策略，那是踮起脚尖跳起来就能够得着的，接下来我就腆着脸分析一下经验方法，最后也会给出入门基础Python量化策略的源码，闲话少叙，开始嘚吧嘚~~~根据个人经历和经验，唠一下个人做量化交易的入门路径，我推荐的快速学习路径是：投资想法-&gt;量化基础-&gt;量化平台-&gt;量化策略这是抽象的概括，之后再把每个步骤详细唠唠，这里首先需要确定快速入门的学习原则：适度学习，够用就行~~~不要走“贪大求全”的弯路，陷入“胡子眉毛一把抓”的陷阱，不然很容易就从入门到放弃了~2021版《新华字典》中，收录了13000多个汉字，而日常生活中只需要用到其中3000多个，也就是说，不用啃完编程书籍等大部头才可以开始，按常用按需学习就行。一、投资想法很多人做量化，都是因为自己有初始的投资想法，想验证正确性提高交易胜率，或想解放双手追求效率，全自动程序化盯盘交易，量化跟人工智能AI一样，都是手段，用来实现自己想要的目的，不是为了量化或AI本身而学习。有初始的投资想法，在开始学习的时候有一个好处，就是可以在学习量化时有的放矢，听到相关的知识点的时候，脑子就会在想，我想要的功能能不能这样实现。比如，你想实现均线交易策略，那么你在学习pandas模块时，听到rolling和mean函数，就会有“确认过眼神，找到对的人”的赶脚。如果在投资想法这边还是没有感觉，不介意的话可以看看我之前的文章，里面很多策略想法都是从交易书籍、研报论文和市场观察中发现的。股票&amp;ETF相关策略：《复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略》《(续)复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略》《手把手教你构建与改进轮动策略（十年10倍，附源码）》《私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对》《手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）》《Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score》《ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞》《两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）》《跟踪『聪明钱』，巧用北向资金进行大盘择时》《量化萌新向ETF择时策略：当北上资金遇上布林带》《跟着“基金一哥”张坤量化选股的快乐，你想象不到！》《小市值因子已然凉凉，绩优小市值依旧狂浪》《中国版“漂亮50”量化策略》《鱼身策略懒人爱，量化内卷别乱买》商品期货相关策略：《唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略》《又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略》《又来唠一个另类异质量化策略：20后的Trendflex策略》《『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略》《K线标准化结构图：构建一个趋势策略，就是那么朴实无华》《CTA策略中的Alpha：期限结构之展期收益率策略》《量化本无妙手，背后都是坚实的本手：波动率不对称性RSJ量化策略》《兄弟家量化策略很多，拿一个『波动率收敛突破策略』盘一下》《兄弟家量化策略很多，又拿一个『操盘手策略』盘一下》《动物庄园：商品期货跨品种套利策略》《量化同质越来越严重，如何保持策略的长久优势？（附异质化另类量化策略）》《唠一唠指标之王MACD的另类用法：高低形态短线量化策略》《股指期货除了无脑吃贴水之外，还有更卷的量化操作策略吗？》二、量化基础这里面主要包含两大部分，一个是量化通识，另一个是编程基础。关于量化通识，看量化故事类的书籍都可以有所了解，以前我也列过一个书单。《量化投资书单推荐（20本）》如果没有那么多时间，想快速了解量化投资的方方面面，开始的时候只看这本就够了。《萌新量化投资入门的第一本书》对于Python的快速学习，墙裂推荐廖雪峰老师的Python教程，不仅免费写得非常简单易懂，而且每个小节之后，都有编程互动小题目给你即时反馈，非常有趣，不用再想着自己啃完编程大部头再去编写策略，教程链接：https://www.liaoxuefeng.com/wiki/1016959663602400廖老师的教程非常详尽，连Web开发都讲了，但是再次重申咱的快速入门学习原则：不贪多，够用就行。对于量化基础而言，学到“错误、调试和测试”章节就可以了，后面等有时间再看。遗憾的是，里面没有讲到量化常用的numpy和pandas模块，这个可以在学了廖老师课程之后，再单独度娘学习一下。三、量化平台对于量化初学者而言，不建议自己搭建量化框架/平台，应该以实现量化策略为主，把数据获取清洗、回测框架搭建和对接实盘接口等工作交给专业团队打理，因此强烈建议使用现成的第三方量化平台，这里给大家推荐一些。如果你打算用Python做量化交易，可以选择以下6个量化平台，在他们的官网的“帮助中心”里面，都可以找到对应的上手教程和策略模板。聚宽JoinQuant：https://www.joinquant.com优矿Uqer：https://uqer.datayes.com米筐RiceQuant：https://www.ricequant.com掘金量化：https://www.myquant.cn迅投QMT：http://www.thinktrader.netvn.py：https://www.vnpy.com四、量化策略有了编程基础，又选定了量化平台，恭喜你，你终于有能力实现自己最初的投资想法了，量化策略是投资想法的逻辑化和程序化展现。由于每个人的投资想法不尽相同，只好举一个简单的双均线交易策略为例进行描述，因为“双均线”这是一个接触到投资交易，都基本会听过的词儿，“专家”告诉你在金叉的时候买，在死叉的时候卖，那实际效果到底是怎么样的呢？在聚宽JoinQuant量化平台上，拿茅台作为交易标的，咱定义5日均线和20日均线在出现金叉的时候，第二天一开盘就全仓买入，出现死叉时，就把所有持仓全部卖出，策略代码如下。如果已经看完廖老师的前几章课程，这代码就大概能看懂七七八八了，剩下的再结合平台的API说明就能全部弄清楚了。大概的实现流程就是，在初始化函数initialize中设置了交易标的、策略参数和交易费率，以及定义了一个每天在开盘运行的函数stock_trade，并且开启了“防未来函数”功能。在stock_trade函数里面，计算昨天和前天的5日均线和20日均线，如果金叉就买入，死叉就卖出。#导入函数库fromjqdataimport*#初始化函数，设定基准等等definitialize(context):#交易的股票g.stock='600519.XSHG'#长短均线参数g.short_len=5g.long_len=20#设定沪深300作为基准set_benchmark('000300.XSHG')#开启动态复权模式(真实价格)set_option('use_real_price',True)#过滤掉order系列API产生的比error级别低的loglog.set_level('order','error')#打开防未来函数set_option('avoid_future_data',True)#股票类每笔交易时的手续费是：买入时佣金万分之三，卖出时佣金万分之三加千分之一印花税,每笔交易佣金最低扣5块钱set_order_cost(OrderCost(close_tax=0.001,open_commission=0.0003,close_commission=0.0003,min_commission=5),type='stock')#开盘时运行run_daily(stock_trade,time='open',reference_security='000300.XSHG')##开盘时运行函数defstock_trade(context):stock=g.stockshort_len=g.short_lenlong_len=g.long_len#获取股票的收盘价#当取日线数据时,不包括当天的,即使是在收盘后，没有未来data=attribute_history(stock,long_len+1,'1d',['close'])#计算双均线数据data['ma5']=data['close'].rolling(short_len).mean()data['ma20']=data['close'].rolling(long_len).mean()#昨日MA5和MA20数值ma5=data['ma5'].iloc[-1]ma20=data['ma20'].iloc[-1]#前日MA5和MA20数值pre_ma5=data['ma5'].iloc[-2]pre_ma20=data['ma20'].iloc[-2]#取得当前的可使用的资金cash=context.portfolio.available_cash#如果昨日出现金叉，则今日开盘买入if(pre_ma5&lt;pre_ma20)and(ma5&gt;ma20)and(cash&gt;0):#用所有资金买入股票order_value(stock,cash)#输出买入信息log.info(\"&gt;&gt;&gt;%s买入%d股%s\"%(str(context.current_dt),context.portfolio.positions[stock].today_amount,stock))#如果昨日出现死叉，则今日开盘全部卖出elif(pre_ma5&gt;pre_ma20)and(ma5&lt;ma20)and(stockincontext.portfolio.positions.keys()):#输出卖出信息log.info(\"&lt;&lt;&lt;%s卖出%d股%s\"%(str(context.current_dt),context.portfolio.positions[stock].total_amount,stock))#卖出所有股票,使这只股票的最终持有量为0order_target(stock,0)运行策略，就会不断输出自定义的交易信息。并且在运行过程中，收益率曲线也在不断地生成。大家觉得这个回测绩效怎么样？双均线策略算有效吗？你可以自己贴代码跑回测试试，同时再调整交易标的和双均线参数试一试，一般情况下回测很快，不需要一个东的时间。虽然我这里以JoinQuant策略为例，但所有量化平台的实现逻辑都是想通的，你只需要定义自己的函数，告诉系统“你要在什么时间？交易什么标的？交易数量是多少？”，你只要解决这3个“什么”的问题，所有的量化平台你都可以玩得转了。如果你能完全理解并且复现这个双均线策略，可以说明量化已经初步入门了，接下来要转起“正向飞轮”，实现和玩转更多策略，把多标的交易加进去，把基本面数据加进去，把滑点设置加进去，把仓位控制加进去......等你回测出心仪的策略效果，接着上模拟盘跟踪，然后就是实盘，接着就是不断迭代优化，慢慢地就变成合格宽客，最后就变成量化大神了。更多相关内容更多相关资料请见下方文章卡片，另外还有一个持续更新的量化公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：量化交易野路子：菜场大妈选股策略（10年100倍）quantkoala：复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：量化大神在萌新期是如何找到众多量化因子的？quantkoala：36分钟，6万次报撤单，1手委托亏损400万，量化交易实盘中潜在的那些坑quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/3159534315",
        "comment_count": 0,
        "voteup_count": 19,
        "question_title": "http://www.zhihu.com/api/v4/questions/328915026",
        "question_url": "python量化交易半个月可以学会吗?"
    },
    "3157976675": {
        "created_time": 1691589142,
        "content": "我也想过类似的问题，如果量化大神穿越到今天，开始零基础学习量化交易，那他如何收集和研究众多的量化因子？他会看什么书籍、网站等资料？前段时间找了几个量化大神线上交流了一下，仿佛找到了答案，就给大伙儿盘点一下那些极其适合量化萌新的因子库来源，关键大部分还都是免费的~大神们最开始的时候，除了骨骼清奇、天赋异禀的之外，也没有谁一上来就开挂的，初期也是得乖乖学习，关键这个时候不是先追求数量，而是先追求质量，建立正确的因子认知非常重要。这个时候最好不要“东一榔头，西一棒槌”的碎片化学习，要成体系化学习，那最体系的莫过于书籍了，这里推荐两本经典书籍，分别是《量化投资策略：如何实现超额收益Alpha》和《投资策略实战分析：华尔街股市经典策略20年推演》。在这两本书里面，都列举出了许多对股市有驱动力的量化因子，并附有详尽的因子分析，让你明白每一个因子的金融逻辑，看到交易的本质。前一本在之前推荐的20本量化书当中已经有过推荐，后一本在量化圈里面推荐得还比较少，但个人觉得，后一本书对因子的分析更为透彻，除了常规的分组回测那些有效性分析外，还会着重分析最好与最差情况以及各种场景，所以也重点推荐一下。看书找量化因子这种方式，重点不在于因子数量，而在于学到量化因子的构建逻辑，不是天马行空的胡乱搭配，而是有明显的金融意义的。接下来，就可以广撒网，多捞鱼了，在论文里，你可以看到经典的Alpha101，在《101FormulaicAlphas》这短短的22页论文里，你能看到101个“奇奇怪怪”的量化因子，不要惊叹于Zura大神天马行空的创意，在3年后，他还发表了有151个量化策略的论文《151TradingStrategies》，我之前也给大伙儿介绍过了，不再赘述。在Alpha101发表两年后，国泰君安金融工程团队发表了研究报告《基于短周期价量特征的多因子选股体系》，类似于Alpha101的形式，提出了基于我国A股的191个短周期价量Alpha因子，因此坊间也俗称Alpha191。除了国君金工研报外，个人觉得华泰系的金工因子系列研报也非常不错，除了分门别类测试做得好之外，同时兼具股票股票和期货因子，非常值得量化萌新借鉴学习。除了书籍、论文和研报这些因子库之外，还有各大量化平台上也有专门的因子版块，这里拿JoinQuant平台为例，其他平台类似。JQ上已经实现前文说的Alpha101和Alpha191因子，直接通过API接口就可以获取因子数据，除此之外还有常用的技术指标因子和JQ自己的因子库（其中包含有Barra因子），有个更便捷的“因子看板”功能，能非常方便地查看每个因子在不同场景下的绩效。Alpha101：https://www.joinquant.com/help/api/help#name:Alpha101Alpha191：https://www.joinquant.com/help/api/help#name:Alpha191无须做延伸，利用好上文提到的书籍、论文、研报和网站，就可以迅速构建出300+个因子的基础因子库，如果再加上tsfresh等特征自动挖掘工具，整个因子库的因子数量就可以拓展到20w+的级别，也许这些公开的因子库都会失效，但它提供的养分足以让我们茁壮成长，前人归纳，后人演绎。虽然资料都是公开免费的，但为了节省大伙儿的时间精力，文中提及的论文和研报都已经打包整理好，想认真学习的小伙伴可在公Z号『量化君也』后台回复暗号：因子库，便可以保存下载后开启学习之旅，看在我劳心劳力的份儿上，要一个充满鼓励的『赞』不过分吧~更多相关资料请见下方文章卡片，内容专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：量化交易野路子：菜场大妈选股策略（10年100倍）quantkoala：复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略quantkoala：手把手教你构建与改进轮动策略（十年10倍，附源码）quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：36分钟，6万次报撤单，1手委托亏损400万，量化交易实盘中潜在的那些坑quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/3157976675",
        "comment_count": 0,
        "voteup_count": 59,
        "question_title": "http://www.zhihu.com/api/v4/questions/355970217",
        "question_url": "关于因子研究，有哪些很棒的期刊和书籍，以及社区和公众号？"
    },
    "3156342205": {
        "created_time": 1691501387,
        "content": "我前段时间尝试过中国版的动量交易策略，不过不是交易个股，而是ETF，可以当做是一揽子股票的组合，效果还行，十年10倍，感兴趣的话，下面会带大伙儿从零走通整个策略的构建过程，从数据获取到回测统计，全部都有源码。herewego~~~一、说在前面的话众所周知，股票、债券、商品等投资市场存在着各种各样明显的轮动效应，最常见的有3种。第一种是资产轮动，也就是大类资产间的轮动，在不同的市场/宏观环境下，配置不同的类别的资产，可以获得更显著的投资收益，比如资产配置中最经典的美林时钟，按照经济增长与通胀将经济周期划分为4个阶段，每个阶段都有最适合的投资品种：衰退期买债券，复苏期炒股票，过热期投大宗商品，滞涨期持现金。对了，常见的股债轮动策略也是属于这个类别。第二种是行业轮动，也可以称之为板块轮动，说的就是各行业/板块在相同时期会表现出差异性，各自支棱的时间不同步，因此可以通过不同时期配置不同行业/板块，从而博取高于市场基准的投资收益。第三种就是风格轮动，跟行业轮动和板块轮动原理类似，只不是走强的不是轮动/板块，而是某类投资风格，比方我们常见的大小盘轮动、成长价值轮动就属于这种，晨星的投资风格箱就是按此划分的。第一种是各类资产之间的轮动，后两种更多的是某类资产(如股票)内的轮动，不过抽象出来，它们都是具有价格走势的证券/品种，只要它们有价格走势，就可以非常容易地构建出轮动策略，核心因素有两个。第一个是候选池，也就是在哪个“池子”里面进行轮动，是在股票、债券、商品、现金里面进行轮动呢，还是在大小盘风格里面进行轮动，这需要咱一开始就进行框定。第二个就是强弱排序，也就是采用什么方法规则对池子里面的品种进行排序，每期买入最强的那个或前几个品种，就跟和联胜社团每两年要选举一次那样，是靠叔父辈发话，还是靠才智拳头，拿到龙头棍，当上坐馆。这些问题，咱都会在本篇文章内解决，就不扯闲篇儿了，赶紧一起出发，let'sgo~哦，对了，记得戴上头盔~~二、轮动策略构建1.候选池确定第一步咱先要确定轮动策略的候选池，后面的所有步骤都是围绕着这个候选池展开的，为了讲解方便，最开始先构建A股里面常见的风格轮动，后续要换成别的轮动形式，只要更换里面证券代码列表就可以了。在大小盘风格轮动中，常用沪深300指数代表大盘风格，中证500指数代表小盘风格，为了体现可交易性，这里用的是ETF（ExchangeTradedFund，交易型开放式指数基金），沪深300ETF代码是510300，中证500ETF代码是510500。其实现在代表小盘风格，感觉中证1000指数更为合适，但是中证1000ETF从2016年底才开始，数据不够10年，不方便长期回测，于是还是用中证500，这些细节不用太在意，理解整个轮动策略的框架和回测思路就可以了。在价值成长风格轮动中，个人喜欢用红利ETF（代码：510880）代表价值风格，创业板ETF（代码：159915）代表成长风格，这里没有太死板的规定，根据个人的理解和喜好来决定就可以了。至此，咱有了风格轮动策略的候选池：沪深300ETF（510300），中证500ETF（510500），红利ETF（510880），创业板ETF（159915）。再啰唆一句，候选池的确定没有什么条条框框，全凭自己的对交易的理解和喜好，例如你就放余额宝和银华日利都可以，只要能取到序列数据。2.数据获取有了候选池，把池子里面证券标的数据取出来就可以了，这里还是用到老朋友股票量化开源库qstock，直接使用“pipinstallqstock”就可以安装，无需注册就可以直接使用。在这里，咱取得是这4个ETF的收盘价序列数据。importqstockimportnumpyasnpimportpandasaspd#510300：沪深300ETF，代表大盘#510500：中证500ETF，代表小盘#510880：红利ETF，代表价值#159915：创业板ETF，代表成长pool_list=['510300','510500','510880','159915']start_date='20130729'data=qstock.get_price(pool_list,start=start_date,freq='d',fqt=2).sort_index()name_list=data.columns.tolist()data.head(10)qstock与其他量化库的区别就是，返回的数据列名是证券的名称，而不是证券的代码，注意这一点就好。3.数据计算轮动策略的第二个核心就是强弱排序，这里采用的是动量策略的规则，每天买入前N个交易日涨幅最大的那一个ETF，因此需要计算出每个ETF在每一天的前N个交易日的涨幅。为了方便后面的回测，还需要顺带计算出每个ETF的日涨幅，计算代码和运行结果如下。#动量长度N=20#计算每日涨跌幅和N日涨跌幅fornameinname_list:data['日收益率_'+name]=data[name]/data[name].shift(1)-1.0data['涨幅_'+name]=data[name]/data[name].shift(N+1)-1.0#去掉缺失值data=data.dropna()data[['涨幅_'+vforvinname_list]].head(10)4.信号生成与回测经过上一步的计算，咱就知道了每一天所有ETF的区间涨幅，就可以筛选出涨幅最大的那个ETF，根据这个信号买入这个最强的ETF，作为轮动策略的持仓。知道了策略每一天的持仓，就知道策略每一天的收益率，采用连乘的方式进而计算出策略的净值曲线，有了这条净值曲线，就可以统计出回测的各项绩效指标。#取出每日涨幅最大的证券data['信号']=data[['涨幅_'+vforvinname_list]].idxmax(axis=1).str.replace('涨幅_','')#今日的涨幅由昨日的持仓产生data['信号']=data['信号'].shift(1)data=data.dropna()data['轮动策略日收益率']=data.apply(lambdax:x['日收益率_'+x['信号']],axis=1)#第一天尾盘交易，当日涨幅不纳入data.loc[data.index[0],'轮动策略日收益率']=0.0data['轮动策略净值']=(1.0+data['轮动策略日收益率']).cumprod()data[['涨幅_'+vforvinname_list]+['信号','轮动策略日收益率','轮动策略净值']].head(10)这里需要特别说明两点，第一点是交易信号列要前移1格（对应第4行代码当中的shift），因为策略今日的涨跌幅/收益率是由昨日的持仓产生的，这里其实也暗含着一个回测设定，就是当日收盘价计算交易信号当日收盘价成交，如果前移2格就是当日收盘价计算交易信号明日收盘价成交。第二点就是回测第一个交易日收益率为0，这跟第一点暗含的设定有关，当日收盘价才成交产生持仓，故第一个交易日收盘前没有持仓，不纳入信号证券的涨跌幅，收益率为0。5.结果统计和画图经过上一步，终于回测计算出轮动策略的净值曲线了，咱先把这4个ETF和策略净值都画出来，直观对比一下。importmatplotlib.pyplotasplt#显示中文设置plt.rcParams['font.sans-serif']=['SimHei']plt.rcParams['axes.unicode_minus']=False#绘制净值曲线图fig,ax=plt.subplots(figsize=(15,6))ax.set_xlabel('日期')ax.set_ylabel('净值')fornameinname_list+['轮动策略']:ifnameinname_list:data[name+'净值']=data[name]/data[name].iloc[0]ax.plot(data[name+'净值'].index,data[name+'净值'].values,linestyle='--')else:ax.plot(data[name+'净值'].index,data[name+'净值'].values,linestyle='-',color='#FF8124')#显示图例和标题ax.legend(name_list+['轮动策略'])ax.set_title('轮动策略净值曲线对比by公众号【量化君也】')plt.show()图中那条黄色实线就是轮动策略的净值曲线，它最终跑赢了这4个ETF中的任何一个，实现了通过轮动配置增强了策略收益。光看净值曲线还不够，还需要获得收益率、夏普率等回测统计指标信息，在这里，咱可以通过量化工具库quantstats快速实现，导入该库后，可以通过reports.html函数生成html格式的完整回测报告，也可以通过reports.basic函数输出基本的回测报告信息，也还有很多类似的函数，有空可以逐一去探索。importquantstatsasqstat#将完整回测报告存为HTML文件qstat.reports.html(data['轮动策略净值'],benchmark=data['沪深300ETF净值'],title='轮动策略回测报告by公众号【量化君也】',download_filename='轮动策略回测报告by公众号【量化君也】.html')#输出基本回测报告信息qstat.reports.basic(data['轮动策略净值'],benchmark=data['沪深300ETF净值'])输出的部分结果截图：第一幅图显示的是回测当中的各种统计指标，其中关键的是，策略累计收益率(CumulativeReturn)是261.7%，年化收益率(CAGR)是9.56%，比基准沪深300ETF的年化收益4.75%要差不多高出了5个百分点，策略的夏普率(Sharpe)为0.65，也高于基准的0.43，不过最大回撤(MaxDrawdown)达到了63.15%，超过了基准一大截，不是大心脏真抗不下来。第二幅图是轮动策略和基准的累计收益率曲线，第三幅图是策略相对基准每个月的超额收益，这个就很直观了，就不用过多解释了。三、轮动策略改进1初版的轮动策略咱已经完成了，虽然能跑赢基准，但是各项回测统计指标看上去还有很大的提升空间，革命尚未成功，同志仍需努力~还记得轮动策略的两个核心吗？一是候选池，二是强弱排序，要改进，可以先从候选池下手。侯选池的重要性不言而喻，因为后续所有的动作都是围绕着侯选池展开的，就跟从中国足球队随机挑选球员，还是从巴西足球队随机挑选球员去点球一样，底子好的自然胜率高。比如说，咱除了A股之外，还考虑国外市场，选入代表漂亮国的纳指ETF（代码：513100），还考虑大宗商品市场，于是选入黄金ETF（代码：518880），同时剔除原来候选池当中的沪深300ETF和中证500ETF，于是整个候选池就变为：红利ETF（510880），创业板ETF（159915），纳指ETF（513100），黄金ETF（518880）。于是乎，获取数据部分的代码做出对应的调整。importqstockimportnumpyasnpimportpandasaspd#510880：红利ETF，代表价值#159915：创业板ETF，代表成长#513100：纳指ETF，代表外盘#518880：黄金ETF，代表商品pool_list=['510880','159915','513100','518880']start_date='20130729'data=qstock.get_price(pool_list,start=start_date,freq='d',fqt=2).sort_index()name_list=data.columns.tolist()data.head(10)咱按照原始策略的流程重新回测一遍，注意在回测结果统计的部分要将原来的沪深300ETF修改成纳指ETF。从结果图中可以看出，修改候选池后的轮动策略的回测绩效取得了明显的提升，累计收益率达到了十年10倍，年化收益率从原来的9.56%提升到了18.69%，接近翻了个倍，夏普率也从原来的0.65提高到了1.19，最大回撤也从原来的63.15%降低到了30.30%，打了对折。四、轮动策略改进2候选池改过了，咱接下来就是改强弱排序，还是保存动量规则不变，原来采用的是区间涨跌幅，这次改进则打算采用区间走势，候选池依旧是上一步改进策略的候选池：红利ETF（510880），创业板ETF（159915），纳指ETF（513100），黄金ETF（518880）。区间走势用什么指标来衡量呢？这里借鉴RSRS指标的构建思路，用收盘价序列的斜率来表征，斜率越大，走势越猛越强。同时也引入决定系数R2的概念，它是对线性拟合效果好坏的判断指标，取值范围一般在0~1之间，数值越大，表示线性拟合的效果就越好，当直线能完美拟合所有数据点时，取值为1，更详细的说明可以见之前的文章《(续)复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略》。于是强弱规则就修改为“斜率和决定系数的乘积”，乘积作为ETF动量强弱的得分，得分数值越高，就表示动量越强，每日都选入强弱得分最高的ETF，数据计算部分的代码也做出相应的调整。fromsklearn.linear_modelimportLinearRegression#计算强弱得分defcalculate_score(srs,N=25):ifsrs.shape[0]&lt;N:returnnp.nanx=np.arange(1,N+1)y=srs.values/srs.values[0]lr=LinearRegression().fit(x.reshape(-1,1),y)#斜率slope=lr.coef_[0]#决定系数R2r_squared=lr.score(x.reshape(-1,1),y)#得分score=10000*slope*r_squaredreturnscore#斜率计算长度N=25#计算每日涨跌幅和得分fornameinname_list:data['日收益率_'+name]=data[name]/data[name].shift(1)-1.0data['得分_'+name]=data[name].rolling(N).apply(lambdax:calculate_score(x,N))#去掉缺失值data=data.dropna()data[['得分_'+vforvinname_list]].head(10)在强弱得分计算当中，有两点要补充说明，一是在斜率计算时，要每次都对收盘价序列“归一化”，因为ETF的数值范围不一样，会导致即使相同走势，斜率也不一样，比如说，序列y1=[1,2,3,4]和y2=[2,4,6,8]分别都对x=[1,2,3,4]求斜率，前者的斜率值是1，后者是2，其实它们的走势都是一样的，涨幅也是一样的。二是计算强弱得分求乘积时，乘以了系数10000，那个只是为了让数值“好看”一些，更像是得分的范畴，横截面比较，同时都乘以一个任意正实数，都不影响排序。之前是按照区间涨幅排序，现在是改为强弱得分排序，重新回测一遍，记得第4步信号生成与回测中的“涨幅”要改为“得分”。从结果图中看出，改进策略2在改进策略1的基础上又取得了进一步的提升，累计收益率从十年10倍提升到了十年14倍，年化收益率从18.69%提升到了21.23%，夏普率从1.19提升到了1.34，关键是最大回撤从30.3%下降到了27.64%，比基准的回撤还要低了。为了更直观地对比改进结果，咱把原始策略、改进策略1和改进策略2都放在一张图里面进行展示，绩效对比一目了然。五、总结和补充说明咱戴上头盔撸起袖子终于吭哧吭哧干完了，走通了从零开始构建轮动策略的全流程，并且进行了两番改进，从十年2.6倍提升到了十年14.8倍，虽然效果看起来很不错，但仍然存在一些不足。一是为了方便回测，是按照当日收盘价计算信号并且按收盘价交易的，虽然这在实际当中可以在尾盘近似实现，但依然会存在差距。二是在回测当中并没有考虑滑点和费率，这也是为了方便回测当中的计算。三是候选池的选取，这也是所有轮动策略中最大玄学部分的存在，像改进策略1一样，候选池选对了，年化收益直接翻倍，你可以将本文当中所有候选池的选取都当做是我的主观臆断，后面存在失效的可能。本回答主要还是让大伙儿快速感受和上手轮动策略的构建过程，有好的idea了，可以快速地进行回测，验证思路，如果有惊艳的结果产生，仍需细细验证，有什么到不到的地方，望大伙儿多多包涵！关于不足之处的修正，可以看这篇文章，相当于是本文的延续。quantkoala：换了量化平台，重新回测，还是十年10倍参考资料中泰证券，2022.08，《资产配置深度报告：重新认识美林时钟》湘财证券，2022.04，《综合评价模型在ETF行业配置上的应用：基于动量策略在行业轮动中的应用研究》湘财证券，2023.03，《基于动量和反转的行业轮动策略》更多相关内容更多相关资料请见下方文章卡片，另外还有一个持续更新的量化公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：量化交易野路子：菜场大妈选股策略（10年100倍）quantkoala：复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：量化大神在萌新期是如何找到众多量化因子的？quantkoala：36分钟，6万次报撤单，1手委托亏损400万，量化交易实盘中潜在的那些坑quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/3156342205",
        "comment_count": 0,
        "voteup_count": 112,
        "question_title": "http://www.zhihu.com/api/v4/questions/21469608",
        "question_url": "有人在中国尝试过动量（momentum）交易策略吗？效果怎么样？"
    },
    "3138383627": {
        "created_time": 1690469075,
        "content": "先说低频策略个人维护起来不难，年化收益20%是高是低那就是见仁见智，未来的我不知道，但今年表现亮眼，过去10年100倍收益的野路子量化策略我见过，看策略名字就知道不是券商机构出品，就是个人宽客开发的，而且极其适合个人小资金操作，1w块就可以起步向前冲！事情是这个样子滴，最近在各个量化社区里面瞎转悠，发现有一类策略在个人宽客那里玩得飞起，那就是“大妈类”策略，有菜场大妈，还有皇城大妈、正黄旗大妈、通天纹大妈等，其中以菜场大妈的变种和衍生最多。虽然这类名字听起来非常“民科”，一股野路子的味道扑面而来，但看过核心的策略思路后，个人感觉还是存在一定的底层逻辑，对于量化萌新来说是一种性价比非常高的入门策略，逻辑简单代码少，思路清晰收益高。目前从公开的资料看，菜场大妈的核心策略思想是聚宽社区『开心果』大神最先提出，虽然那篇帖子已经被作者删除了，但之前保存下源码的宽客延续了这个策略的生命，出现了各种“魔改”，将策略发扬光大。为啥这些策略名字里面都含有“大妈”呢？我说一个梗大伙儿就明白了。如果你去菜市场买菜时，觉得自己的砍价能力不够出色，或者抹不开面子去砍价，那么有一个土法子非常管用，那就是跟在一个同在市场买菜的大妈后面，等大妈酣畅淋漓砍完价后，你立马凑到摊主跟前，说“这青菜我也来两斤”，划算又实惠，干净又卫生。如果把买股票类比成买菜，那菜场大妈的核心技能就是总能买到“性价比高”的股票，也就是质量好、价格便宜。于是乎，目前主流菜场大妈策略最核心的选股思路归结起来就七个字：质好价低市值小，下面具体展开唠唠。质好，就是筛选质量好、基本面好的股票。最初的版本只使用了“股息率”这个因子，能真金白银分红的企业应该不会差到哪里去，后来的改进版本当中，为了筛选更优质的股票，逐步加入了“PEG”(市盈率相对盈利增长比率)等因子。价低，就是筛选质好股票中价格低的股票，最初的版本中是股价不能超过9元，“9元”这个设置除了测试效果好之外，还有一个好处就是，正是方便小资金的个人宽客使用该策略，买入1手股票加上交易费用和滑点，最多才900块出头，选股10支，还不到1w，真的是非常滴亲民接地气。后来改进的版本当中就出现了动态的股价阈值，也就是不使用固定的股价数额了，而使用当时的分位价格，例如股价要比全市场80%的股票都要低。市值小，顾名思义，也就是筛选出前两步“质好价低”中市值最小的N支股票，作为最终的目标持仓。你瞧，虽然策略的名称看起来很俗气，但却利用了两个被金融专家孜孜不倦研究的金融异象——小市值和低价股。小市值就不用我过多介绍了，那是A股过去十几年来总体收益贡献最大的一类因子，早在Fama-French三因子定价模型中就已经提及，虽然不是一直都有效，但不可忽视它的整体收益贡献。小市值的“溢价”来源主要有3方面：1)壳价值；2)小票的成长性更好；3)散户主导市场的投机氛围。当初的壳价值随着注册制的全面推行已经非常弱化，目前主要还是因为A股的投资者结构导致小票更容易被炒作，获得流动性溢价，但针没有两头尖，甘蔗也没有两头甜，小票跌起来也是非常要命的。另一个金融异象就是低价股，这也跟小市值一样，不单单是A股，国内外都存在这个现象，最著名的例子之一就是：七十多年以前，美国投资大师约翰·坦伯顿用借来的一万美元买入一百多支1美元以下的低价股，在这四年之后，他将这些股票全部卖出，赚回了3倍的收益，那也是他投资生涯的第一桶金。低价股的“溢价”来源就没有小市值的那么明确了，可能的来源也是有3个，分别是低估值、低质量和个人投资者的价格幻觉，进一步详细的说明大伙儿可以看招商证券金工团队的研究《A股低价股溢价效应及其成因解析》，对了，小市值的可以看东方证券团队的《A股小市值溢价的来源》。菜场大妈选股策略的思路和原理唠完了，是骡子是马时候牵出来遛遛了，策略回测绩效如下，第一个收益曲线图是普通轴，也就是平常一般看的收益率，第二个是对数轴，方便对比策略和基准的收益趋势。回测时间范围是近10年，也就是从2013年至今，取得了10年将近140倍的收益，年化收益是62.34%，夏普率是2.25，最大回撤为30.88%，作为一个简单的入门级策略，这个收益情况算是不错的了。这里补充说明的是，在质好方面，同时使用了股息率和PEG因子；在价低方面，除了最高限价9元之外，由于A股最新的“面值1元退市”规则，加入了最低限价2元，也就是股价要在2~9元之间；每个月第一个交易日调仓，剔除ST、停牌、涨跌停等股票之后，最终选择符合质好价低条件市值最小的10支股票，等权分配资金，正常费率含最低5元。不过先不要高兴太早，上面的回测当中我还没有加入滑点，只是模拟一种最理想的交易情况，特别是对于低价股而言，滑点有时候是一个非常致命的因素，这方面的详细说明可以看之前的文章《5年收益曾狂飙131倍，没有未来函数，\"圣杯\"背后却有这样的bug》。在这里，可以放开一些，加入1%的滑点，再重新回测一遍，回测绩效如下所示。策略总收益就从140倍下降到了97倍，看上去下降得非常多，但实际策略年化收益只从62.34%下降到了56.70%，因为月频调仓，交易频率不高，滑点造成的收益下降有限，可以从侧面看出复利效应是多么的厉害和诱人。夏普率也下降到了2.03，最大回撤也扩大到了31.19%，虽然出现了明显的下降，但对于入门级策略来说，依旧是一个非常亮眼的数据。那咱再来看看今年的表现如何，回测时也是加入了滑点。PS：本文『菜场大妈量化选股策略』试验源码、使用说明和异象研报已分享至『量化藏经阁』和『量化藏经阁Max』社群内，群友请在社群量化兵器库原路径中自取。菜场大妈选股策略年初至今的表现非常亮眼，虽然说5月份之前总体跑输了，但两个月的时间一下子就追回来了，跑赢了基准37%。其实这也是大妈类策略关注度提高的原因，都是被目前亮眼的数据吸引过来的。这里只是说了菜场大妈选股策略的主流基础玩法，留有很多改进方向待大侠们魔改，例如：（1）更多更有效的基本面筛选因子组合。（2）对持仓中涨跌停等特殊股票的特殊处理和之后的空闲资金再利用。（3）大妈类策略不是机构的主流策略，因为承载不了那么多资金，更适合个人宽客使用，并且鉴于小市值和低价股的溢价来源，可以在基础池中进一步剔除机构持股比例和分析师跟踪比例比较高的个股。纯粹只是个人猜想，抛砖引玉，回见~更多相关资料请见下方文章卡片，另外还有一个持续更新的量化公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：量化大神在萌新期是如何找到众多量化因子的？quantkoala：36分钟，6万次报撤单，1手委托亏损400万，量化交易实盘中潜在的那些坑quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/3138383627",
        "comment_count": 5,
        "voteup_count": 95,
        "question_title": "http://www.zhihu.com/api/v4/questions/270964258",
        "question_url": "个人维护一个20%收益的低频量化策略，难度有多大?现实吗？"
    },
    "3117490091": {
        "created_time": 1689257776,
        "content": "看到这个提问，情不自禁地想起最近看到的一个“野路子”量化选股策略，都用不着2w，持仓10支票，1w块都还有找零，不仅本金小，碰上好行情收益可不小，请听我细细道来~~~事情是这个样子滴，最近在各个量化社区里面瞎转悠，发现有一类策略在个人宽客那里玩得飞起，那就是“大妈类”策略，有菜场大妈，还有皇城大妈、正黄旗大妈、通天纹大妈等，其中以菜场大妈的变种和衍生最多。虽然这类名字听起来非常“民科”，一股野路子的味道扑面而来，但看过核心的策略思路后，个人感觉还是存在一定的底层逻辑，对于量化萌新来说是一种性价比非常高的入门策略，逻辑简单代码少，思路清晰收益高。目前从公开的资料看，菜场大妈的核心策略思想是聚宽社区『开心果』大神最先提出，虽然那篇帖子已经被作者删除了，但之前保存下源码的宽客延续了这个策略的生命，出现了各种“魔改”，将策略发扬光大。为啥这些策略名字里面都含有“大妈”呢？我说一个梗大伙儿就明白了。如果你去菜市场买菜时，觉得自己的砍价能力不够出色，或者抹不开面子去砍价，那么有一个土法子非常管用，那就是跟在一个同在市场买菜的大妈后面，等大妈酣畅淋漓砍完价后，你立马凑到摊主跟前，说“这青菜我也来两斤”，划算又实惠，干净又卫生。如果把买股票类比成买菜，那菜场大妈的核心技能就是总能买到“性价比高”的股票，也就是质量好、价格便宜。于是乎，目前主流菜场大妈策略最核心的选股思路归结起来就七个字：质好价低市值小，下面具体展开唠唠。质好，就是筛选质量好、基本面好的股票。最初的版本只使用了“股息率”这个因子，能真金白银分红的企业应该不会差到哪里去，后来的改进版本当中，为了筛选更优质的股票，逐步加入了“PEG”(市盈率相对盈利增长比率)等因子。价低，就是筛选质好股票中价格低的股票，最初的版本中是股价不能超过9元，“9元”这个设置除了测试效果好之外，还有一个好处就是，正是方便小资金的个人宽客使用该策略，买入1手股票加上交易费用和滑点，最多才900块出头，选股10支，还不到1w，真的是非常滴亲民接地气。后来改进的版本当中就出现了动态的股价阈值，也就是不使用固定的股价数额了，而使用当时的分位价格，例如股价要比全市场80%的股票都要低。市值小，顾名思义，也就是筛选出前两步“质好价低”中市值最小的N支股票，作为最终的目标持仓。你瞧，虽然策略的名称看起来很俗气，但却利用了两个被金融专家孜孜不倦研究的金融异象——小市值和低价股。小市值就不用我过多介绍了，那是A股过去十几年来总体收益贡献最大的一类因子，早在Fama-French三因子定价模型中就已经提及，虽然不是一直都有效，但不可忽视它的整体收益贡献。小市值的“溢价”来源主要有3方面：1)壳价值；2)小票的成长性更好；3)散户主导市场的投机氛围。当初的壳价值随着注册制的全面推行已经非常弱化，目前主要还是因为A股的投资者结构导致小票更容易被炒作，获得流动性溢价，但针没有两头尖，甘蔗也没有两头甜，小票跌起来也是非常要命的。另一个金融异象就是低价股，这也跟小市值一样，不单单是A股，国内外都存在这个现象，最著名的例子之一就是：七十多年以前，美国投资大师约翰·坦伯顿用借来的一万美元买入一百多支1美元以下的低价股，在这四年之后，他将这些股票全部卖出，赚回了3倍的收益，那也是他投资生涯的第一桶金。低价股的“溢价”来源就没有小市值的那么明确了，可能的来源也是有3个，分别是低估值、低质量和个人投资者的价格幻觉，进一步详细的说明大伙儿可以看招商证券金工团队的研究《A股低价股溢价效应及其成因解析》，对了，小市值的可以看东方证券团队的《A股小市值溢价的来源》。菜场大妈选股策略的思路和原理唠完了，是骡子是马时候牵出来遛遛了，策略回测绩效如下，第一个收益曲线图是普通轴，也就是平常一般看的收益率，第二个是对数轴，方便对比策略和基准的收益趋势。回测时间范围是近10年，也就是从2013年至今，取得了10年将近140倍的收益，年化收益是62.34%，夏普率是2.25，最大回撤为30.88%，作为一个简单的入门级策略，这个收益情况算是不错的了。这里补充说明的是，在质好方面，同时使用了股息率和PEG因子；在价低方面，除了最高限价9元之外，由于A股最新的“面值1元退市”规则，加入了最低限价2元，也就是股价要在2~9元之间；每个月第一个交易日调仓，剔除ST、停牌、涨跌停等股票之后，最终选择符合质好价低条件市值最小的10支股票，等权分配资金，正常费率含最低5元。不过先不要高兴太早，上面的回测当中我还没有加入滑点，只是模拟一种最理想的交易情况，特别是对于低价股而言，滑点有时候是一个非常致命的因素，这方面的详细说明可以看之前的文章《5年收益曾狂飙131倍，没有未来函数，\"圣杯\"背后却有这样的bug》。在这里，可以放开一些，加入1%的滑点，再重新回测一遍，回测绩效如下所示。策略总收益就从140倍下降到了97倍，看上去下降得非常多，但实际策略年化收益只从62.34%下降到了56.70%，因为月频调仓，交易频率不高，滑点造成的收益下降有限，可以从侧面看出复利效应是多么的厉害和诱人。夏普率也下降到了2.03，最大回撤也扩大到了31.19%，虽然出现了明显的下降，但对于入门级策略来说，依旧是一个非常亮眼的数据。那咱再来看看今年的表现如何，回测时也是加入了滑点。PS：本文『菜场大妈量化选股策略』试验源码、使用说明和异象研报已分享至『量化藏经阁』和『量化藏经阁Max』社群内，群友请在社群量化兵器库原路径中自取。菜场大妈选股策略年初至今的表现非常亮眼，虽然说5月份之前总体跑输了，但两个月的时间一下子就追回来了，跑赢了基准37%。其实这也是大妈类策略关注度提高的原因，都是被目前亮眼的数据吸引过来的。这里只是说了菜场大妈选股策略的主流基础玩法，留有很多改进方向待大侠们魔改，例如：（1）更多更有效的基本面筛选因子组合。（2）对持仓中涨跌停等特殊股票的特殊处理和之后的空闲资金再利用。（3）大妈类策略不是机构的主流策略，因为承载不了那么多资金，更适合个人宽客使用，并且鉴于小市值和低价股的溢价来源，可以在基础池中进一步剔除机构持股比例和分析师跟踪比例比较高的个股。纯粹只是个人猜想，抛砖引玉，回见~更多相关资料请见下方文章卡片，另外还有一个持续更新的量化公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：量化大神在萌新期是如何找到众多量化因子的？quantkoala：36分钟，6万次报撤单，1手委托亏损400万，量化交易实盘中潜在的那些坑quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/3117490091",
        "comment_count": 8,
        "voteup_count": 135,
        "question_title": "http://www.zhihu.com/api/v4/questions/436291669",
        "question_url": "有适合于2万元（人民币）以内小资金的股票量化策略吗？"
    },
    "3089883071": {
        "created_time": 1687704830,
        "content": "机器学习在量化交易当中已经有非常丰富的研究和应用了，我也腆着脸来说说自己之前在这方面的探索，从零开始走通基于机器学习的量化指数择时模型的开发全流程。零.机器学习，浅尝一下人类发现规律一般采用的是归纳演绎法，对观察到的大量现象进行归纳，在心中形成规律，然后再遇到类似的情况，就可以迅速做出预测和判断，比如说“朝霞不出门，晚霞行千里”、“瑞雪兆丰年”、“狗打喷嚏天要晴”，这都是老祖先归纳演绎法的结晶，可能不是每回都灵验。机器学习和人类的思考过程非常相似，把历史数据输入到模型当中，训练出一个能完成特定任务的数学模型，等到有新的数据出现时，就把新数据输入到训练好的模型当中，这就会输出一个预测的结果，特别地，机器学习在识别非线性规律方面，相较于人脑更有优势。具体结合咱这次的目标进行说明，咱这次的任务就是利用机器学习模型，预测沪深300指数第二天的涨跌情况，输入的数据就是沪深300指数的开高低收行情数据，将这些数据输入到支持向量机（SupportVectorMachine，SVM）当中进行模型训练，待SVM训练好之后，输入今天的行情数据，就能输出对第二天行情的预判。为什么选择SVM呢？因为咱这次使用的数据集是沪深300指数的日线行情数据，它自2005年上市以来，拢共才四千多个交易日，换句话说，也才四千多个样本点，相对于几百万上千万的“大数据”来说，这充其量才算一个“小样本”，这无疑是一个非常适合SVM的应用场景。因为在深度学习（一般需要大数据“投喂”）尚未全面兴起时，SVM由于其较高的小样本预测准确率，并且能够解决非线性分类问题，属于当时机器学习方法潮流圈中的扛把子。SVM很能打，但本身并不是非常复杂，今儿个不抠数学细节，大白话讲讲SVM是什么有什么用，以免没开始就把大伙儿劝退了。SVM最初的设计是用来解决二分类问题，后来扩展到多分类问题，“预测沪深300指数涨跌”就属于典型的二分类问题，“涨”是一个类别，“跌”就是另一个类别。它通过寻找一个最大间隔超平面（上图黑斜线）将两类样本线性区分开来，并且保证两侧样本的最近边缘点到这个平面的距离是最大的，由于最大间隔超平面仅取决于两个类别的边缘点，例如上图中被红线和蓝线穿过的红点和蓝点，这些点就被称为支持向量，这就是“支持向量机”名称的由来。但现实世界很奇妙，有线性可分的数据集，就有非线性可分的数据集，那遇到非线性可分的情况怎么办？那也有办法，SVM引入了核函数，可以将低维不可分的数据映射到高维线性可分，如上图，二维不可分就映射到三维，常用的核函数有线性核、多项式核、高斯核（RBF核）和Sigmoid核。但在现实当中，由于噪声和极端样本点的存在，数据集无论在低纬和高维都可能出现线性不可分的情况，于是乎，SVM当中引入了松弛变量的概念，允许了最大间隔超平面不用完美区分两个类别，允许错误分类的存在，SVM通过惩罚系数C控制这些错误分类的容忍程度，C值越高分类准确率越高，但数值过高容易导致过拟合，C值过低则会导致准确率受损。SVM唠完了，咱来说说一般机器学习建模的流程，一般分为6步走，按照先后顺序分别是收集数据、准备数据、选择/建立模型、训练模型、测试模型和调节参数。量化，没有白走的路，每一步都算数，下文咱一步一步地走一遍~一.收集数据巧妇难为无米之炊，第一步咱要获取到最原始的建模数据，对于指数的日线数据而言，有非常多的免费获取渠道，只要能获取到指数的日期（date）、开盘价（open）、最高价（high）、最低价（low）和收盘价（close）就可以了。在此处以tushare为例，获取沪深300指数自2005年4月8日上市以来的全部行情数据，它是一个免费、开源的python财经数据接口包，网址是：http://tushare.org/。导入tushare包之后，使用它的get_k_data函数，就可以获得沪深300指数的历史K线数据，返回的数据格式是dataframe，咱只选取开高低收数据，并将日期（字符串格式）设置为索引。importnumpyasnpimportpandasaspdimporttalibimportwarningswarnings.filterwarnings('ignore')importtushareastsdata=ts.get_k_data(code='hs300',start='2005-04-08',end='2022-11-08',ktype='D')data=data.set_index('date')data=data[['open','high','low','close']]print('样本数目：%d'%data.shape[0])print(data.head(10))print(45*'-')print(data.tail(10))二.数据准备有了原始数据之后，咱还要进一步进行加工和处理，主要工作是变量选择、确认标签和数据清洗。变量选择在量化投资当中叫“因子选择”，就是用哪些因子（factor）进行选股择时那些，在机器学习领域一般叫“特征选择”，指定用哪些特征（feature）来作为算法模型的输入。在这里咱用到因子分别是EMA值（ema）、价格波动率（stddev）、价格斜率（slope）、RSI值（rsi）和威廉指标值（wr），此处咱利用talib包丝滑地完成计算，它是一款量化圈驰名、彪悍强大的第三方技术分析指标计算包。data['ema']=talib.EMA(data['close'].values,timeperiod=20)data['stddev']=talib.STDDEV(data['close'].values,timeperiod=20,nbdev=1)data['slope']=talib.LINEARREG_SLOPE(data['close'].values,timeperiod=5)data['rsi']=talib.RSI(data['close'].values,timeperiod=14)data['wr']=talib.WILLR(data['high'].values,data['low'].values,data['close'].values,timeperiod=7)data.tail(10)确认标签呢，就是给这个样本点打上类别标签，由于咱是预测指数第二天的涨跌情况，于是，咱先计算出每个样本第二天的涨幅（pct），如果第二天上涨，则设置标签（rise）为1，反之为0。由于指数数据一般异常情况不是很多，如果有空值，咱把空值删除就好了。data['pct']=data['close'].shift(-1)/data['close']-1.0data['rise']=data['pct'].apply(lambdax:1ifx&gt;0else0)#删除缺失值data=data.dropna()data.tail(10)三.选择/建立模型选择/建立模型就是需要确定自己这次使用哪种机器学习模型，是支持向量机SVM呢，还是神经网络NN呢，亦或是随机森林RF呢，或者其他的模型。在之前已经说过了，咱是用SVM模型，原因和原理不再赘述，为了方(tou)便(lan)实现和建立模型，咱可以直接从Scikit-learn（简称sklearn）中导入，它是非常流行的Python免费机器学习库，具有各种分类、回归和聚类算法，一般配合numpy数据格式使用。四.训练模型在这里，咱需要把整个数据集分拆为训练集和测试集，因为除了训练模型之外，咱还要留出一部分数据来验证训练出来模型的优劣。一般来说，将完整数据集80%的样本作为训练集，剩余20%的样本作为测试集，要注意的是，这里要将dataframe中的因子数据转换成numpy的ndarray数组格式，因为这种数据类型更适配sklearn。#划分训练集和测试集num_train=round(len(data)*0.8)data_train=data.iloc[:num_train,:]data_test=data.iloc[num_train:,:]#训练集数据和标签X_train=data_train[['ema','stddev','slope','rsi','wr']].valuesy_train=data_train['rise']#测试集数据和标签X_test=data_test[['ema','stddev','slope','rsi','wr']].valuesy_test=data_test['rise']print(X_train[:10])print(45*'-')print(X_test[:10])在划分数据集之后，还有非常重要的一步，那就是对数据进行标准化处理，这是因为每个因子的数值量纲差别太大，例如指数EMA的均值是2919.6，而RSI的均值是52.7，这样会造成SVM对某些因子的“偏心”。在此处，采用“(原始值-均值)/标准差”的方法对数据进行标准化处理，处理过后，每个因子的均值都会变为0，标准差变为1.0。fromsklearn.preprocessingimportStandardScalerprint('---标准化之前---')print('训练集的均值：')print(X_train.mean(axis=0))print('训练集的标准差：')print(X_train.std(axis=0))#对数据进行标准化scaler=StandardScaler()X_train=scaler.fit_transform(X_train)X_test=scaler.transform(X_test)print('---标准化之后---')print('训练集的均值：')print(X_train.mean(axis=0))print('训练集的标准差：')print(X_train.std(axis=0))数据标准化处理之后，就可以将训练集数据输入SVM当中，代码实现很简单，从sklearn的svm模块当中导入SVM分类器SVC，创建实例对象后，将训练集因子数据和对应标签塞进fit函数就行了，SVM模型的惩罚系数使用默认值1.0，核函数也用默认的RBF核函数，训练过程非常快，不用一个东的时间，就把SVM分类器训练好了。fromsklearn.svmimportSVCclassifier=SVC(C=1.0,kernel='rbf')classifier.fit(X_train,y_train)print(classifier)五.测试模型至此，SVM分类器已经训练好了，把因子数据塞进predict函数，就能输出每个样本的预测值，咱分别把训练集和测试集的预测标签插回到原来的数据集当中，用来计算预测的准确率。y_train_pred=classifier.predict(X_train)y_test_pred=classifier.predict(X_test)data_train['pred']=y_train_preddata_test['pred']=y_test_predaccuracy_train=100*data_train[data_train.rise==data_train.pred].shape[0]/data_train.shape[0]accuracy_test=100*data_test[data_test.rise==data_test.pred].shape[0]/data_test.shape[0]print('训练集预测准确率：%.2f%%'%accuracy_train)print('测试集预测准确率：%.2f%%'%accuracy_test)输出结果：训练集预测准确率：57.52%测试集预测准确率：52.35%从结果当中看出，训练集的预测准确率明显比测试集的高，这是因为整个模型都是在训练集数据上训练出来的，对测试集数据则还很“陌生”，这就相当于高考数学考卷都是你们学校的数学老师出的，整体来看，你们的平均分就非常可能比其他同级别的学校高。光看准确率还不够直观，咱还要看一下如果纯粹按照这个择时模型的预测结果进行投资，能获得多少收益，此处只使用测试集进行模拟。假设指数可以多空交易，如果模型预测为1（上涨），第二天策略的收益率就是指数的涨幅，如果模型预测为0（下跌），第二天策略的收益率就是指数的涨幅的相反数，有了每天的日收益率之后，通过dataframe自带的累乘函数cumprod，就可以得到择时策略和沪深300指数的净值曲线，为了方(tou)便(lan)起见，不考虑交易费率，以及按照收盘价成交。importmatplotlib.pyplotasplt#策略日收益率data_test['strategy_pct']=data_test.apply(lambdax:x.pctifx.pred&gt;0else-x.pct,axis=1)#策略和沪深300的净值data_test['strategy']=(1.0+data_test['strategy_pct']).cumprod()data_test['hs300']=(1.0+data_test['pct']).cumprod()#粗略计算年化收益率annual_return=100*(pow(data_test['strategy'].iloc[-1],250/data_test.shape[0])-1.0)print('SVM沪深300指数择时策略的年化收益率：%.2f%%'%annual_return)#将索引从字符串转换为日期格式，方便展示data_test.index=pd.to_datetime(data_test.index)ax=data_test[['strategy','hs300']].plot(figsize=(16,9),color=['SteelBlue','Red'],title='SVM沪深300指数择时策略净值by量化君')plt.show()六.调节参数从上一步的测试当中看出，训练集和测试集的预测准确率只有57%和52%，不算理想，说明还有很大的提升空间，还可以对模型进行优化改进。比如说，现在使用的5个因子，还没有反应到价格波动的本质，还可以增改更多的因子。还比如说，SVM模型当中的惩罚系数C过小，对错误样本的容忍度过高，RBF核函数不适合作为这个数据集的映射转换函数。再比如说，甚至连SVM模型本身也是一个参数，也可以更改，比如说可以换成其他的机器学习分类模型。也就是说到这调节参数这一步，如果训练好的模型结果不能让自己满意，就可以重新将前5步走一遍。咱终于吭哧吭哧走完了，利用机器学习构建量化择时策略的全流程，相信大伙儿对机器学习相关概念和建模流程也有了初步的了解，基于这个建模框架流程，将来的你可以玩得更花，可以采用更高频的数据、更鲁棒的模型、更多的交易标的、更有效的因子、更有趣的预测任务，以及~~~遇见更好的自己。参考资料周志华，2016年1月，书籍《机器学习》华泰金工，2017年8月，研报《人工智能选股之支持向量机模型》阿泽，2020年6月，知乎《【机器学习】支持向量机SVM（非常详细）》更多相关资料更多相关资料请见下方文章卡片，另外还有一个周更的量化公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：量化大神在萌新期是如何找到众多量化因子的？quantkoala：36分钟，6万次报撤单，1手委托亏损400万，量化交易实盘中潜在的那些坑quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/3089883071",
        "comment_count": 2,
        "voteup_count": 14,
        "question_title": "http://www.zhihu.com/api/v4/questions/534980414",
        "question_url": "机器学习在量化交易上有应用吗，效果怎么样？"
    },
    "3070797506": {
        "created_time": 1686574826,
        "content": "面对这种“量化交易员单干赚钱更多”疑惑时，以前也会乱七八糟说很多，就算是些个人偏见吧，总结下来，策略有效就出去单干且大概率成功的，至少要同时满足以下4个前提。（1）自身资金充足；（2）策略长期稳定有效；（3）策略能独立维护和持续开发；（4）自己大心脏能折腾，并且忍受孤独。但凡其中缺一个前提的话，从理性人角度出发，还是先老老实实呆在私募较为稳妥。不过也有特例，就是4点都同时具备还呆在私募的人也有，后面会补充说明，现在逐个要点开始唠唠。一、自身资金不够充足别说是量化，就是其他行业，大部分人去工作还不是因为没有资本因为穷，才依靠出卖自身劳动力赚取工资养活自己的，除了养活自己，还要慢慢积攒单干的本金。很多量化策略的使用跟资金量有关，比如传统的量化对冲策略，做多一揽子股票，同时做空等市值的股指期货，现在一手股指期货的市值就是上百个W，即使考虑到保证金制度，整个策略最低的启动门槛都是一百多W。这是很多普通人都不能一下子拿出来的数字，所以还要慢慢积攒本金，还要积攒未来失去工资时的生活费，这就是他们还在私募上班的表象。即使攒够本金后，也未必会马上单干，还要看在哪里赚的多，比如终于攒够200w，以年化50%计，来年盈利100w，但是私募给你管一个小目标的盘子，规模提高，收益打个八折，算年化40%，4000w，只要老板良心不是被狗吃了的话，保底给你分个200w业绩提成还是有的，这不比自己单干强，而且还省心省力。二、策略不确定是否长期有效量化策略回测效果很好，今年实盘赚翻了，觉得自己成了，就想跑出去单干，兄dei，你这种想法很危险哦。众所周知，“圣杯”就跟人们口中的“鬼”一样，听得多，见得少，任何策略都有回撤期，最终都会走向失效。很多量化交易员都不知道现在赚的钱是靠实力还是运气呢，是刚好碰到行情策略大年，一路高歌猛进，还是策略完美诠释了市场微观结构底层逻辑，一飞冲天呢。他们整天跟数理统计打交道，各个都是理性人in贤者时间，如果面对已经赚飞了的策略还心里打鼓的话，保守的做法还是要再观察一段时间，用别人的真金白银验证自己的策略，过瘾呐~三、策略不能独立维护或持续开发18世纪时，亚当斯密就在《国富论》里面提到，生产力的提高，劳动者表现出更大的熟练度、技巧和判断力，是分工的结果。在大机构里面，量化交易员也只是一颗螺丝钉，策略只是整个量化交易链条当中的一环，一个策略的顺利运行，需要依靠行情/基本面数据、回测/实盘系统、算法执行等软硬件全方位的配合。能不能单干，就看能不能成为全栈型选手，复现出策略的运行环境，或者将原始策略移植到个人可控的环境下。不仅要维护好原始策略的运行，还要不断持续迭代旧策略和开发新策略，自己只擅长弄策略逻辑，不擅长数据管理或量化系统的维护的话，还要找第三方帮忙，靠谱的一年也要好几十万，扣除这些成本，再看看自己的策略盈利还香不香了。四、不喜欢瞎折腾和忍受孤独一个人单枪匹马将策略搞好，那是全栈型人才了，也意味着啥鸡毛蒜皮的破事儿都要管，但凡一个小细节没有注意到，就可能带来重大亏损，比如之前说的一个交易制度细节没跟上，一手期货亏了400w，详见《36分钟，6万次报撤单，1手委托亏损400万，量化交易实盘中潜在的那些坑》。失去了稳定的工资，还不能摸鱼了，事事劳心劳力费心费力，对个人的心力管理要求非常高，心理素质差一点的很容易就emo了，特别是自己创业或创过业的小伙伴应该明白我在说什么。交易者都是孤独的，量化交易员也不例外，而且这还附加了物理上的孤独，原来在公司，还有一群同事可以交流和调侃，甚至还可以甩锅，现在只有一个人“闭门造车”，眼界收窄，容易走偏。所以很多喜欢稳稳安全感，或是想继续学习经验、开阔眼界的量化交易员，就选择继续苟着了，直到对收益的渴望冲破安全感和眼界的枷锁。以上4点都是从收益多寡或是收益的持续性分析，量化交易员为啥不单干，还呆在私募里面的原因。这些都是理性人的物质因素，但人类是有情感的，还有精神需求的，即使他同时具备这4个前提，说不定他一样还是会选择继续继续呆在私募/机构里面，不去单干。打个比方说，他就是想呆在人群中，让人们簇拥着他叫“李总”，而不想悄咪咪闷声发大财、锦衣夜行；或者是他非常认同、崇拜和仰慕私募创始人，想风雨无阻、同舟共济，让老板画的饼将来能热腾腾端上桌；亦或是，他就是纯粹喜欢创始人/领导的妹妹，跟将来的大舅哥一家人在一起努力非常踏实，前途一片光明......更多相关资料请见下方文章卡片，另外还有一个坚持周更的量化公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：量化大神在萌新期是如何找到众多量化因子的？quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）",
        "url": "http://www.zhihu.com/api/v4/answers/3070797506",
        "comment_count": 9,
        "voteup_count": 25,
        "question_title": "http://www.zhihu.com/api/v4/questions/31045303",
        "question_url": "如果策略有效，量化交易员用自己的资金做交易不是可以赚很多钱吗，何必还去私募上班？"
    },
    "3044653933": {
        "created_time": 1685025920,
        "content": "信号处理当然可以运用于金融分析了，比方说国外有个叫JohnF.Ehlers的大神，专门就是用数字信号处理的方法做金融分析，开发量化交易的策略。我之前就复现过这个大神的一个策略，其中头一步就是利用数字信号处理（DSP）技术对价格时序序列去噪（SuperSmoother低通滤波），用在国内的品种上效果还可以，下面可以展开唠一唠，具体说说信号处理是怎么和金融量化结合的。这是在交易杂志《股票与商品技术分析》（《TechnicalAnalysisofStocksandCommodities》，业内简称“S&amp;C”）上，约翰•埃勒斯（JohnF.Ehlers）在2020年2月刊文章《Reflex:ANewZero-LagIndicator》当中提出的两个指标，分别是Reflex和Trendflex。咱先来唠唠这个Reflex~先说第一个指标为啥叫这名儿。纯粹因为作者曾经也爱好玩弓耍箭，这个指标构造出来也很像一张弓，reflex在英文里就是“反曲弓”的意思，这是一种弓箭类型，与直拉弓相对，在复仇者联盟里面，鹰眼使用的就是一张反曲弓，于是乎，老约翰拍大腿觉得这名儿酷毙了，让他回想起那青葱的岁月，连文章的配图也是一张拉满弦的弓。原文：Inamedthisnewindicator“reflex”becauseIusedtobeanarcher,andthecreationoftheindicatorremindedmeofabowandarrow.Reflexisakindofbowwithacoolname.扯过闲篇儿，正儿八经说说Reflex这个指标怎么构造吧，跟把大象塞进冰箱流程一个样，总共分3步走。Step1：首先对原始价格序列进行平滑处理，采用的是SuperSmoother过滤器。老约翰也是漂亮国量化界当中的翘楚了，非常善于用数字信号处理（DSP）技术对证券价格序列去伪存真，咱可以把SuperSmoother当成是一个低通滤波器就可以了，”过滤高频噪声，保留低频趋势“。他在2014年1月刊的文章《PredictiveAndSuccessfulIndicators》披露过SuperSmoother的计算细节，并通过试验证明SuperSmoother的去噪效果，比传统的指数移动均线EMA要好了不止一丢丢。Step2：从当前点位到N个周期的点位画一条直线，计算价格曲线上的点到直线上距离，然后计算出它们的平均值，记为S。学过微积分的小伙伴都清楚，这个将距离汇总的过程，就类似于积分求面积，跟我以前说的『K线面积交易法』很像，对总面积求均值，就相当于是求每个点到直线的平均距离。Step3：然后计算平均距离S平方的指数移动平滑值MS，最后将平均距离S除以平滑值的平方根，MS平滑的意图就是保证分母每日变化不要过大。T日MS=0.04*S*S+0.96*T-1日MSReflex=S/sqrt(MS)文章当中公布的Reflex完整版源码如下，量化平台是TradeStation，配套的编程语言是EasyLanguage，从名字就可以看出来，这款编程语言soeasy，TS平台在国外用的人还是很多的，之前介绍过的量化书籍，里面的指标和策略也都是基于这个平台。Reflex指标画出来的效果如下，当价格从低点上升的过程中，Reflex值是逐渐变大的，但是过了临界点之后，即使是价格仍处在上涨趋势当中，Reflex值也会变小，这个临界点的判断，简单来说，就是在step2当中，与N个周期前那个点的连线，是否和K线围成了更大的面积。了解完Reflex之后，弄清楚Trendflex那就是很简单的事情了，因为Trendflex是Reflex的兄弟版本，它们之间计算是相似的，最大的差别就在step2中平均距离的计算上，也就是红框当中的代码。Reflex是在当前点跟N周期之前的点连一条直线，而Trendflex是直接以当前点的价位画一条直线，从step2的计算细节来说，一般情况下，Trendflex的直线会与价格序列之间围出来更大的面积，而且直线的前N个点都是当前价位，随着价格的持续上涨，相对来说面积的变化程度没有Reflex那么大，特别是过了临界点之后，对趋势的保留更为明显。Trendflex指标画出来的效果如下，通过跟Reflex对比，可以看出，Trendflex在过了Reflex的临界点后，指标数值还是会随着价格上涨而增大，并且在之后会维持一个较为高位的数值。不过针没有两头尖的，有利就有弊，Trendflex相对来说比Reflex滞后。由于Trendflex对趋势的衡量较优，所以在股票期货和大饼圈等领域，使用Trendflex的人会相对多一点。老约翰在文章中只是详细阐明了这两个指标的来龙去脉，但没有说具体用法，各路宽客也只好八仙过海，各显神通了，没有先天约束，想怎么用就怎么用。我就举个用法栗子，说个策略大伙儿参考一下，从Trendflex与价格走势图可以看出来，在上涨阶段，Trendflex在上涨初期，数值是随着价格上涨不断增大的，但上涨的中后段数值可能是不升反降；下跌阶段也是如此，在下跌初期，Trendflex数值是随着价格下跌不断减小，但下跌的中后段数值可能是不降反升。因此，Trendflex非常适合作为趋势初期的捕捉指标，在Trendflex创区间新高时做多，创区间新低时做空，出场咱就使用动态止盈止损就可以了。新鲜的食材，往往只需要(chun)简(cui)单(shi)的(xiang)做(tou)法(lan)，咱就拿期货市场上，经常被折腾的小(R)白(B)鼠测试一下，净值曲线如下。PS：本策略源码已分享至『量化藏经阁』和『量化藏经阁Max』社群内，群友请在社群量化兵器库原路径中自取。看上去不是很惊艳，不是那种45度斜向上稳稳的曲线，但作为单品种单周期的朴素粗线条策略，我在上面还是看到了很多待挖掘的可能性，留待各位大神探索。更多量化内容更多相关资料请见下方文章卡片，另外还有一个坚持周更的量化公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：量化大神在萌新期是如何找到众多量化因子的？quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）",
        "url": "http://www.zhihu.com/api/v4/answers/3044653933",
        "comment_count": 0,
        "voteup_count": 98,
        "question_title": "http://www.zhihu.com/api/v4/questions/273995008",
        "question_url": "信号处理相关知识可以运用于金融分析吗？"
    },
    "3034300417": {
        "created_time": 1684421605,
        "content": "个人做量化交易当然是可行的了，君不见，大商超都存在这么久了，还有那么多小杂货铺，其中很多小店主都活得很滋润。在普通人的潜意识里，一提起机构就是镰刀，一提起个人就是韭菜，确实，机构相对于个人而言，会有资金人力、硬件设备和信息渠道等方面的优势，但个人量化交易者也并不是“一无是处”。针是没有两头尖的，总会有大商超大厂顾及不到的地方，相对于大机构而言，个人做量化交易，至少还有这3个小确幸。本金小，跑得快。个人的资金量一般不是特别大（相对于机构而言），这就意味着对市场的影响比较小，咱们的交易行为对市场不会起到很大的影响，也就是冲击成本比较小。在这种情况下，开发的量化策略就倾向于更加有效，不会因为容量的限制而失效，有些小策略有正向盈利预期，但大机构也是不稀得做。这就是为啥很多高频做得好的机构，也要开始做中低频了，因为高频容量确实有限，承载不了这么多的资金。监管宽松，风险偏好灵活。风险偏好可以根据自身的需求定制，自己设定自己的盈利预期，只要法律法规允许，想买什么买什么，不像大机构很多时候，这个不能买，那个不能买，当证券价格下跌到一定程度的时候，还得立马平仓，不管这是不是黎明前的黑暗，个人就没有那么弯弯绕，“逆势死扛，再创辉煌”。时间和业绩限制少。无论是私募基金，还是公募基金，都是以产品形式运营的，每个产品都设有投资期限，虽然现在都全面禁止保本保收益了，但机构做不出好业绩的话，私募来年募不到钱，公募排名垫底，都是影响活计的。个人如果用闲余资金做量化交易，做得好了，可以到处嘚瑟，做不好，捂着闷声亏钱就行了，不会有投资者给你打电话寄刀片；没有交易机会可以躺平，不像一些产品有仓位限制，即使预测市场下跌了，还得买买买。刚才苦口婆心说(xia)了(bian)这3点个人量化投资者的优势，发现没有，一直都是对标着量化机构，但咱做量化交易的目标是什么呢？是一定要比量化机构更强吗？个人愚见，量化交易更多是一种投资交易的分析手段，在投资交易当中，一定要做出决策，买什么，什么时候买，买多少，就连不想决策躺平本身也是一种决策，量化交易基于金融逻辑和历史数据，发现和验证交易理念，提高决策的胜率，让交易策略趋向于正收益预期。个人做量化交易并不需要打败大机构，而是提高自己的盈利胜率，跑赢那些拍脑袋、靠感觉、听消息的散户就可以了。现在很多大私募，开始的时候，核心量化团队只有一两个人，也许是幸存者偏差，但不能否定个人量化的靠谱存在。其实，量化跟视频赛道很像，在过去，科班的影视团队才有专业的摄影器材，拍出好看的电影电视剧等视频，现如今由于科技的进步，手机、数码照相机进入千家万户，极大的降低了个人视频制作者的门槛，君不见小破站上有那么多有趣有料的UP主，分享着众多的优质视频。导演有好的摄像机也会拍出烂片，UP主只有手机也可以拍出受观众喜爱的vlog，第三方量化平台和开源软件的兴起，和金融数据的低价优质化，正在催生更多的个人量化交易者，个人和机构一样都可以做量化，但个人和机构是不是能做好，都是要看个人和团队的能力，小鸡不撒尿，各有各的道。更多相关资料请见下方文章卡片，另外还有一个周更的公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：小白快速入门量化交易的推荐自学路径quantkoala：复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略",
        "url": "http://www.zhihu.com/api/v4/answers/3034300417",
        "comment_count": 0,
        "voteup_count": 22,
        "question_title": "http://www.zhihu.com/api/v4/questions/529408913",
        "question_url": "个人做量化交易是否可行呢？"
    },
    "3031154960": {
        "created_time": 1684252255,
        "content": "本人觉得机器学习在量化投资当中挺好用的嘛，开发出的量化策略至少在测试集里面表现比抛硬币好。既然人工智能/机器学习这么厉害，在其他领域都取得了丰硕的成果和巨大的成功，那么是不是可以帮助咱做量化，比如说让计算机帮咱预测市场大盘、选择和买卖股票/期货/外汇/大饼，解放双手，丰衣足食，岂不美哉？已经有非常多的机构开展这方面的研究和实践了，我也来说说自己之前在这方面的探索，机器学习在量化投资当中的应用，从零开始走通基于机器学习的量化指数择时模型的开发全流程。零.机器学习，浅尝一下人类发现规律一般采用的是归纳演绎法，对观察到的大量现象进行归纳，在心中形成规律，然后再遇到类似的情况，就可以迅速做出预测和判断，比如说“朝霞不出门，晚霞行千里”、“瑞雪兆丰年”、“狗打喷嚏天要晴”，这都是老祖先归纳演绎法的结晶，可能不是每回都灵验。机器学习和人类的思考过程非常相似，把历史数据输入到模型当中，训练出一个能完成特定任务的数学模型，等到有新的数据出现时，就把新数据输入到训练好的模型当中，这就会输出一个预测的结果，特别地，机器学习在识别非线性规律方面，相较于人脑更有优势。具体结合咱这次的目标进行说明，咱这次的任务就是利用机器学习模型，预测沪深300指数第二天的涨跌情况，输入的数据就是沪深300指数的开高低收行情数据，将这些数据输入到支持向量机（SupportVectorMachine，SVM）当中进行模型训练，待SVM训练好之后，输入今天的行情数据，就能输出对第二天行情的预判。为什么选择SVM呢？因为咱这次使用的数据集是沪深300指数的日线行情数据，它自2005年上市以来，拢共才四千多个交易日，换句话说，也才四千多个样本点，相对于几百万上千万的“大数据”来说，这充其量才算一个“小样本”，这无疑是一个非常适合SVM的应用场景。因为在深度学习（一般需要大数据“投喂”）尚未全面兴起时，SVM由于其较高的小样本预测准确率，并且能够解决非线性分类问题，属于当时机器学习方法潮流圈中的扛把子。SVM很能打，但本身并不是非常复杂，今儿个不抠数学细节，大白话讲讲SVM是什么有什么用，以免没开始就把大伙儿劝退了。SVM最初的设计是用来解决二分类问题，后来扩展到多分类问题，“预测沪深300指数涨跌”就属于典型的二分类问题，“涨”是一个类别，“跌”就是另一个类别。它通过寻找一个最大间隔超平面（上图黑斜线）将两类样本线性区分开来，并且保证两侧样本的最近边缘点到这个平面的距离是最大的，由于最大间隔超平面仅取决于两个类别的边缘点，例如上图中被红线和蓝线穿过的红点和蓝点，这些点就被称为支持向量，这就是“支持向量机”名称的由来。但现实世界很奇妙，有线性可分的数据集，就有非线性可分的数据集，那遇到非线性可分的情况怎么办？那也有办法，SVM引入了核函数，可以将低维不可分的数据映射到高维线性可分，如上图，二维不可分就映射到三维，常用的核函数有线性核、多项式核、高斯核（RBF核）和Sigmoid核。但在现实当中，由于噪声和极端样本点的存在，数据集无论在低纬和高维都可能出现线性不可分的情况，于是乎，SVM当中引入了松弛变量的概念，允许了最大间隔超平面不用完美区分两个类别，允许错误分类的存在，SVM通过惩罚系数C控制这些错误分类的容忍程度，C值越高分类准确率越高，但数值过高容易导致过拟合，C值过低则会导致准确率受损。SVM唠完了，咱来说说一般机器学习建模的流程，一般分为6步走，按照先后顺序分别是收集数据、准备数据、选择/建立模型、训练模型、测试模型和调节参数。量化，没有白走的路，每一步都算数，下文咱一步一步地走一遍~一.收集数据巧妇难为无米之炊，第一步咱要获取到最原始的建模数据，对于指数的日线数据而言，有非常多的免费获取渠道，只要能获取到指数的日期（date）、开盘价（open）、最高价（high）、最低价（low）和收盘价（close）就可以了。在此处以tushare为例，获取沪深300指数自2005年4月8日上市以来的全部行情数据，它是一个免费、开源的python财经数据接口包，网址是：http://tushare.org/。导入tushare包之后，使用它的get_k_data函数，就可以获得沪深300指数的历史K线数据，返回的数据格式是dataframe，咱只选取开高低收数据，并将日期（字符串格式）设置为索引。importnumpyasnpimportpandasaspdimporttalibimportwarningswarnings.filterwarnings('ignore')importtushareastsdata=ts.get_k_data(code='hs300',start='2005-04-08',end='2022-11-08',ktype='D')data=data.set_index('date')data=data[['open','high','low','close']]print('样本数目：%d'%data.shape[0])print(data.head(10))print(45*'-')print(data.tail(10))二.数据准备有了原始数据之后，咱还要进一步进行加工和处理，主要工作是变量选择、确认标签和数据清洗。变量选择在量化投资当中叫“因子选择”，就是用哪些因子（factor）进行选股择时那些，在机器学习领域一般叫“特征选择”，指定用哪些特征（feature）来作为算法模型的输入。在这里咱用到因子分别是EMA值（ema）、价格波动率（stddev）、价格斜率（slope）、RSI值（rsi）和威廉指标值（wr），此处咱利用talib包丝滑地完成计算，它是一款量化圈驰名、彪悍强大的第三方技术分析指标计算包。data['ema']=talib.EMA(data['close'].values,timeperiod=20)data['stddev']=talib.STDDEV(data['close'].values,timeperiod=20,nbdev=1)data['slope']=talib.LINEARREG_SLOPE(data['close'].values,timeperiod=5)data['rsi']=talib.RSI(data['close'].values,timeperiod=14)data['wr']=talib.WILLR(data['high'].values,data['low'].values,data['close'].values,timeperiod=7)data.tail(10)确认标签呢，就是给这个样本点打上类别标签，由于咱是预测指数第二天的涨跌情况，于是，咱先计算出每个样本第二天的涨幅（pct），如果第二天上涨，则设置标签（rise）为1，反之为0。由于指数数据一般异常情况不是很多，如果有空值，咱把空值删除就好了。data['pct']=data['close'].shift(-1)/data['close']-1.0data['rise']=data['pct'].apply(lambdax:1ifx&gt;0else0)#删除缺失值data=data.dropna()data.tail(10)三.选择/建立模型选择/建立模型就是需要确定自己这次使用哪种机器学习模型，是支持向量机SVM呢，还是神经网络NN呢，亦或是随机森林RF呢，或者其他的模型。在之前已经说过了，咱是用SVM模型，原因和原理不再赘述，为了方(tou)便(lan)实现和建立模型，咱可以直接从Scikit-learn（简称sklearn）中导入，它是非常流行的Python免费机器学习库，具有各种分类、回归和聚类算法，一般配合numpy数据格式使用。四.训练模型在这里，咱需要把整个数据集分拆为训练集和测试集，因为除了训练模型之外，咱还要留出一部分数据来验证训练出来模型的优劣。一般来说，将完整数据集80%的样本作为训练集，剩余20%的样本作为测试集，要注意的是，这里要将dataframe中的因子数据转换成numpy的ndarray数组格式，因为这种数据类型更适配sklearn。#划分训练集和测试集num_train=round(len(data)*0.8)data_train=data.iloc[:num_train,:]data_test=data.iloc[num_train:,:]#训练集数据和标签X_train=data_train[['ema','stddev','slope','rsi','wr']].valuesy_train=data_train['rise']#测试集数据和标签X_test=data_test[['ema','stddev','slope','rsi','wr']].valuesy_test=data_test['rise']print(X_train[:10])print(45*'-')print(X_test[:10])在划分数据集之后，还有非常重要的一步，那就是对数据进行标准化处理，这是因为每个因子的数值量纲差别太大，例如指数EMA的均值是2919.6，而RSI的均值是52.7，这样会造成SVM对某些因子的“偏心”。在此处，采用“(原始值-均值)/标准差”的方法对数据进行标准化处理，处理过后，每个因子的均值都会变为0，标准差变为1.0。fromsklearn.preprocessingimportStandardScalerprint('---标准化之前---')print('训练集的均值：')print(X_train.mean(axis=0))print('训练集的标准差：')print(X_train.std(axis=0))#对数据进行标准化scaler=StandardScaler()X_train=scaler.fit_transform(X_train)X_test=scaler.transform(X_test)print('---标准化之后---')print('训练集的均值：')print(X_train.mean(axis=0))print('训练集的标准差：')print(X_train.std(axis=0))数据标准化处理之后，就可以将训练集数据输入SVM当中，代码实现很简单，从sklearn的svm模块当中导入SVM分类器SVC，创建实例对象后，将训练集因子数据和对应标签塞进fit函数就行了，SVM模型的惩罚系数使用默认值1.0，核函数也用默认的RBF核函数，训练过程非常快，不用一个东的时间，就把SVM分类器训练好了。fromsklearn.svmimportSVCclassifier=SVC(C=1.0,kernel='rbf')classifier.fit(X_train,y_train)print(classifier)五.测试模型至此，SVM分类器已经训练好了，把因子数据塞进predict函数，就能输出每个样本的预测值，咱分别把训练集和测试集的预测标签插回到原来的数据集当中，用来计算预测的准确率。y_train_pred=classifier.predict(X_train)y_test_pred=classifier.predict(X_test)data_train['pred']=y_train_preddata_test['pred']=y_test_predaccuracy_train=100*data_train[data_train.rise==data_train.pred].shape[0]/data_train.shape[0]accuracy_test=100*data_test[data_test.rise==data_test.pred].shape[0]/data_test.shape[0]print('训练集预测准确率：%.2f%%'%accuracy_train)print('测试集预测准确率：%.2f%%'%accuracy_test)输出结果：训练集预测准确率：57.52%测试集预测准确率：52.35%从结果当中看出，训练集的预测准确率明显比测试集的高，这是因为整个模型都是在训练集数据上训练出来的，对测试集数据则还很“陌生”，这就相当于高考数学考卷都是你们学校的数学老师出的，整体来看，你们的平均分就非常可能比其他同级别的学校高。光看准确率还不够直观，咱还要看一下如果纯粹按照这个择时模型的预测结果进行投资，能获得多少收益，此处只使用测试集进行模拟。假设指数可以多空交易，如果模型预测为1（上涨），第二天策略的收益率就是指数的涨幅，如果模型预测为0（下跌），第二天策略的收益率就是指数的涨幅的相反数，有了每天的日收益率之后，通过dataframe自带的累乘函数cumprod，就可以得到择时策略和沪深300指数的净值曲线，为了方(tou)便(lan)起见，不考虑交易费率，以及按照收盘价成交。importmatplotlib.pyplotasplt#策略日收益率data_test['strategy_pct']=data_test.apply(lambdax:x.pctifx.pred&gt;0else-x.pct,axis=1)#策略和沪深300的净值data_test['strategy']=(1.0+data_test['strategy_pct']).cumprod()data_test['hs300']=(1.0+data_test['pct']).cumprod()#粗略计算年化收益率annual_return=100*(pow(data_test['strategy'].iloc[-1],250/data_test.shape[0])-1.0)print('SVM沪深300指数择时策略的年化收益率：%.2f%%'%annual_return)#将索引从字符串转换为日期格式，方便展示data_test.index=pd.to_datetime(data_test.index)ax=data_test[['strategy','hs300']].plot(figsize=(16,9),color=['SteelBlue','Red'],title='SVM沪深300指数择时策略净值by量化君')plt.show()六.调节参数从上一步的测试当中看出，训练集和测试集的预测准确率只有57%和52%，不算理想，说明还有很大的提升空间，还可以对模型进行优化改进。比如说，现在使用的5个因子，还没有反应到价格波动的本质，还可以增改更多的因子。还比如说，SVM模型当中的惩罚系数C过小，对错误样本的容忍度过高，RBF核函数不适合作为这个数据集的映射转换函数。再比如说，甚至连SVM模型本身也是一个参数，也可以更改，比如说可以换成其他的机器学习分类模型。也就是说到这调节参数这一步，如果训练好的模型结果不能让自己满意，就可以重新将前5步走一遍。咱终于吭哧吭哧走完了，利用机器学习构建量化择时策略的全流程，相信大伙儿对机器学习相关概念和建模流程也有了初步的了解，基于这个建模框架流程，将来的你可以玩得更花，可以采用更高频的数据、更鲁棒的模型、更多的交易标的、更有效的因子、更有趣的预测任务，以及~~~遇见更好的自己。参考资料周志华，2016年1月，书籍《机器学习》华泰金工，2017年8月，研报《人工智能选股之支持向量机模型》阿泽，2020年6月，知乎《【机器学习】支持向量机SVM（非常详细）》更多量化内容更多相关资料请见下方文章卡片，另外还有一个坚持周更的量化公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：量化大神在萌新期是如何找到众多量化因子的？quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/3031154960",
        "comment_count": 1,
        "voteup_count": 12,
        "question_title": "http://www.zhihu.com/api/v4/questions/64347446",
        "question_url": "机器学习——到底在量化投资中用的好吗？"
    },
    "3029534473": {
        "created_time": 1684164499,
        "content": "信号处理做量化当然可以了，比方说国外有个叫JohnF.Ehlers的大神，专门就是用数字信号处理的方法做量化交易策略，我之前就复现过这个大神的一个策略，其中头一步就是利用数字信号处理（DSP）技术对价格时序序列去噪（SuperSmoother低通滤波），用在国内的品种上效果还可以，下面可以展开唠一唠，具体说说信号处理是怎么和量化结合的。这是在交易杂志《股票与商品技术分析》（《TechnicalAnalysisofStocksandCommodities》，业内简称“S&amp;C”）上，约翰•埃勒斯（JohnF.Ehlers）在2020年2月刊文章《Reflex:ANewZero-LagIndicator》当中提出的两个指标，分别是Reflex和Trendflex。咱先来唠唠这个Reflex~先说第一个指标为啥叫这名儿。纯粹因为作者曾经也爱好玩弓耍箭，这个指标构造出来也很像一张弓，reflex在英文里就是“反曲弓”的意思，这是一种弓箭类型，与直拉弓相对，在复仇者联盟里面，鹰眼使用的就是一张反曲弓，于是乎，老约翰拍大腿觉得这名儿酷毙了，让他回想起那青葱的岁月，连文章的配图也是一张拉满弦的弓。原文：Inamedthisnewindicator“reflex”becauseIusedtobeanarcher,andthecreationoftheindicatorremindedmeofabowandarrow.Reflexisakindofbowwithacoolname.扯过闲篇儿，正儿八经说说Reflex这个指标怎么构造吧，跟把大象塞进冰箱流程一个样，总共分3步走。Step1：首先对原始价格序列进行平滑处理，采用的是SuperSmoother过滤器。老约翰也是漂亮国量化界当中的翘楚了，非常善于用数字信号处理（DSP）技术对证券价格序列去伪存真，咱可以把SuperSmoother当成是一个低通滤波器就可以了，”过滤高频噪声，保留低频趋势“。他在2014年1月刊的文章《PredictiveAndSuccessfulIndicators》披露过SuperSmoother的计算细节，并通过试验证明SuperSmoother的去噪效果，比传统的指数移动均线EMA要好了不止一丢丢。Step2：从当前点位到N个周期的点位画一条直线，计算价格曲线上的点到直线上距离，然后计算出它们的平均值，记为S。学过微积分的小伙伴都清楚，这个将距离汇总的过程，就类似于积分求面积，跟我以前说的『K线面积交易法』很像，对总面积求均值，就相当于是求每个点到直线的平均距离。Step3：然后计算平均距离S平方的指数移动平滑值MS，最后将平均距离S除以平滑值的平方根，MS平滑的意图就是保证分母每日变化不要过大。T日MS=0.04*S*S+0.96*T-1日MSReflex=S/sqrt(MS)文章当中公布的Reflex完整版源码如下，量化平台是TradeStation，配套的编程语言是EasyLanguage，从名字就可以看出来，这款编程语言soeasy，TS平台在国外用的人还是很多的，之前介绍过的量化书籍，里面的指标和策略也都是基于这个平台。Reflex指标画出来的效果如下，当价格从低点上升的过程中，Reflex值是逐渐变大的，但是过了临界点之后，即使是价格仍处在上涨趋势当中，Reflex值也会变小，这个临界点的判断，简单来说，就是在step2当中，与N个周期前那个点的连线，是否和K线围成了更大的面积。了解完Reflex之后，弄清楚Trendflex那就是很简单的事情了，因为Trendflex是Reflex的兄弟版本，它们之间计算是相似的，最大的差别就在step2中平均距离的计算上，也就是红框当中的代码。Reflex是在当前点跟N周期之前的点连一条直线，而Trendflex是直接以当前点的价位画一条直线，从step2的计算细节来说，一般情况下，Trendflex的直线会与价格序列之间围出来更大的面积，而且直线的前N个点都是当前价位，随着价格的持续上涨，相对来说面积的变化程度没有Reflex那么大，特别是过了临界点之后，对趋势的保留更为明显。Trendflex指标画出来的效果如下，通过跟Reflex对比，可以看出，Trendflex在过了Reflex的临界点后，指标数值还是会随着价格上涨而增大，并且在之后会维持一个较为高位的数值。不过针没有两头尖的，有利就有弊，Trendflex相对来说比Reflex滞后。由于Trendflex对趋势的衡量较优，所以在股票期货和大饼圈等领域，使用Trendflex的人会相对多一点。老约翰在文章中只是详细阐明了这两个指标的来龙去脉，但没有说具体用法，各路宽客也只好八仙过海，各显神通了，没有先天约束，想怎么用就怎么用。我就举个用法栗子，说个策略大伙儿参考一下，从Trendflex与价格走势图可以看出来，在上涨阶段，Trendflex在上涨初期，数值是随着价格上涨不断增大的，但上涨的中后段数值可能是不升反降；下跌阶段也是如此，在下跌初期，Trendflex数值是随着价格下跌不断减小，但下跌的中后段数值可能是不降反升。因此，Trendflex非常适合作为趋势初期的捕捉指标，在Trendflex创区间新高时做多，创区间新低时做空，出场咱就使用动态止盈止损就可以了。新鲜的食材，往往只需要(chun)简(cui)单(shi)的(xiang)做(tou)法(lan)，咱就拿期货市场上，经常被折腾的小(R)白(B)鼠测试一下，净值曲线如下。PS：本策略源码已分享至『量化藏经阁』和『量化藏经阁Max』社群内，群友请在社群量化兵器库原路径中自取。看上去不是很惊艳，不是那种45度斜向上稳稳的曲线，但作为单品种单周期的朴素粗线条策略，我在上面还是看到了很多待挖掘的可能性，留待各位大神探索。更多量化内容更多相关资料请见下方文章卡片，另外还有一个坚持周更的量化公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：量化大神在萌新期是如何找到众多量化因子的？quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）",
        "url": "http://www.zhihu.com/api/v4/answers/3029534473",
        "comment_count": 2,
        "voteup_count": 166,
        "question_title": "http://www.zhihu.com/api/v4/questions/57626786",
        "question_url": "信号处理做量化可以嘛？"
    },
    "3027890412": {
        "created_time": 1684074659,
        "content": "在量化交易领域，谁开始的时候（天才除外），不都是学习先辈们已经公开多年的经典策略嘛，然后在前人策略基础上进行优化和改进，最后创造出自己的实盘交易策略。很多表象上精彩绝妙的东西，背地里是无数灰头土脸的俗手和平平无奇的本手，再配上时运的加持，自然而然呈现出来的。找新的量化策略思路也是如此，站在巨人的肩膀上野蛮生长。善弈者，通盘无妙手；善战者，无赫赫之功；善医者，无煌煌之名。Talkischeap，showyouthestrategy~~~拿之前做的一个量化策略的来举个小栗子吧。扎扎实实做好量化投资研究（本手）的小伙伴，经常细心观察数据就很容易发现：数据是可以“切割”的。打个比方，涨跌幅里面有动量也有反转，资金流里面有大单也有小单，聪明钱里有占比高的时间段也有占比低的时间段。因此，咱可以从中筛选出有利的部分，比如说只要涨跌幅里面的动量部分构建动量因子，也可以从中“一分为二”，选择对立两面做“对冲”，比如筛选资金流当中的大单和小单分别统计，然后做主力和散户的力量对比，或者计算股票的“含散率”。这种分场景/筛选的技巧，业内部分人称为“因子切割”，也有叫别的，大体上都是这个意思。波动率大伙儿都晓得吧，金融市场的一个重要指标，经常被用来衡量交易的活跃性、交易的风险和期权的定价等，我们平常使用的收益率的标准差就是其中一种度量方式，今天咱换个方式，使用收益率的平方和RV（RealizedVariance），计算公式如下，其中n值就是咱所考虑的序列长度。根据因子切割的技巧，波动率也可以分为“好的”波动率和“坏的”波动率，也就是可以分为上行波动率和下行波动率，这点跟夏普率和索提诺比率的区别很像，夏普率使用全部波动率度量风险，索提诺比率只使用“下行”波动率度量风险。值得注意的是，说“好”与“坏”只是强调它们之间的对立关系，并不是说明就真的good或bad，因为对于持有空单的人来说，下行波动率往往是good的。于是乎，咱就将RV拆解成了上行波动率RV+和下行波动率RV-，实际上怎么计算呢，就是把数值为正的收益率和为负的收益率区分开，单独对正的收益率序列计算标准差那就是上行波动率RV+，对负的收益率序列计算标准差就是RV-。其中I(...)就是条件判断函数，当括号内条件成立时函数值为1，不成立时数值为0。这个波动率不对称性因子就被简称为RSJ，全称为RelativeSignedJump，是不是觉得名字怪怪的，这可不是我瞎编的，原著（参考资料3）就是这样写的，不信的话你往下瞅瞅，因为证券价格肯定有波动和跳跃嘛。从公式中就很容易看出来了，RSJ可以很好地反映上涨下跌的情绪变化，当RSJ大于0时，说明证券的上行波动率大于下行波动率，涨势明显；当RSJ小于0时，说明证券的下行波动率大于上行波动率，跌势显著。这样就可以形成一个朴素的期市策略：RSJ&gt;0时做多，RSJ&lt;0时做空，最好再加上价格中短期趋势辅助判断，平仓的话，用ATR跟踪止盈止损（常说的“吊顶”）就可以了。咱先用期市里大伙儿最熟悉最亲民的品种做小白鼠测试一下，净值曲线如下。作为朴素的基础策略，它还比较大线条和粗糙，单品种曲线跑成这样其实还看得过去，多品种多周期叠加应该净值曲线能平滑不少，有待大伙儿日后继续探索。以上举的『波动率不对称性RSJ量化策略』中使用的量化技巧，其实不是啥“妙手”，也只是众多平平无奇的本手小尝试之一，但正是这些平平无奇的潜心观察和研究，可以让量化策略一步步走向精益求精，说不定让人耳目一新。没头没脑说了这么多，权当是胡诌吧，若有启发，阁下大发，若有反对，皆是你对。参考资料：用Python的交易员，知乎，2021-11，《【Veighna量化策略实验室】RSJ高频波动率择时指标-1-源码复现》。陶勤英，财通证券，2020-07，《高频波动率择时指标：RSJ市场情绪冷暖剂》。BollerslevT，SocialScienceElectronicPublishing，2018-12，《GoodVolatility,BadVolatilityand,theCross-SectionofStockReturns》更多量化内容更多相关资料请见下方文章卡片，另外还有一个坚持周更的量化公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：量化大神在萌新期是如何找到众多量化因子的？quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/3027890412",
        "comment_count": 1,
        "voteup_count": 17,
        "question_title": "http://www.zhihu.com/api/v4/questions/585509872",
        "question_url": "目前已公开的期货量化策略绝大多数已失效，如何找到思路能开发出大概率盈利的新策略？"
    },
    "3023868670": {
        "created_time": 1683820701,
        "content": "如果读研读书的时候有时间，量化交易入门书籍可以看这20本，里面从故事类到失眠类全部都有。quantkoala：量化投资书单推荐，20本拿走不谢！如果没有时间，只想看一本的话，那建议看《打开量化投资的黑箱(第二版)》，注意是第二版，也就是2016年引入国内的那版，新加入了『高频交易』这一部分的内容，内容也从原来的13章扩展到了17章。quantkoala：萌新量化投资入门的第一本书如果量化交易策略的思路比较局限，可以看佩里•考夫曼的《交易系统与方法》（TradingSystemandMethods）和ZuraKakushadze的《151TradingStrategies》，合计起来有400+量化策略和指标。我之前也分享过一些策略，也顺道儿列在这里，滥竽充数。quantkoala：261个策略/指标，萌新Quant群友在这本量化神作中学到的（书附源码）quantkoala：推荐一本量化宝藏书籍，内含151个量化交易策略股票&amp;ETF相关策略：《复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略》《私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对》《手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）》《复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略》《Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score》《ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞》《两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）》《跟踪『聪明钱』，巧用北向资金进行大盘择时》《量化萌新向ETF择时策略：当北上资金遇上布林带》《跟着“基金一哥”张坤量化选股的快乐，你想象不到！》《小市值因子已然凉凉，绩优小市值依旧狂浪》《中国版“漂亮50”量化策略》《鱼身策略懒人爱，量化内卷别乱买》商品期货相关策略：《唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略》《又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略》《又来唠一个另类异质量化策略：20后的Trendflex策略》《『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略》《K线标准化结构图：构建一个趋势策略，就是那么朴实无华》《CTA策略中的Alpha：期限结构之展期收益率策略》《量化本无妙手，背后都是坚实的本手：波动率不对称性RSJ量化策略》《兄弟家量化策略很多，拿一个『波动率收敛突破策略』盘一下》《兄弟家量化策略很多，又拿一个『操盘手策略』盘一下》《动物庄园：商品期货跨品种套利策略》《量化同质越来越严重，如何保持策略的长久优势？（附异质化另类量化策略）》《唠一唠指标之王MACD的另类用法：高低形态短线量化策略》《股指期货除了无脑吃贴水之外，还有更卷的量化操作策略吗？》题主还提到了准备学习量化投资的原因是被西蒙斯的大奖章基金所勾引的，那可以看揭秘”西蒙斯老爷子生平和文艺复兴科技公司以及大奖章基金的书籍，英文版书名叫做《TheManWhoSolvedtheMarket：HowJimSimonsLaunchedtheQuantRevolution》，中文版书名是《洞悉市場的人：量化交易之父吉姆‧西蒙斯與文藝復興公司的故事》。quantkoala：猜谜答案揭晓&amp;推荐一本“揭秘”全球最赚钱量化基金的书籍在年初的时候，我腆着脸推荐过量化萌新快速入门量化交易的自学路径，编程入门和基础知识什么的也都包含在里面，不介意的话，也可以去瞅瞅，纯粹是个人偏见，希望能有帮助。quantkoala：小白快速入门量化交易的推荐自学路径",
        "url": "http://www.zhihu.com/api/v4/answers/3023868670",
        "comment_count": 0,
        "voteup_count": 17,
        "question_title": "http://www.zhihu.com/api/v4/questions/26134609",
        "question_url": "量化交易如何入门？"
    },
    "3021821645": {
        "created_time": 1683710141,
        "content": "知乎回答，先说结论：只投三分球的球队B会赢！球队A只投两分球，命中率100%，球队B只投三分球，命中率66.67%，从数学期望上来说，这两支球队每次出手(控球)都能斩获2分，关键是看在一场比赛当中，哪支球队的出手次数更多。根据篮球规则，球队A进球后，就要轮到球队B发球进攻，由于球队A命中率100%，那球队A出手后，肯定是轮到球队B出手，形成类似“…AB…AB…”这样的出手序列。但是由于球队B的命中率只有66.67%，每3个球就投丢1个，存在抢篮板的情况，如果篮板被球队A抢到了，出手序列依然是“…AB…AB…”，而如果被球队B抢到了，则出手序列会变成“…ABB…ABB…”，也就是说，球队A出手后，肯定是轮到球队B出手，而球队B出手后，有50%的可能继续接着出手，A后面一定是B，B后面不一定是A。因此，在一场比赛当中，球队B的出手次数预计要比球队A的多，所以球队B的赢面更大。也许说得是抽象了一点，我写了一段Python程序来模拟，假设一场球赛当中总共有100次出手机会，先随机决定哪只球队首发。然后判断是哪只球队出手(控球)，如果是球队A，出手次数加1，直接得2分，换球队B出手；如果是球队B，出手次数加1，模拟球队B命中率是否进球，进球则加3分，换球队A出手，不进则抢篮板随机选择出手方，接着重复之前的流程，如此循环往复。importrandom#球队A得分和出手次数a_team_score=0a_control_times=0#球队B得分和出手次数b_team_score=0b_control_times=0#模拟球队B的命中率goal_list=[True,True,False]#随机选择哪只球队开球control_ball=random.choice(['A','B'])foriinrange(100):ifcontrol_ball=='A':a_control_times=a_control_times+1a_team_score=a_team_score+2print('%d.球队[A]出手，命中，球队A和球队B当前比分为%d：%d'%(i+1,a_team_score,b_team_score))control_ball='B'else:b_control_times=b_control_times+1goal=random.choice(goal_list)ifgoal:b_team_score=b_team_score+3print('%d.球队[B]出手，命中，球队A和球队B当前比分为%d：%d'%(i+1,a_team_score,b_team_score))control_ball='A'else:print('%d.球队[B]出手，投失，球队A和球队B当前比分为%d：%d'%(i+1,a_team_score,b_team_score))#模拟抢篮板control_ball=random.choice(['A','B'])print('比赛结束！')print('球队A累计出手次数：%d，最终得分：%d'%(a_control_times,a_team_score))print('球队B累计出手次数：%d，最终得分：%d'%(b_control_times,b_team_score))在程序的输出结果中可以看到“…ABB…ABB…”出手序列的出现，正是这个导致球队B出手次数更多。最终的运行结果是球队B的出手次数更多，得分更高。如果到这里还没有理解的小伙伴，可以单步调试这个程序，实际感受一下两支球队的出手次数和比分的增加，Devilsareinthedetails~回答内容来源：量化交易笔试逻辑题答案揭晓，最后一题有七成人选错",
        "url": "http://www.zhihu.com/api/v4/answers/3021821645",
        "comment_count": 2,
        "voteup_count": 2,
        "question_title": "http://www.zhihu.com/api/v4/questions/35050969",
        "question_url": "假设两个队比赛，A队只投两分，命中率100%，B队只投三分，命中率66%。谁赢？"
    },
    "3021806910": {
        "created_time": 1683709627,
        "content": "如果想入门量化交易，系统掌握对应方法和技能，那最系统最成体系的莫过于量化书籍著作了，那都是前人沉淀下来的智慧结晶，在此给大家推荐20本量化投资佳作，根据自己的习惯，将书籍们分为5大类。第一类是科普&amp;故事类，顾名思义，主要是帮量化萌新迅速了解量化&amp;宽客是什么，有个大体的感觉，偏故事向。如果有且只能看一本量化书籍入门的话，建议看开头的第一本，最好是第二版。quantkoala：萌新量化投资入门的第一本书第二类是股票量化类，主要讲了在股票量化领域有什么经典的策略，如何构建、实现和回测。第三类是期货量化类，讲的是期货量化的经典策略，大部分是趋势策略（例如海龟策略），也有套利策略。第四类就是期权量化类，一般书籍里面都是先科普一下期权是什么，然后就各种字母，接着就各种跨式、蝶式，最后我想把它归到失眠系列类。第五类就是失眠系列类，不是这类书让人失眠，而是适合失眠的时候看，例如那本量化红宝书，新手初看会觉得特别枯燥，公式繁多，助眠效果极佳。一、科普&amp;故事类01.《打开量化投资的黑箱》作者:里什·纳兰豆瓣评分：7.4出版时间:2012-3内容简介：作者是一位基金经理，在书中他站在一个非纯粹技术性的视角介绍了量化交易策略，用生动的文笔带领大家游历整个“黑箱”。涉猎了很多金融界丰富的真实案例和市场趣闻，描绘了华尔街的数量金融奇才们是如何工作的。02.《解读量化投资：西蒙斯用公式打败市场的故事》作者:忻海豆瓣评分：7.2出版时间:2010-1内容简介：作者用轻松、幽默的讲故事手法，解读了西蒙斯量化投资“黑箱”之内的秘密，带我们走近20年中平均每年总回报为80％的大奖章基金，看看它如何能将1万元变成1亿元。03.《宽客：华尔街顶级数量金融大师的另类人生》作者:斯科特·帕特森豆瓣评分：8.0出版时间:2011-7内容简介：这是一本讲述华尔街顶级数量金融大师的另类人生的书。背景是2007年金融危机爆发以后，作者对量化基金经理和顶尖经济学及金融学学者的各种采访。04.《宽客人生:华尔街的数量金融大师》作者:伊曼纽尔·德曼豆瓣评分：8.0出版时间:2007-7内容简介：作者本人就是华尔街的顶级宽客，至今仍享盛名，他分析了物理学与金融学之间的关联和不同，讲述了许多物理学巨匠和金融学大师的故事。05.《高频交易》作者：艾琳·奥尔德里奇豆瓣评分：7.8出版时间：2011-6内容简介：本书作者站在专业的高度，用平实的语言和丰富的图表，带我们走进量化投资的黑匣子，向我们展示了这台复杂的“金融仪器”是如何运作的。06.《高频交易员:华尔街的速度游戏》作者：迈克尔•刘易斯豆瓣评分：7.8出版时间:2015-5内容简介：本书作者其他著名的著作还有《说谎者的扑克牌》和《大空头》，本书叙事偏水浒风，人物逐个出场，背景丰满，性格突出，然后构建完整个拼图，结局有一抹亮色。二、股票量化07.《量化投资——策略与技术》作者：丁鹏豆瓣评分：6.5出版时间:2014-9内容简介：你可以把此书认为是金融工程研报的合订本，内含60多个案例，主要分为策略篇与理论篇两部分。策略篇主要包括：量化选股、量化择时、股指期货套利、商品期货套利、统计套利、期权套利、算法交易和资产配置等。理论篇主要包括：人工智能、数据挖掘、小波分析、支持向量机、分形理论、随机过程及IT技术等。08.《量化交易:如何建立自己的算法交易事业》作者：欧内斯特·陈豆瓣评分：7.5出版时间:2014-1内容简介：此书虽薄，但内容涵盖交易策略的发展、回测检验、风险管理、编程实现、交易系统研发和算法交易运行等关键领域，作者带你一步一步建立起一个最佳量化框架。09.《量化投资策略:如何实现超额收益Alpha》作者：理查德·托托里罗豆瓣评分：7.6出版时间:2013-5内容简介：作者在书中详尽地测试了超过1200种投资策略，归纳了七个投资维度：盈利性、估值、现金流、成长性、资产配置、价格动量以及危险信号，并告诉你如何有效结合单个投资因子或组件因子，如何构建多因子策略，从而构建更全面的选股模型。10.《量化投资：以Python为工具》作者：蔡立耑豆瓣评分：6.7出版时间:2017-2内容简介：主要讲解量化投资的思想和策略，并借助Python语言进行实战。首先对Python编程语言进行介绍；然后，向读者介绍量化投资的理论知识，主要讲解量化投资所需的数量基础和类型等方面；最后讲述如何在Python语言中构建量化投资策略。三、期货量化11.《海龟交易法则》作者：柯蒂斯·费思豆瓣评分：8.6出版时间:2013-5内容简介：伟大的期货交易者究竟是天生的，还是可以后天培养的？丹尼斯和埃克哈为此开始了一项试验，参与者被称为“海龟”。此书的内容就是关于这些海龟的：海龟们如何做交易，如何把握交易时机；海龟们如何衡量风险，如何管理资金；海龟们如何获得超过100%的年均回报率；为什么有些海龟大获成功，有些却赔个精光；如何将海龟交易法则运用于你自己的交易中；12.《期货市场计算机分析指南》作者：查尔斯·勒博豆瓣评分：7.9出版时间:2012-4内容简介：本书原版较老，主要讲解美国80年代各种技术指标的运用，内含了作者几十年的功力。13.《期货市场完全指南:技术分析、交易系统、基本面分析、期权、利差和交易原则》作者：杰克·施瓦格豆瓣评分：7.7出版时间:2017-11内容简介：本书侧重于商品期货市场价格预测，是目前全面的关于基本面分析和技术面分析的期货著作，内容涵盖期货、期权、分析、利差等。14.《统计套利》作者：安德鲁·波尔豆瓣评分：6.6出版时间:2011-1内容简介：本书论述了统计套利的历史，也诠释了统计套利如何运作的方式，以及为什么管用的原因，就是翻译让人吐槽~四、期权量化15.《期权投资策略》作者：劳伦斯G.麦克米伦豆瓣评分：7.9出版时间:2010-1内容简介：本书可认为是期权交易策略大全，包含全面的期权交易工具与各种策略方法。涵盖数百种经过时间与市场考验的交易技巧，承受最低的风险，实现既定的投资目标。16.《波动率交易：期权量化交易员指南》作者：尤安·辛克莱豆瓣评分：9.0出版时间:2017-5内容简介：本书梳理了基础的期权定价、波动率度量、对冲、资金管理以及交易评估等内容，并开发了基于布莱克-斯科尔斯-默顿的量化模型去度量波动率，这适用于几乎所有类型的金融工具。17.《波动率微笑:宽客大师教你建模》作者：伊曼纽尔·德曼豆瓣评分：9.1出版时间:2018-1内容简介：本书公式繁多，需要较强数学功底，绝对是一本期权量化的好书，但总想将其归为失眠系列。五、失眠系列18.《主动投资组合管理:创造高收益并控制风险的量化投资方法》作者：理查德C.格林诺德豆瓣评分：8.7出版时间:2014-9内容简介：本书以其数学上的严谨性和内容上的系统性成为量化组合投资领域的权威之作。该书描述了一套创新的方法：寻找资产收益率原始信号，将它们转化为精炼预测，以及根据这些预测构建具有超常收益率和最小风险的投资组合，即持续战胜市场的投资组合。公式多，助眠！19.《QuantitativeEquityPortfolioManagement:ModernTechniquesandApplications》作者：EdwardE.Qian豆瓣评分：8.9出版时间:2007-5内容简介：本书可以被看成对《主动投资组合管理:创造高收益并控制风险的量化投资方法》的补充。20.《QuantitativeEquityPortfolioManagement:AnActiveApproachtoPortfolioConstructionandManagement》作者：LudwigBChincarini豆瓣评分：8.0出版时间:2006-7内容简介：本书比较偏学术风格，主要讲factormodel，与《主动投资组合管理:创造高收益并控制风险的量化投资方法》相辅相成。更多量化相关内容更多相关资料请见下方文章卡片，另外还有一个坚持周更的量化公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：量化大神在萌新期是如何找到众多量化因子的？quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/3021806910",
        "comment_count": 1,
        "voteup_count": 40,
        "question_title": "http://www.zhihu.com/api/v4/questions/266832810",
        "question_url": "想投身国内的量化交易，应该如何入门？需要掌握怎样的知识体系？"
    },
    "3020710356": {
        "created_time": 1683645663,
        "content": "根据个人经历和经验，腆着脸唠一下个人做量化交易的入门路径，我推荐的快速学习路径是：投资想法-&gt;量化基础-&gt;量化平台-&gt;量化策略这是抽象的概括，之后再把每个步骤详细唠唠，这里首先需要确定快速入门的学习原则：适度学习，够用就行~~~不要走“贪大求全”的弯路，陷入“胡子眉毛一把抓”的陷阱，不然很容易就从入门到放弃了~2021版《新华字典》中，收录了13000多个汉字，而日常生活中只需要用到其中3000多个，也就是说，不用啃完编程书籍等大部头才可以开始，按常用按需学习就行。一、投资想法很多人做量化，都是因为自己有初始的投资想法，想验证正确性提高交易胜率，或想解放双手追求效率，全自动程序化盯盘交易，量化跟人工智能AI一样，都是手段，用来实现自己想要的目的，不是为了量化或AI本身而学习。有初始的投资想法，在开始学习的时候有一个好处，就是可以在学习量化时有的放矢，听到相关的知识点的时候，脑子就会在想，我想要的功能能不能这样实现。比如，你想实现均线交易策略，那么你在学习pandas模块时，听到rolling和mean函数，就会有“确认过眼神，找到对的人”的赶脚。如果在投资想法这边还是没有感觉，不介意的话可以看看我之前的文章，里面很多策略想法都是从交易书籍、研报论文和市场观察中发现的。股票&amp;ETF相关策略：《复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略》《私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对》《手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）》《复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略》《Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score》《ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞》《两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）》《跟踪『聪明钱』，巧用北向资金进行大盘择时》《量化萌新向ETF择时策略：当北上资金遇上布林带》《跟着“基金一哥”张坤量化选股的快乐，你想象不到！》《小市值因子已然凉凉，绩优小市值依旧狂浪》《中国版“漂亮50”量化策略》《鱼身策略懒人爱，量化内卷别乱买》商品期货相关策略：《唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略》《又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略》《又来唠一个另类异质量化策略：20后的Trendflex策略》《『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略》《K线标准化结构图：构建一个趋势策略，就是那么朴实无华》《CTA策略中的Alpha：期限结构之展期收益率策略》《量化本无妙手，背后都是坚实的本手：波动率不对称性RSJ量化策略》《兄弟家量化策略很多，拿一个『波动率收敛突破策略』盘一下》《兄弟家量化策略很多，又拿一个『操盘手策略』盘一下》《动物庄园：商品期货跨品种套利策略》《量化同质越来越严重，如何保持策略的长久优势？（附异质化另类量化策略）》《唠一唠指标之王MACD的另类用法：高低形态短线量化策略》《股指期货除了无脑吃贴水之外，还有更卷的量化操作策略吗？》二、量化基础这里面主要包含两大部分，一个是量化通识，另一个是编程基础。关于量化通识，看量化故事类的书籍都可以有所了解，以前我也列过一个书单。《量化投资书单推荐（20本）》如果没有那么多时间，想快速了解量化投资的方方面面，开始的时候只看这本就够了。《萌新量化投资入门的第一本书》对于Python的快速学习，墙裂推荐廖雪峰老师的Python教程，不仅免费写得非常简单易懂，而且每个小节之后，都有编程互动小题目给你即时反馈，非常有趣，不用再想着自己啃完编程大部头再去编写策略，教程链接：https://www.liaoxuefeng.com/wiki/1016959663602400廖老师的教程非常详尽，连Web开发都讲了，但是再次重申咱的快速入门学习原则：不贪多，够用就行。对于量化基础而言，学到“错误、调试和测试”章节就可以了，后面等有时间再看。遗憾的是，里面没有讲到量化常用的numpy和pandas模块，这个可以在学了廖老师课程之后，再单独度娘学习一下。三、量化平台对于量化初学者而言，不建议自己搭建量化框架/平台，应该以实现量化策略为主，把数据获取清洗、回测框架搭建和对接实盘接口等工作交给专业团队打理，因此强烈建议使用现成的第三方量化平台，这里给大家推荐一些。如果你打算用Python做量化交易，可以选择以下6个量化平台，在他们的官网的“帮助中心”里面，都可以找到对应的上手教程和策略模板。聚宽JoinQuant：https://www.joinquant.com优矿Uqer：https://uqer.datayes.com米筐RiceQuant：https://www.ricequant.com掘金量化：https://www.myquant.cn迅投QMT：http://www.thinktrader.netvn.py：https://www.vnpy.com四、量化策略有了编程基础，又选定了量化平台，恭喜你，你终于有能力实现自己最初的投资想法了，量化策略是投资想法的逻辑化和程序化展现。由于每个人的投资想法不尽相同，只好举一个简单的双均线交易策略为例进行描述，因为“双均线”这是一个接触到投资交易，都基本会听过的词儿，“专家”告诉你在金叉的时候买，在死叉的时候卖，那实际效果到底是怎么样的呢？在聚宽JoinQuant量化平台上，拿茅台作为交易标的，咱定义5日均线和20日均线在出现金叉的时候，第二天一开盘就全仓买入，出现死叉时，就把所有持仓全部卖出，策略代码如下。如果已经看完廖老师的前几章课程，这代码就大概能看懂七七八八了，剩下的再结合平台的API说明就能全部弄清楚了。大概的实现流程就是，在初始化函数initialize中设置了交易标的、策略参数和交易费率，以及定义了一个每天在开盘运行的函数stock_trade，并且开启了“防未来函数”功能。在stock_trade函数里面，计算昨天和前天的5日均线和20日均线，如果金叉就买入，死叉就卖出。#导入函数库fromjqdataimport*#初始化函数，设定基准等等definitialize(context):#交易的股票g.stock='600519.XSHG'#长短均线参数g.short_len=5g.long_len=20#设定沪深300作为基准set_benchmark('000300.XSHG')#开启动态复权模式(真实价格)set_option('use_real_price',True)#过滤掉order系列API产生的比error级别低的loglog.set_level('order','error')#打开防未来函数set_option('avoid_future_data',True)#股票类每笔交易时的手续费是：买入时佣金万分之三，卖出时佣金万分之三加千分之一印花税,每笔交易佣金最低扣5块钱set_order_cost(OrderCost(close_tax=0.001,open_commission=0.0003,close_commission=0.0003,min_commission=5),type='stock')#开盘时运行run_daily(stock_trade,time='open',reference_security='000300.XSHG')##开盘时运行函数defstock_trade(context):stock=g.stockshort_len=g.short_lenlong_len=g.long_len#获取股票的收盘价#当取日线数据时,不包括当天的,即使是在收盘后，没有未来data=attribute_history(stock,long_len+1,'1d',['close'])#计算双均线数据data['ma5']=data['close'].rolling(short_len).mean()data['ma20']=data['close'].rolling(long_len).mean()#昨日MA5和MA20数值ma5=data['ma5'].iloc[-1]ma20=data['ma20'].iloc[-1]#前日MA5和MA20数值pre_ma5=data['ma5'].iloc[-2]pre_ma20=data['ma20'].iloc[-2]#取得当前的可使用的资金cash=context.portfolio.available_cash#如果昨日出现金叉，则今日开盘买入if(pre_ma5&lt;pre_ma20)and(ma5&gt;ma20)and(cash&gt;0):#用所有资金买入股票order_value(stock,cash)#输出买入信息log.info(\"&gt;&gt;&gt;%s买入%d股%s\"%(str(context.current_dt),context.portfolio.positions[stock].today_amount,stock))#如果昨日出现死叉，则今日开盘全部卖出elif(pre_ma5&gt;pre_ma20)and(ma5&lt;ma20)and(stockincontext.portfolio.positions.keys()):#输出卖出信息log.info(\"&lt;&lt;&lt;%s卖出%d股%s\"%(str(context.current_dt),context.portfolio.positions[stock].total_amount,stock))#卖出所有股票,使这只股票的最终持有量为0order_target(stock,0)运行策略，就会不断输出自定义的交易信息。并且在运行过程中，收益率曲线也在不断地生成。大家觉得这个回测绩效怎么样？双均线策略算有效吗？你可以自己贴代码跑回测试试，同时再调整交易标的和双均线参数试一试，一般情况下回测很快，不需要一个东的时间。虽然我这里以JoinQuant策略为例，但所有量化平台的实现逻辑都是想通的，你只需要定义自己的函数，告诉系统“你要在什么时间？交易什么标的？交易数量是多少？”，你只要解决这3个“什么”的问题，所有的量化平台你都可以玩得转了。如果你能完全理解并且复现这个双均线策略，可以说明量化已经初步入门了，接下来要转起“正向飞轮”，实现和玩转更多策略，把多标的交易加进去，把基本面数据加进去，把滑点设置加进去，把仓位控制加进去......等你回测出心仪的策略效果，接着上模拟盘跟踪，然后就是实盘，接着就是不断迭代优化，慢慢地就变成合格宽客，最后就变成量化大神了。更多量化内容更多相关资料请见下方文章卡片，另外还有一个坚持周更的量化公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：量化大神在萌新期是如何找到众多量化因子的？quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/3020710356",
        "comment_count": 2,
        "voteup_count": 19,
        "question_title": "http://www.zhihu.com/api/v4/questions/489202313",
        "question_url": "个人如何做量化交易?需要具备哪些技能和知识？"
    },
    "3014616744": {
        "created_time": 1683297981,
        "content": "并没有赚到钱，而且1手期货亏损了400w，穿仓倒欠交易所370w，不过悲剧的主人公不是我，只因墙裂赞同题主的“量化交易不是带赚钱功能的atm”，想唠唠这个真实的量化故事望大伙儿引以为戒。前段时间，一篇文章《量化交易平台的坑有多大？由于行情错误1手委托损失400多万！》在量化圈子内疯传，以自述的形式，表达了在半个多小时内亏损400多万的经历和感受，为了方便表述，根据这篇文章作者的ID名，文中称呼其为“空哥”吧。空哥这次做的是期货跨期套利，2023年4月19日上午10点半，量化交易系统监测到沥青2307合约和2308合约的价差处于低位，于是触发开仓信号，做多价差，预期将来价差会增大，也就是要开多1手沥青2307合约，同时做空1手沥青2308合约。由于2308合约没有2307合约流动性好（交易活跃成交容易），于是计划先去成交2308合约，成交之后，再去交易2307合约。2308合约成交很顺利，按盘口价3919.0成交。接着要开多2307合约，盘口卖价是3919.0，为了能立马成交，还在这基础上加了4跳（沥青的最小变动单位是1元/吨），发出了限价3923.0的委托单。按照往常一般就成交了，如果不成交，就撤单，然后读取盘口卖价加4跳再发单，通常第二次都会成交，但神奇的是，还是没有成交，高能的地方来了。在10:30~11:06这36分钟的时间里，由于一直没有成交，在沥青2307合约上，不断地撤单报单，合计总数约6万次，空哥发现异常后，就手动停掉了策略。本以为就此结束，最多把单腿的空头仓位平掉就好了，亏损一些单边点差和手续费。1手沥青，市值不到4w，每日波动限制是±3%，跌停入手再涨停，1手空头当天最多亏损2k多，那空哥为啥因为这1手委托亏损了400w呢？那是因为当天事后，期货公司打电话来说，要收400多万的申报费，空哥这个期货账户里面本来有30w，现在不仅全部被划走了，还倒欠了374w。1手委托要收400w的申报费，是不是很震惊？咱来盘盘其中的道儿~~~这个申报费，沥青这个品种所在的上海期货交易所以前是不收的，是去年8月4日夜盘开始才开始有的，详见上期所公告《关于在期货和期权合约对客户信息量收取申报费的通知》，各大期货公司和金融媒体也都披露宣传过，可能一般交易者都够不着他的起收门槛，很多人都没有留心，打个不恰当的比方，就如同个税起征点调到月薪10w才开始征收，那估计大部分国人都不会去了解10w之后的阶梯征收方式。那为什么1手委托能收400w的申报费呢？咱来详细看看上期所的这个申报费收取规则。从收费公式/图表当中看出，要计算出申报费，那就要理解“信息量”和“报单成交比OTR”这两个关键概念。信息量=报单、撤单、询价等交易指令笔数之和。也就是1个交易指令对应着1个信息量，在那篇文章当中，空哥说自己使用的是FAK指令，FAK的全称是“FillAndKill”，立即成交剩余指令自动撤销指令，简单来说就是下一个限价单，能成交就成交，不能成交的那部分就自动撤单。那1个FAK指令对应多少个信息量呢？这得分情况，如果下了FAK，全部成交了，只有报单这1个指令，那算1个信息量，如果不成交或部分成交，那后面还会跟着1个撤单指令，这种情况下算2个信息量。空哥在沥青2307合约上一共使用了59600次FAK指令，而且都是没有成交，对应的就是59600次报单和59600次撤单，信息量合计是119200笔。注意，信息量只针对笔数，跟每一笔指令对应的委托数量无关，无论你挂1手还是100手，都是收一样的钱。接下来说“报单成交比OTR”，报单成交比（OTR）=（信息量/有成交的报单笔数）-1，因为空哥将近6万次FAK指令都没有成交，所以有成交的报单笔数为0，但分母不能为0啊，上期所对这种特殊情况的处理是将分母设为1，这次的OTR=(119200/1)-1=119199。OTR这个指标的设置意图就是用来衡量你的报单质量，数值越小，报单质量越高，数值越大，报单质量就越差。如果每一笔报单都全部成交，那OTR就恒定等于0，如果每次报单都没有成交，则OTR一直随着报单笔数增加而增加。在上交所，OTR质量高低的分界点是2.0，OTR&gt;2的各档位申报费都是OTR&lt;=2的2倍，空哥这次很不幸，都落在了收费标准最高的那档。现在，咱对着上期所那张收费表，看看这400多万是怎么算出来的。沥青在上期所是属于A组品种，OTR大于2.0，收费标准看最右边那一列。前面的4000笔不收费，费用为0，费用来自于4000笔之后。4001~8000笔:4000x0.5=0.2w8000~40000笔：32000x2.5=8w40000笔以上：(119200-40000)x50=396w合计起来就是404.2w，这跟空哥披露的结算单一致，申报费用大头都来自于第2w次之后使用FAK指令，费用占比达到396/404.2=97.97%，如果空哥能在量化交易系统出现异常12分钟内手动停止策略就好了，至少能降低90%的损失。有的小伙伴可能就疑惑了，平常那些佣金手续费什么的都是实时收取，最多就把账户的钱给全部扣光，怎么这个申报费是一天一结，还把账户给搞穿仓了？其实是这样的，这个申报费是交易所针对单个品种合约收取的，是交易所要收的钱，收这个钱的目的是“为强化监管效能，保障市场平稳运行......”但一个交易者可能在多个期货公司开通多个账户交易同一个品种合约，交易所要到每天结算时，才能汇总各个期货公司的交易数据，才能计算出一个交易者他的合计信息量和OTR是多少，毕竟是阶梯收费，信息量越多、OTR越高收的越贵，这才有了实时交易不收申报费，到结算时才一次性收取，进而造成了穿仓。申报费看明白了，也计算明白了，但为什么要交这么高的申报费呢？那是因为6w次的报单撤单都成交不了1手沥青2307合约，为什么成交不了呢？空哥事后找原因发现，空哥所用的JZ量化软件推送的行情数据与其他行情软件显示的数据不一致，可能是JZ量化软件误将沥青2306合约的行情当成是沥青2307的行情推送过来了，而当时沥青2306合约的实时价格比2307合约的要低10几跳，于是读取2306合约盘口卖价外加4跳都够不着2307合约的盘口价，导致了6w次报撤单都成交不了1手的悲剧发生。也有人质疑空哥为什么不加报单撤单数限制，为什么要用FAK指令“炫技”？这还是有一定历史原因的，这就要说到上期所在2019年1月发布的《上海期货交易所异常交易行为管理办法》，在“第二章异常交易行为认定”中的“第十条因套期保值交易、立即全部成交否则自动撤销指令（FOK）和立即成交剩余指令自动撤销指令（FAK）等产生的自成交、频繁报撤单、大额报撤单等行为不构成异常交易行为。”因为使用FAK指令产生的频繁报撤单行为都不属于异常交易行为，这是当时空哥在开发这个策略时所能看到的最新相关交易规则，于是就没有加上报撤单数目限制，后续又没有经常登交易所网站学习新制度，于是乎错过了后面的申报费收费规则的学习，没有再把报撤单数目限制加上去。整个事件的始末想必已经了解清楚了，那来总结一下当中量化交易实盘中潜在的那些坑，也给咱一些警示，查缺补漏。1.行情推送错误。这是导致这次悲剧的直接原因，除了行情推送错误之外，还会有行情数据延迟，开仓信号错误或者错过交易机会；量化平台/交易终端宕机或掉线，导致委托交易失败或者回报信息慢重复报单；券商系统出错，导致获取持仓/资金错误，导致策略错误执行。别以为这些都是小量化软件平台或小券商才会出现的错误，其实浓眉大眼的交易所也会。2.交易制度变更。正是由于空哥没有经常登交易所网站学习新的交易制度，没有意识到申报费对原始策略的影响，因此没有加上报撤单数目的限制，导致了高昂费用的产生。在前文当中，详细唠了申报费的收取细节，但那只是上期所的，各个期货交易所的计算细节还是有差异的，各位小伙伴一定要记得去看看自己交易标的最新的交易制度。3.风控细节不完善。实盘交易是跟实时行情和反馈对接的，在整个交易链路当中啥幺蛾子都可能会发生，在策略当中重新加上“报撤单数目限制”是事前风控，但总有啥幺蛾子是咱事先想不到的，百密一疏嘛，这个时候至少可以在实盘策略当中加上一个预警提醒机制，事出反常必有妖，提醒一下终归是好的。愿空哥顺利趟过这次坎坷，福气都在后头~参考资料：空不异色，2023.4.19，《量化交易平台的坑有多大？由于行情错误1手委托损失400多万！》上海期货交易所，2022.7.29，《关于在期货和期权合约对客户信息量收取申报费的通知》上海期货交易所，2019.1.21，《上海期货交易所异常交易行为管理办法》更多相关资料请见下方文章卡片，另外还有一个周更的公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：36分钟，6万次报撤单，1手委托亏损400万，量化交易实盘中潜在的那些坑quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章quantkoala：2个量化小技巧，双均线策略盈亏比从1.2提升到1.9（大神请绕行）152赞同·16评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/3014616744",
        "comment_count": 14,
        "voteup_count": 98,
        "question_title": "http://www.zhihu.com/api/v4/questions/57578526",
        "question_url": "量化交易你挣钱了吗？"
    },
    "3013002253": {
        "created_time": 1683210919,
        "content": "ChatGPT自诞生以来，有着横扫一切行业的态势，量化交易行业也不例外。ChatGPT能帮到咱这些Quant们哪些方面，要是一个一个瞎琢磨呢，也琢磨不出什么道道，个人毕竟视野狭窄不够全面，咱就来站在巨人的肩膀上，看看国内券商的金融工程团队有哪些全面深入的研究成果？于是乎，我给大伙儿盘点了10篇有意思的量化交易ChatGPT研报，排名不分先后，按发布时间早晚列举，后面有传送门。我觉得最先应该看的是国泰君安在今年2月份发布的《ChatGPT研究框架(2023)》，里面图文并茂概述讲解了OpenAI和ChatGPT的核心功能和应用场景，方便咱在量化交易的后续使用，AIGC大神可以忽略跳过。接下来可以看华泰金工的《GPT＋量化投资＝？》，里面明确表述了ChatGPT对量化投资带来3点影响。第一点影响是，ChatGPT可以用于财经新闻、论坛评论、研究报告等文本数据，开发基于自然语言处理的文本挖掘相关的量化交易策略。第二点影响就是，ChatGPT被运用于量化策略代码的编写，并且接入数据平台后可以实现交易策略的批量调参与样本外跟踪。这个现在已经实现的比较出色了，可以看我之前对智能编程神器Cursor的介绍。最后一点影响是，ChatGPT还可以降低量化研究的门槛，例如降低基于文本数据的策略研究的难度、整合形成第三代搜索引擎助力量化资讯高效率收集等。更贴心的一点是，鉴于国人需要科学上网和国外手机号注册才能使用ChatGPT，在这篇研报文末，作者给出了一个可以在国内免费丝滑使用ChatGPT功能的方式。更多详细的使用案例和技巧，可以看方正金工在4月24日发布的《ChatGPT在投资研究工作中的应用初探》，以及华泰金工在4月26日发布的《面向投资研究行业的GPT使用指南》，里面有量化分析代码编写、MACD个股收益预测能力检验、爬虫抓取股吧评论、A股市场行情复盘等使用案例。如果你觉得自己编程基础还可以，还可以考虑在自己个人电脑上部署一个本地ChatGPT，前提是电脑配置还可以，具体细节详见中信建投金工团队在10天前发布的《如何部署本地版“ChatGPT”提高研究效率》。接下来要介绍的5篇研报，主要讲的是，如何使用ChatGPT解决量化交易/量化投资里面的具体问题。东证金工的《ChatGPT在量化投资中的运用：股票预测》里面讲的是，如何一步一步“调戏”ChatGPT建立模型和生成源码，最终建立了LSTM股价预测模型。国金证券金融工程团队在4月4日发布的研报《如何利用ChatGPT挖掘高频选股因子？》中，详细介绍了ChatGPT的提示工程和使用指南，进行了因子挖掘实战，并最终挖掘和构建出了“周频变异系数因子”和“高频买卖盘力量因子”，最终完成了因子测试与组合优化。与上面2篇利用ChatGPT本尊解决股票量化问题不同，广发金工的《Transformer架构下的量价选股策略：ChatGPT核心算法应用于量化投资》，利用的是ChatGPT模型的核心算法——Transformer模型，输入个股涨跌幅和换手率面板数据，构建出股票未来涨跌概率的预测模型，最近三年来，策略的收益和回撤均优于沪深300、中证500和全市场选股，全市场选股Transformer因子的分档表现如下图所示。与前面3篇研报量化目的不同，东吴金工团队探索利用ChatGPT对基金进行定量打分，输入每只基金的定性分析、产品分析、资产配置、行业配置、特质表现、归因分析和产品端分析这7个方面的描述（基金点评），输出该基金的10档评分，详见《基于ChatGPT的基金评价探究》。国元金工的《机器学习在投资中的应用（ChatGPT）》这篇研报比较“讨巧”，通篇都没有ChatGPT的具体使用身影，但所有的正文内容都是ChatGPT生成的，让大伙儿切实感受一下量化研报的AIGC。这10篇热门ChatGPT量化研报里面涉及的内容太多了，笨嘴拙舌说不全也说不好，让大伙儿觉得云里雾里着三不着两，具体的详细内容还是看原始研报本体吧，在公Z号『量化君也』后台回复暗号：chatgpt，直接保存、下载和阅读，enjoy~网络热门ChatGPT量化交易研究报告盘点（附下载）更多相关资料请见下方文章卡片，另外还有一个周更的公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：36分钟，6万次报撤单，1手委托亏损400万，量化交易实盘中潜在的那些坑quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章quantkoala：2个量化小技巧，双均线策略盈亏比从1.2提升到1.9（大神请绕行）152赞同·16评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/3013002253",
        "comment_count": 6,
        "voteup_count": 57,
        "question_title": "http://www.zhihu.com/api/v4/questions/582786608",
        "question_url": "ChatGPT爆火，那么在日常量化研究过程中，ChatGPT真的可以成为Quant人员的得力的助手吗？"
    },
    "3000801134": {
        "created_time": 1682432943,
        "content": "量化入门关键是量化思维的启发，用于提高投资决策的胜率和盈亏比，编程也只是一个达到目标的工具，很多简单入门的量化策略，用Excel就可以实现了，无需复杂编程。之前就给大伙儿推荐过，不少的量化投资入门书籍，很多萌新看过后，满腔热血地想投身到宽客的行列当中，但迈出第一步后就懵了，怎么滴呢？编程太难了！特别是对于没有任何编程基础的文科童鞋，看着那些个花花绿绿的代码，每一个字母都认识，但堆在一起就不明白TM到底是啥意思。先别急着放弃啊，有条件可以上，没有条件创造条件也可以上嘛，你有没有想过，不需要专门学Python编程，也不需要零编程规则式的量化平台，仅依靠微软Office办公三件套之一的Excel，便可以走通量化策略的开发和回测的整个流程。说起来惭愧，我最初做量化的时候，也没学编程，仅用Excel外带几个常用公式就开搞了，因为在我的眼里，量化投资更多是一种投资交易的分析手段，基于金融逻辑和历史数据，发现和验证交易理念，提高决策的胜率，只要能实现这些功能，管他黑猫白猫，抓住老鼠就是好猫，弯下腰，弄脏手，躬身入局。而且啊，Excel有个好处就是，展示数据非常直观，非常便于咱深入了解整个过程，让量化基础更扎实，闲篇扯完了，撸起袖子开整吧~无论是主观投资还是量化投资，在新手村的时候，肯定听说过『双均线策略』，以股票为例，就是短均线上穿长均线，形成金叉时买入，短均线下穿长均线，形成死叉时卖出。挑选近期大涨的股票往回看，发现大涨之前的确是有双均线金叉，大跌的股票也是有双均线死叉，其实这可能是一个“幸存者偏差”，可能是金叉/死叉之后有大涨/大跌的，也有震荡的，只不过是大涨/大跌的被有意或无意地挑选出来。那到底这个『双均线策略』是真的有效，还是幸存者偏差，咱不能拍大腿拍脑袋就决定了，教员说“没有调查，没有发言权”，小平同志说“实践是检验真理的唯一标准”，那咱就用量化的试金石测一下，那就把『双均线策略』作为萌新入门量化的第一个策略吧。首先要准备一个Excel表格，里面装有你心仪投资标的的行情数据就行，股票可以，数字货币也行，最低配的，有日期和收盘价就可以了，甚至连日期都可以没有，自己知道时间的对应关系就行了。什么？找不到行情数据？现在可以拿到免费数据的渠道那么多，咱还是不要守着金山当乞丐哟~我就拿股票为例吧，说说怎么获取免费的股票数据，“通达信”大家知道伐，用的人很多的那个，在电脑端下载安装一个，免费注册使用的。打开你想测试的个股日K图，为了避免有荐股的嫌疑，我就以沪深300指数为例。点击右上角工具栏【选项】，在弹出的下拉列表中选择【数据导出】，接着就会弹出一个对话框，记得选【Excel文件】，设置好文件的存放路径，自己能找到就行。这里有一个操作小技巧，通达信默认是导出界面所展示的日期范围内的数据，如果想要更多数据，按键盘的向下键『↓』，就可以展示更多日期，我在这里就获取了沪深300能获取的全部数据，日期范围为2005年1月4日至今。导出的数据当中，除了行情数据之外，还有很多乱七八糟的数据，为了简洁起见，只保留日期和收盘价，其他的内容统统删除掉。为了美观，可以让数据居中对齐和加框线。有了数据之后，剩下的就好办了，只要懂Excel基本操作，一步一步跟着走就可以完成。现在咱要算出两根均线的数值，短均线咱就用5日均线（MovingAverage5，MA5），长均线咱就用20日均线（MA20）。每一天的MA5数值，就是用含有当天的5个收盘价计算平均值，MA20就是利用20个。2005年至今有4000多个交易日，咱总不能手动一个一个算出来啊，这样会累si人的，为了方便轻松，就需要用到Excel的公式了。由于计算MA5需要5个收盘价数据，所以在新增一例“MA5”后，在2005年1月10日所在行的单元格里输入“=AVERAGE(B2:B6)”，就可以算出2005年1月10日的MA5数值了，其中B表示“B列”，也就是收盘价所在的列，数字表示行号，由于列名占了一行，所以第一个有效数值从第2行开始，相信懂Excel基本操作的小伙伴都能明白哒，下文不再赘述了。Excel当中很智能的一点是，你再选中刚才那个单元格，把鼠标移到单元右下方，鼠标会变成一个黑色十字『＋』,双击鼠标左键，Excel就会智能地利用这个公式对剩余数据进行计算，文字比较抽象，请看下图的演示。MA20的计算也是同理，只不过MA20的计算需要20天的数据，因此需要在2005年1月31日才能计算第一个数据点，至此，咱就有了MA5和MA20两条均线的数据了。有了双均线数据之后，咱就要确定交易信号，就像前面说的那样，金叉买入，死叉卖出，这里要用到Excel的IF判断公式，形式如IF(条件,A,B)，如果条件成立的话，单元格就输出A，不成立的话，单元格就输出B，咱在这里，如果MA5高于MA20就输出1，反之就输出0。于是，新增一列“信号”列，在MA20有第一个数值的那一行对应的单元格里输入“=IF(C21&gt;D21,1,0)”，然后再利用之前的“黑色十字双击”技巧，智能填充另外的信号列数据。现在交易信号也有了，那怎么统计这个策略的收益率呢？咱现在回过头来看，由0变1的那个日期对应的就是金叉，由1变0的那个日期对应的就是死叉，根据“金叉买入，死叉卖出”的原则，可以简单认为（下文有补充），信号为1的日期都是有持仓的，信号为0的都是空仓。于是乎，假设咱是全仓买入沪深300指数（有对应ETF可交易），先计算指数的日收益率，然后将每天的收益率与信号相乘，就可以得出策略的日收益率，空仓的日期收益率为0，持仓的日期收益率就是对应指数的收益率，操作演示如下。有了日收益率之后，咱就可以进一步得出这个双均线策略的累计收益情况了，每一天的资产金额等于前一日资产金额乘以(1+当日涨幅)，假设咱期初有1000块钱，结合前面计算出来的策略日收益率，就可以依次算出每一天的资产金额。如果按照这个双均线策略操作，在不考虑交易成本的情况下，咱最终能拥有多少钱呢？效果是否比买入并持有沪深300指数好呢？从最后一个交易日的结果看出，双均线策略从18年前的1000块钱变成了今天的4个达不溜，18年40倍，而买入并一直持有沪深300则是4倍，前者年化收益约22%，后者年化收益约为8%，超额收益14%。在Excel中画图也是非常简单的，选中“日期”、“双均线策略”和“买入并持有”这三列，然后插入折线图，双均线策略的资金曲线就出来啦，从折线图当中更能直观地看出收益情况的对比。最后总结一下，本回答单纯基于Excel进行了双均线计算、交易信号确定、日收益率计算、资产金额计算和资金曲线画图这5个步骤，完成了『双均线策略』的开发和回测，不会编程的萌新也可以利用这套流程，对常见的技术指标在个股和指数/ETF等投资标的上进行有效性验证，只要灵活修改前面“指标计算”和“交易信号确定”这两个步骤就可以了。补充说明，这个策略的开发和回测流程，主要是启发萌新的量化思路，其实细心的读者已经发现了，在生成交易信号的时候是带有一点“未来函数”的，因为双均线是利用收盘价计算出来的，出现金叉/死叉的时候已经收盘了，无法按照收盘价买入，更不会将当日涨幅纳入进来。因此更为严谨的操作是，在前一日金叉时，今日按照开盘价买入，策略的日收益率则是开盘价到收盘价的涨幅；在前一日死叉时，今日按照开盘价卖出，策略的日收益率则是前一日收盘价到今日开盘价的涨幅，这需要多增加几列数据进行计算。因为这种带有一点未来函数的回测方法非常直观和便捷，自己在遇到新指标因子时，可以快速进行测试，如果回测效果好，则进行更深入的研究，如果效果不好，直接放弃说byebye~更多相关资料请见下方文章卡片，另外还有一个周更的公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章quantkoala：2个量化小技巧，双均线策略盈亏比从1.2提升到1.9（大神请绕行）152赞同·16评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/3000801134",
        "comment_count": 2,
        "voteup_count": 27,
        "question_title": "http://www.zhihu.com/api/v4/questions/547126475",
        "question_url": "量化交易入门需不需要会编程？"
    },
    "2991617847": {
        "created_time": 1681911328,
        "content": "我就以复现一篇网红金融工程研究报告为例，讲述量化建模的整个过程，从研报、数据一直唠到模型建立与回测，全程都有程序源码，以下是最终复现的效果图。1.研报来源和指标思想这篇网红金工研报就是光大证券在2017年劳动节发布的《基于阻力支撑相对强度的市场择时》，里面有一个网红指标RSRS，无论是做股票和ETF的，还是做期货CTA或者是大饼的圈子，都有不少人在使用，它被提及的频次仅次于MACD，说是网红指标也毫不为过。RSRS指标的全称是“阻力支撑相对强度（ResistanceSupportRelativeStrength）”，这个系列的研报有好几篇，目录放在文末参考资料那里了，想看的小伙伴在公Z号【量化君也】后台回复暗号『RSRS』便可以保存下载阅读。具体的渊源和概念可以参照原版研报，如果只想听个大体思路的话，暂且听我之前的闲话唠一唠。刚开始做交易的时候，总会听到一些\"专家\"预测点位，说大盘的阻力位在哪，说某只股票的支撑位在哪，各有各的理由，众说纷纭，但是预测的点位也是\"一千个人眼里有一千个哈姆莱特\"，不知道谁说的对。后来慢慢发现，无论是在开发股票策略还是CTA策略，都不知不觉的使用了阻力和支撑的概念，比如说在做趋势策略之时，突破上轨做多，突破下轨做空，这个上下轨其实就类似于阻力线和支撑线，向上突破了阻力线后，广阔天地，大有可为，就开多仓，向下突破支撑线后，失去靠山，一泻千里，则开空仓或平仓。有的时候，阻力线和支撑线并不是分开的两条线，也可以是一条线，这条线既可以是阻力线，也可以是支撑线。就拿很多萌新入门常用的单均线策略来说，价格上穿20日均线做多，价格下穿20日均线做空，在这里，这根20日均线既是阻力线也是支撑线。价格在均线下方之时，均线便是阻力线，向上突破则做多，反之，价格在均线上方，此时均线则化身为支撑线，当价格失去支撑时则做空或平仓。那问题来了，怎么找到阻力位和支撑位呢？听网上那些“专家”的预测吗？当然不是啦~其实我们每天看K线图，“公认”的阻力和支撑就蕴含在里面，那就是K线的最高价和最低价，不要脸地说，这两个价格是经过万千交易者充分交易后的博弈结果，所有的成交价格都包含在了最高价和最低价形成的空间里，在最高价这条阻力线之下，在最低价这条支撑线之上。当然了，光用1天的最高价和最低价当然不行，可以用序列值。假设我们已经有了相对靠谱的阻力位和支撑位，那应该怎么使用呢？像上下轨突破策略那样使用吗？可以换一个思路，这就是RSRS的创新点所在，不直接使用阻力位和支撑位这种绝对阈值方式，改为使用相对强度的方式。就好比是，绝对阈值方式就是预测清华北大的学生能否将来年入百万千万，相对强度方式则是预测清华北大的学生收入将来是否超越双非院校的学生，这两者都不是绝对事件，但两者的预测难易程度一目了然，这个比方不是很恰当，是我能想到的最好的了，只是用来说明，让大伙儿更好地体会（惶恐狗头保命状ing）。2.RSRS斜率指标和策略现在说清楚了阻力位和支撑位的代理变量，和指标构建的核心思想，那再来唠唠RSRS的具体计算步骤和细节。首先，获取N日最高价和最低价的价格序列，然后，对最高价和最低价序列进行最小二乘法(OLS)线性回归，每日滚动进行，其中beta值就是斜率。最高价=alpha+beta×最低价其中斜率值beta表示最高价相对最低价位置变化的程度，也就是说，当最低价变化为1的时候，最高价变动多少。当斜率值beta很大时，支撑强度大于阻力强度，从图形上看就是，最高价的变动速度比最低价的要快，阻力逐渐减小，上涨空间大。当斜率值beta很小时，阻力强度大于支撑强度，从图形上看就是，最高价的变动速度比最低价的要慢，上涨逐渐减缓，势头受阻见顶。最后，这个斜率值beta就会被作为当日的RSRS值，确切来说应该是“RSRS斜率指标值”，因为后文会对指标不断改进，RSRS的含义会更加多样丰富。RSRS的计算步骤和流程说完了，光说不练假把式，咱撸起袖子开干吧，从数据获取、指标计算和策略构建全部用代码实现和展示。第一步，对照原版研报，获取沪深300指数从2005年至今的开高低收行情数据，这里使用的是股票量化开源库qstock，“pipinstallqstock”安装后，基本的功能无需注册便可以使用，萌新使用起来也非常丝滑。importqstockasqs#获取沪深300指数从2005年至今的高开低收等行情数据，index是日期data=qs.get_data(code_list=['HS300'],start='20050101',freq='d')[['open','high','low','close']]#删除名称列、排序并去除空值data=data.sort_index().fillna(method='ffill').dropna()#插入日期列data.insert(0,'date',data.index)#将日期从datetime格式转换为str格式data['date']=data['date'].apply(lambdax:x.strftime('%Y-%m-%d'))#按收盘价计算每日涨幅data['pct']=data['close']/data['close'].shift(1)-1.0data=data.dropna().reset_index(drop=True)print(data.head(5))print(data.tail(5))第二步，这里的关键是计算每一日的斜率值beta，这里先给量化萌新说一个简单具体的例子，懂最小二乘法OLS的小伙伴可跳过。假设有18个二维的数据点，横轴X轴的坐标是1~18的等差数列，纵轴Y轴的坐标依照y=2*x_noise+1生成，x_noise是在横坐标x的基础上加入了随机数噪声，在这里，X轴数值对应的就是RSRS计算中的最低价，Y轴对应的就是最高价，具体分布如下。importnumpyasnpimportpandasaspdimportmatplotlib.pyplotaspltnp.random.seed(0)#保证随机数生成的一致性N=18#数据点个数x=np.arange(1,N+1)x_noise=x+np.random.randn(N)#加入随机数噪声干扰y=2*x_noise+1print('x:',x)print('x_noise:',x_noise)print('y:',y)plt.figure(figsize=(7,7))plt.scatter(x,y)plt.show()虽然有噪声的干扰，咱都知道它们的底层关系就是一条二维直线y=beta*x+alpha，其中beta=2是斜率，alpha=1是截距，最小二乘法OLS的作用就是根据已知的坐标数值，计算出斜率和截距。在这里为了方(tou)便(lan)，咱还是直接从Python免费机器学习库Scikit-learn（简称sklearn）中导入LinearRegression求解，这里要注意的是，训练集必须是二维数组（矩阵）的形式，也就是每个样本对应的是一个向量，即使这个向量只有一个数值，这里使用reshape函数快速将n维向量转换为nx1维矩阵。从最终结果看出，解出来的斜率为1.907，跟实际值还是非常接近的。fromsklearn.linear_modelimportLinearRegressionlr=LinearRegression().fit(x.reshape(-1,1),y)y_pred=lr.predict(x.reshape(-1,1))beta=lr.coef_[0]alpha=lr.intercept_print('斜率:',beta,'截距:',alpha)plt.figure(figsize=(7,7))plt.scatter(x,y)plt.plot(x,y_pred,color='red')plt.show()解单个序列的斜率值咱搞定了，在沪深300指数的行情数据上，咱只需要每个交易日滑动(rolling)计算18个交易日最高价vs最低价的斜率就可以了，为什么N=18呢，因为这是原版研报中在2017年定的最优参数，本期文章以复现为主，因此尊重历史客观事实按照原始参数。defcalculate_beta(df,window=18):ifdf.shape[0]&lt;window:returnnp.nanx=df['low'].valuesy=df['high'].valuesbeta=LinearRegression().fit(x.reshape(-1,1),y).coef_[0]returnbetaN=18#计算斜率时的数据点个数data['beta']=[calculate_beta(df,window=N)fordfindata.rolling(N)]data.tail(20)现在咱们有了历史上每个交易日的beta值，也就是RSRS值，在这第三步里就可以构建针对大盘沪深300指数的量化择时策略了，这个策略的逻辑非常简单，就是“RSRS值大于1.0的时候，买入持有；RSRS值小于0.8，卖出平仓”，现实当中对应的交易标的可以是300ETF或IF股指期货。有的小伙伴可能会好奇，为什么买入阈值是1.0、卖出阈值是0.8呢？原文当中的确定方法是，根据RSRS均值加减一个标准差形成的。重新统计一下目前的数据，统计值和斜率分布如下，发现RSRS均值还是在0.9左右，标准差也还是在0.1左右，故买入阈值仍然可以定为1.0，卖出阈值定为0.8。print('均值：%.3f'%data['beta'].mean())print('标准差：%.3f'%data['beta'].std())print('偏度：%.3f'%data['beta'].skew())print('峰度：%.3f'%data['beta'].kurt())y=list(range(200))plt.figure(figsize=(16,8))plt.hist(data['beta'],bins=100)plt.plot(len(y)*[0.8],y,color='green',linestyle=':')plt.plot(len(y)*[1.0],y,color='red',linestyle=':')plt.show()买入卖出阈值确定后，RSRS值若大于1.0，买入并持有，RSRS值跌破0.8后，则卖出平仓，为了方(tou)便(lan)尊重原版研报不考虑费率影响，策略源码和回测曲线如下，总体下来比买入并一直持有基准指数要好。buy_thre=1.0#买入阈值sell_thre=0.8#卖出阈值data1=data.dropna().copy().reset_index(drop=True)data1['flag']=0#买卖标记，买入：1，卖出：-1data1['position']=0#持仓状态，持仓：1，不持仓：0position=0foriinrange(1,data1.shape[0]-1):beta=data1.loc[i,'beta']if(position==0)and(beta&gt;buy_thre):#若之前无持仓，上穿买入阈值则买入data1.loc[i,'flag']=1data1.loc[i+1,'position']=1position=1elif(position==1)and(beta&lt;sell_thre):#若之前有持仓，下穿卖出阈值则卖出data1.loc[i,'flag']=-1data1.loc[i+1,'position']=0position=0else:#不触发阈值，则保持原有持仓状态data1.loc[i+1,'position']=data1.loc[i,'position']#RSRS策略的日收益率data1['strategy_pct']=data1['pct']*data1['position']#策略和沪深300的净值data1['strategy']=(1.0+data1['strategy_pct']).cumprod()data1['hs300']=(1.0+data1['pct']).cumprod()#粗略计算年化收益率annual_return=100*(pow(data1['strategy'].iloc[-1],250/data1.shape[0])-1.0)print('RSRS斜率量化择时策略的年化收益率：%.2f%%'%annual_return)#将索引从字符串转换为日期格式，方便展示data1.index=pd.to_datetime(data1['date'])ax=data1[['strategy','hs300']].plot(figsize=(16,8),color=['SteelBlue','Red'],title='RSRS斜率量化指数择时策略净值by公众号【量化君也】')plt.show()3.RSRS标准分指标和策略但由于市场不同时期，斜率的均值（中枢位置）会有比较大的波动，季度均值(蓝线)和年度均值(红线)如下所示，因此使用固定数值作为买入卖出阈值则不太妥当。于是乎，研报当中提出了将原来的“RSRS斜率”转换为“RSRS标准分”，也就是在每个交易日，以M个交易日为观察期（默认M=600），将RSRS斜率做一个Z-Score标准化（即“（当前值-均值）/标准差”），便可以得到RSRS标准分，它能更加灵活地适应市场波动带来的斜率均值的变化。有了RSRS标准分之后，便可以构建新策略，与之前的RSRS斜率策略类似，当RSRS标准分大于0.7时，买入并持有，当RSRS标准分小于-0.7时，则卖出平仓，策略源码和回测净值曲线如下所示。M=600#观察周期buy_thre=0.7#买入阈值sell_thre=-0.7#卖出阈值data2=data.dropna().copy().reset_index(drop=True)#计算标准分，如果当前时间长度不够，则使用至少20交易日数据计算data2['std_score']=(data2['beta']-data2['beta'].rolling(M,min_periods=20).mean())/data2['beta'].rolling(M,min_periods=20).std()data2['flag']=0#买卖标记，买入：1，卖出：-1data2['position']=0#持仓状态，持仓：1，不持仓：0position=0foriinrange(1,data2.shape[0]-1):std_score=data2.loc[i,'std_score']if(position==0)and(std_score&gt;buy_thre):#若之前无持仓，上穿买入阈值则买入data2.loc[i,'flag']=1data2.loc[i+1,'position']=1position=1elif(position==1)and(std_score&lt;sell_thre):#若之前有持仓，下穿卖出阈值则卖出data2.loc[i,'flag']=-1data2.loc[i+1,'position']=0position=0else:#不触发阈值，则保持原有持仓状态data2.loc[i+1,'position']=data2.loc[i,'position']#RSRS策略的日收益率data2['strategy_pct']=data2['pct']*data2['position']#策略和沪深300的净值data2['strategy']=(1.0+data2['strategy_pct']).cumprod()data2['hs300']=(1.0+data2['pct']).cumprod()#粗略计算年化收益率annual_return=100*(pow(data2['strategy'].iloc[-1],250/data2.shape[0])-1.0)print('RSRS标准分量化择时策略的年化收益率：%.2f%%'%annual_return)#将索引从字符串转换为日期格式，方便展示data2.index=pd.to_datetime(data2['date'])ax=data2[['strategy','hs300']].plot(figsize=(16,8),color=['SteelBlue','Red'],title='RSRS标准分量化指数择时策略净值by公众号【量化君也】')plt.show()RSRS标准分策略看起来要比RSRS斜率策略要好，咱把它们和基准画在一张图上进行对比，这种优秀就更明显了。data_merge=pd.merge(data1[['date','strategy']].rename(columns={'strategy':'RSRS斜率策略'}),data2[['strategy','hs300']].rename(columns={'strategy':'RSRS标准分策略'}),left_index=True,right_index=True,how='inner')data_merge.index=pd.to_datetime(data_merge['date'])ax=data_merge[['RSRS斜率策略','RSRS标准分策略','hs300']].plot(figsize=(16,8),color=['Yellow','SteelBlue','Red'],title='RSRS量化择时策略对比by公众号【量化君也】')plt.show()咱把研报中的RSRS策略对比图也找出来看看，研报中的数据是截止到2017年4月，当时RSRS斜率策略的累计净值是在10.57，RSRS标准分策略的累计净值是在13.37，无论是走势还是数值，总体上还是比较接近的，算是能复现出个大概了。4.补充和总结需要补充的是，原始研报中可能隐含了两处“未来函数”，第一处是买入卖出阈值的确定，文中是统计了全部数据集的数值（例如斜率值beta）分布再确定阈值的，相当于是用训练集训练模型，然后又让模型预测训练集。第二处就是买卖时点的确定，当天出信号之后当日收盘价成交，虽然只要当日K线不出现“光头”或“光脚”，可以大概率近似实现，但与实盘情况还是有一定差距，只是回测起来非常方便。原版研报当中没有明说，仅为个人猜测和看法，因为这种方式回测结果与研报最接近。总体来说整篇研报还是瑕不掩瑜，RSRS指标带有一定的创新性，不少小伙伴看了都觉得有启发，本次重点是在“复现”，于是也遵从了这两处设定。到这里，基本的RSRS策略就已经复现完毕了，幸好总体结果跟原始研报还是一致的，暂时还没有翻车，希望已经给各位说清楚了，也让想要实现的小伙伴们少走一些弯路，节省一些精力。如果对你有帮助，可以点个充满鼓励的『赞』告诉我，接着把RSRS后续系列肝完。参考资料光大金工，2017.5，《技术择时系列报告之一：基于阻力支撑相对强度（RSRS）的市场择时》光大金工，2017.6，《技术择时系列报告之二：阻力支撑相对强度（RSRS）择时及行业轮动》光大金工，2017.7，《技术择时系列报告之三：阻力支撑相对强度（RSRS）选股》光大金工，2018.3，《技术择时系列报告之五：基于RSRS策略改进的资产配置研究》光大金工，2019.11，《技术择时系列报告之六：RSRS择时：回顾与改进》更多相关资料请见下方文章卡片，另外还有一个周更的量化公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章quantkoala：2个量化小技巧，双均线策略盈亏比从1.2提升到1.9（大神请绕行）152赞同·16评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2991617847",
        "comment_count": 10,
        "voteup_count": 283,
        "question_title": "http://www.zhihu.com/api/v4/questions/62124998",
        "question_url": "量化模型的建型过程是怎么样的呢？"
    },
    "2990198382": {
        "created_time": 1681832475,
        "content": "如果想快速入门Python量化交易的话，根据个人经历和经验，我推荐的学习路径是：投资想法-&gt;量化基础-&gt;量化平台-&gt;量化策略这是抽象的概括，之后再把每个步骤详细唠唠，这里首先需要确定快速入门的学习原则：适度学习，够用就行~~~不要走“贪大求全”的弯路，陷入“胡子眉毛一把抓”的陷阱，不然很容易就从入门到放弃了~2021版《新华字典》中，收录了13000多个汉字，而日常生活中只需要用到其中3000多个，也就是说，不用啃完编程书籍等大部头才可以开始，按常用按需学习就行。一、投资想法很多人做量化，都是因为自己有初始的投资想法，想验证正确性提高交易胜率，或想解放双手追求效率，全自动程序化盯盘交易，量化跟人工智能AI一样，都是手段，用来实现自己想要的目的，不是为了量化或AI本身而学习。有初始的投资想法，在开始学习的时候有一个好处，就是可以在学习量化时有的放矢，听到相关的知识点的时候，脑子就会在想，我想要的功能能不能这样实现。比如，你想实现均线交易策略，那么你在学习pandas模块时，听到rolling和mean函数，就会有“确认过眼神，找到对的人”的赶脚。如果在投资想法这边还是没有感觉，不介意的话可以看看我之前的文章，里面很多策略想法都是从交易书籍、研报论文和市场观察中发现的。股票&amp;ETF相关策略：《私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对》《手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）》《复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略》《Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score》《ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞》《两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）》《跟踪『聪明钱』，巧用北向资金进行大盘择时》《量化萌新向ETF择时策略：当北上资金遇上布林带》《跟着“基金一哥”张坤量化选股的快乐，你想象不到！》《小市值因子已然凉凉，绩优小市值依旧狂浪》《中国版“漂亮50”量化策略》《鱼身策略懒人爱，量化内卷别乱买》商品期货相关策略：《唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略》《又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略》《又来唠一个另类异质量化策略：20后的Trendflex策略》《『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略》《K线标准化结构图：构建一个趋势策略，就是那么朴实无华》《CTA策略中的Alpha：期限结构之展期收益率策略》《量化本无妙手，背后都是坚实的本手：波动率不对称性RSJ量化策略》《兄弟家量化策略很多，拿一个『波动率收敛突破策略』盘一下》《兄弟家量化策略很多，又拿一个『操盘手策略』盘一下》《动物庄园：商品期货跨品种套利策略》《量化同质越来越严重，如何保持策略的长久优势？（附异质化另类量化策略）》《唠一唠指标之王MACD的另类用法：高低形态短线量化策略》《股指期货除了无脑吃贴水之外，还有更卷的量化操作策略吗？》二、量化基础这里面主要包含两大部分，一个是量化通识，另一个是编程基础。关于量化通识，看量化故事类的书籍都可以有所了解，以前我也列过一个书单。《量化投资书单推荐（20本）》如果没有那么多时间，想快速了解量化投资的方方面面，开始的时候只看这本就够了。《萌新量化投资入门的第一本书》对于Python的快速学习，墙裂推荐廖雪峰老师的Python教程，不仅免费写得非常简单易懂，而且每个小节之后，都有编程互动小题目给你即时反馈，非常有趣，不用再想着自己啃完编程大部头再去编写策略，教程链接：https://www.liaoxuefeng.com/wiki/1016959663602400廖老师的教程非常详尽，连Web开发都讲了，但是再次重申咱的快速入门学习原则：不贪多，够用就行。对于量化基础而言，学到“错误、调试和测试”章节就可以了，后面等有时间再看。遗憾的是，里面没有讲到量化常用的numpy和pandas模块，这个可以在学了廖老师课程之后，再单独度娘学习一下。三、量化平台对于量化初学者而言，不建议自己搭建量化框架/平台，应该以实现量化策略为主，把数据获取清洗、回测框架搭建和对接实盘接口等工作交给专业团队打理，因此强烈建议使用现成的第三方量化平台，这里给大家推荐一些。如果你打算用Python做量化交易，可以选择以下6个量化平台，在他们的官网的“帮助中心”里面，都可以找到对应的上手教程和策略模板。聚宽JoinQuant：https://www.joinquant.com优矿Uqer：https://uqer.datayes.com米筐RiceQuant：https://www.ricequant.com掘金量化：https://www.myquant.cn迅投QMT：http://www.thinktrader.netvn.py：https://www.vnpy.com四、量化策略有了编程基础，又选定了量化平台，恭喜你，你终于有能力实现自己最初的投资想法了，量化策略是投资想法的逻辑化和程序化展现。由于每个人的投资想法不尽相同，只好举一个简单的双均线交易策略为例进行描述，因为“双均线”这是一个接触到投资交易，都基本会听过的词儿，“专家”告诉你在金叉的时候买，在死叉的时候卖，那实际效果到底是怎么样的呢？在聚宽JoinQuant量化平台上，拿茅台作为交易标的，咱定义5日均线和20日均线在出现金叉的时候，第二天一开盘就全仓买入，出现死叉时，就把所有持仓全部卖出，策略代码如下。如果已经看完廖老师的前几章课程，这代码就大概能看懂七七八八了，剩下的再结合平台的API说明就能全部弄清楚了。大概的实现流程就是，在初始化函数initialize中设置了交易标的、策略参数和交易费率，以及定义了一个每天在开盘运行的函数stock_trade，并且开启了“防未来函数”功能。在stock_trade函数里面，计算昨天和前天的5日均线和20日均线，如果金叉就买入，死叉就卖出。#导入函数库fromjqdataimport*#初始化函数，设定基准等等definitialize(context):#交易的股票g.stock='600519.XSHG'#长短均线参数g.short_len=5g.long_len=20#设定沪深300作为基准set_benchmark('000300.XSHG')#开启动态复权模式(真实价格)set_option('use_real_price',True)#过滤掉order系列API产生的比error级别低的loglog.set_level('order','error')#打开防未来函数set_option('avoid_future_data',True)#股票类每笔交易时的手续费是：买入时佣金万分之三，卖出时佣金万分之三加千分之一印花税,每笔交易佣金最低扣5块钱set_order_cost(OrderCost(close_tax=0.001,open_commission=0.0003,close_commission=0.0003,min_commission=5),type='stock')#开盘时运行run_daily(stock_trade,time='open',reference_security='000300.XSHG')##开盘时运行函数defstock_trade(context):stock=g.stockshort_len=g.short_lenlong_len=g.long_len#获取股票的收盘价#当取日线数据时,不包括当天的,即使是在收盘后，没有未来data=attribute_history(stock,long_len+1,'1d',['close'])#计算双均线数据data['ma5']=data['close'].rolling(short_len).mean()data['ma20']=data['close'].rolling(long_len).mean()#昨日MA5和MA20数值ma5=data['ma5'].iloc[-1]ma20=data['ma20'].iloc[-1]#前日MA5和MA20数值pre_ma5=data['ma5'].iloc[-2]pre_ma20=data['ma20'].iloc[-2]#取得当前的可使用的资金cash=context.portfolio.available_cash#如果昨日出现金叉，则今日开盘买入if(pre_ma5&lt;pre_ma20)and(ma5&gt;ma20)and(cash&gt;0):#用所有资金买入股票order_value(stock,cash)#输出买入信息log.info(\"&gt;&gt;&gt;%s买入%d股%s\"%(str(context.current_dt),context.portfolio.positions[stock].today_amount,stock))#如果昨日出现死叉，则今日开盘全部卖出elif(pre_ma5&gt;pre_ma20)and(ma5&lt;ma20)and(stockincontext.portfolio.positions.keys()):#输出卖出信息log.info(\"&lt;&lt;&lt;%s卖出%d股%s\"%(str(context.current_dt),context.portfolio.positions[stock].total_amount,stock))#卖出所有股票,使这只股票的最终持有量为0order_target(stock,0)运行策略，就会不断输出自定义的交易信息。并且在运行过程中，收益率曲线也在不断地生成。大家觉得这个回测绩效怎么样？双均线策略算有效吗？你可以自己贴代码跑回测试试，同时再调整交易标的和双均线参数试一试，一般情况下回测很快，不需要一个东的时间。虽然我这里以JoinQuant策略为例，但所有量化平台的实现逻辑都是想通的，你只需要定义自己的函数，告诉系统“你要在什么时间？交易什么标的？交易数量是多少？”，你只要解决这3个“什么”的问题，所有的量化平台你都可以玩得转了。如果你能完全理解并且复现这个双均线策略，可以说明量化已经初步入门了，接下来要转起“正向飞轮”，实现和玩转更多策略，把多标的交易加进去，把基本面数据加进去，把滑点设置加进去，把仓位控制加进去......等你回测出心仪的策略效果，接着上模拟盘跟踪，然后就是实盘，接着就是不断迭代优化，慢慢地就变成合格宽客，最后就变成量化大神了。更多量化内容更多相关资料请见下方文章卡片，另外还有一个坚持周更的量化公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：量化大神在萌新期是如何找到众多量化因子的？quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2990198382",
        "comment_count": 1,
        "voteup_count": 19,
        "question_title": "http://www.zhihu.com/api/v4/questions/28338099",
        "question_url": "快速入门R或Python做国内市场量化的具体步骤？要注意哪些弯路？陷阱？"
    },
    "2982509842": {
        "created_time": 1681391317,
        "content": "君不见，大商超都存在这么久了，还有那么多小杂货铺，其中很多小店主都活得很滋润。在普通人的潜意识里，一提起机构就是镰刀，一提起个人就是韭菜，确实，机构相对于个人而言，会有资金人力、硬件设备和信息渠道等方面的优势，但个人量化交易者也并不是“一无是处”。针是没有两头尖的，总会有大商超大厂顾及不到的地方，相对于大机构而言，个人做量化交易，至少还有这3个小确幸。本金小，跑得快。个人的资金量一般不是特别大（相对于机构而言），这就意味着对市场的影响比较小，咱们的交易行为对市场不会起到很大的影响，也就是冲击成本比较小。在这种情况下，开发的量化策略就倾向于更加有效，不会因为容量的限制而失效，有些小策略有正向盈利预期，但大机构也是不稀得做。这就是为啥很多高频做得好的机构，也要开始做中低频了，因为高频容量确实有限，承载不了这么多的资金。监管宽松，风险偏好灵活。风险偏好可以根据自身的需求定制，自己设定自己的盈利预期，只要法律法规允许，想买什么买什么，不像大机构很多时候，这个不能买，那个不能买，当证券价格下跌到一定程度的时候，还得立马平仓，不管这是不是黎明前的黑暗，个人就没有那么弯弯绕，“逆势死扛，再创辉煌”。时间和业绩限制少。无论是私募基金，还是公募基金，都是以产品形式运营的，每个产品都设有投资期限，虽然现在都全面禁止保本保收益了，但机构做不出好业绩的话，私募来年募不到钱，公募排名垫底，都是影响活计的。个人如果用闲余资金做量化交易，做得好了，可以到处嘚瑟，做不好，捂着闷声亏钱就行了，不会有投资者给你打电话寄刀片；没有交易机会可以躺平，不像一些产品有仓位限制，即使预测市场下跌了，还得买买买。刚才苦口婆心说(xia)了(bian)这3点个人量化投资者的优势，发现没有，一直都是对标着量化机构，但咱做量化交易的目标是什么呢？是一定要比量化机构更强吗？个人愚见，量化交易更多是一种投资交易的分析手段，在投资交易当中，一定要做出决策，买什么，什么时候买，买多少，就连不想决策躺平本身也是一种决策，量化交易基于金融逻辑和历史数据，发现和验证交易理念，提高决策的胜率，让交易策略趋向于正收益预期。个人做量化交易并不需要打败大机构，而是提高自己的盈利胜率，跑赢那些拍脑袋、靠感觉、听消息的散户就可以了。现在很多大私募，开始的时候，核心量化团队只有一两个人，也许是幸存者偏差，但不能否定个人量化的靠谱存在。其实，量化跟视频赛道很像，在过去，科班的影视团队才有专业的摄影器材，拍出好看的电影电视剧等视频，现如今由于科技的进步，手机、数码照相机进入千家万户，极大的降低了个人视频制作者的门槛，君不见小破站上有那么多有趣有料的UP主，分享着众多的优质视频。导演有好的摄像机也会拍出烂片，UP主只有手机也可以拍出受观众喜爱的vlog，第三方量化平台和开源软件的兴起，和金融数据的低价优质化，正在催生更多的个人量化交易者，个人和机构一样都可以做量化，但个人和机构是不是能做好，都是要看个人和团队的能力，小鸡不撒尿，各有各的道。更多相关资料请见下方文章卡片，另外还有一个周更的公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器注册制全面推行后，对量化交易的5点影响复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略小白快速入门量化交易的推荐自学路径2022年量化文章合集|量化投资从入门到不放弃",
        "url": "http://www.zhihu.com/api/v4/answers/2982509842",
        "comment_count": 2,
        "voteup_count": 38,
        "question_title": "http://www.zhihu.com/api/v4/questions/425914681",
        "question_url": "个人用策略和量化交易炒股可以吗靠谱吗？"
    },
    "2981024632": {
        "created_time": 1681313682,
        "content": "当然是可以运用到量化投资领域了，我之前一直在用ChatGPT出品公司OpenAI合作的一款智能编程神器Cursor，编写量化投资/交易的代码，麻麻再也不用担心我的编程。Cursor绝B是咱量化编程新手的福音，很多初级的编程任务都可以挥一挥衣袖轻松搞定，官网地址请撩：www.cursor.so旧版官网界面新版官网界面如果你使用得比较早的话，登录官网后就看到一句大大的slogan『BuildSoftware.Fast.』，其下带有一行小字：Write,edit,andchataboutyourcodewithGPT-4inanewtypeofeditor。一目了然，从中就可以看出，Cursor是基于GPT模型的编程工具，可以通过它生成、编辑以及和AI讨论分析代码。现在官网上不敢写自己使用的是GPT-4了，经测试貌似使用的是GPT-3.5接口。这段时间使用下来，它更多扮演的是一种助手的角色，你给它描述编程任务，它给你生成代码，如果你看不懂，它会给你一句一句翻译，如果代码运行出错，你把错误放在聊天框里面，它会回复是什么原因、怎么解决。Cursor不是像chatGPT那样是在网页端直接使用的，而是要在官网上下载客户端，目前是支持Windows、MacOS和Linux三大操作系统，安装软件本体不大，一下子就能下载完毕。选择对应版本下载安装完成后，打开软件，来到暗黑色风格的类VSCode开发界面，整体非常简洁，菜单栏和图标也非常少，一股北欧极简风扑面而来。Cursor的使用非常简单，只需要记住两个快捷键就行了，一个是Ctrl+K，另一个是Ctrl+L。Ctrl+K(生成代码)：负责代码的生成和编辑，也就是在这里给它描述和布置编程任务以及后续的修改。Ctrl+L(聊代码)：负责代码的说明、注释和理解，对于代码不理解和错误的地方，让它给你进行说明和改进。打开Cursor后，默认情况下是已经打开PY的main.py文件和JS的main.js文件（如果没有，请从左侧文件列表手动打开），PY就是Python，JS是JavaScript，此外还支持C、C#和HTML等多种编程语言。在量化交易领域，使用Python的人比较多，在此就以Python的自动化编程举例，咱先给它安排一个小任务看看效果如何，选中PY的main.py文件（或者自己新建一个py文件，此处我是新建了一个“MACD计算并展示.py”文件），让光标进入，按下快捷键Ctrl+K后，会在界面综上部弹出一个输入框，咱往里面敲入“使用tushare库获取贵州茅台从2018年元旦至2023年3月20日的行情数据，并计算MACD指标，最后要画图展示”。输入完成后就点回车键Enter，然后编辑窗口就不断有代码生成，完整代码如下所示，要注意的是，每次输出的代码都是不同的，即使输入相同的prompt（提示词/关键，坊间俗称“咒语”）。生成后记得点击保存，py文件默认会存储在路径“C:\\Users\\{你的用户名}\\cursor-tutor”对应的文件夹下（也许不同电脑不同操作系统不一样），你可以在终端执行这个py文件，或者直接将代码拷贝到你的IDE里面执行，例如Spyder、PyCharm等。我在终端直接运行这个py文件，很幸运，除了提示我要升级tushare到Pro版之外，并没有其他错误，直接就把最终的行情和MACD图给画出来了。虽然横坐标看起来很“奇怪”，因为里面用了date2num函数将日期转化为天数，也就是距离1900-01-01有多少天。如果萌新看代码不是十分理解，要添加注释，那可以全部选中代码，接着Ctrl+K，在输入框里输入“请给每一行代码添加注释”。然后敲击回车键Enter完成，就会出现修改前后的代码对比。接着点左上角的绿色“Accept”表示接受修改，这样就能给代码都添加上注释了，这样代码的可读性就更高了。如果在看代码的过程中，觉得有哪里不懂的，可以开启“聊代码”功能，只需要使用快捷键Ctrl+L，在弹出的输入框里面输入你想问的问题，例如自己不清楚画图展示中第26行candlestick_ochl函数，可以这样问。敲击回车后，就会在界面右侧开启一个聊天小框，对你的问题进行回复，如果想继续了解，还可以继续提问，这就跟使用chatGPT是类似的了。我当时发现可以这样聊天的时候，心想这不就可以同时白嫖chatGPT了吗？谁知道Cursor还是太油腻太鸡贼了，除了编程相关的问题，其他问题都是一律漠视的。刚才咱不是说行情和MACD指标的画图里面横轴是数字吗，看起来怪怪的，咱来问一下Cursor该怎么修改，先选中画图的那部分代码，然后Ctrl+L，在弹出的输入框当中输入“我想让这段代码展示的图片里面，横轴是日期，请问我该如何修改？”。Enter之后，开启聊天小框回答模式，详细回答了原因，以及如何进行修改，“虽然已经用date2num函数转换为数字，但最后可以用ax.xaxis_date函数再转回为日期显示”。将原来的代码注释掉，然后把回答当中的代码copy进来，一运行，发现真的可以，数字变回日期了，虽然只把年份显示出来，Cursor你真666~importtushareasts#导入tushare库importpandasaspd#导入pandas库importmatplotlib.pyplotasplt#导入matplotlib库frommpl_financeimportcandlestick_ochl#导入candlestick_ochl函数frommatplotlib.pylabimportdate2num#导入date2num函数importdatetime#导入datetime库importtalib#导入talib库#获取贵州茅台从2018年元旦至2023年3月20日的行情数据start_date='2018-01-01'#起始日期end_date='2023-03-20'#结束日期df=ts.get_k_data('600519',start=start_date,end=end_date)#获取贵州茅台的K线数据#计算MACD指标df['EMA12']=talib.EMA(df['close'],timeperiod=12)#计算12日指数移动平均线df['EMA26']=talib.EMA(df['close'],timeperiod=26)#计算26日指数移动平均线df['DIF']=df['EMA12']-df['EMA26']#计算DIFdf['DEA']=talib.EMA(df['DIF'],timeperiod=9)#计算DEAdf['MACD']=2*(df['DIF']-df['DEA'])#计算MACD#画图展示df['date']=pd.to_datetime(df['date'])#将日期转换为datetime格式df['date']=df['date'].apply(date2num)#将日期转换为数字df_values=[tuple(vals)forvalsindf[['date','open','close','high','low']].values]#将数据转换为元组#fig,ax=plt.subplots(figsize=(20,10))#创建画布#candlestick_ochl(ax,df_values,width=0.6,colorup='red',colordown='green',alpha=0.8)#绘制K线图#plt.plot(df['date'],df['DIF'],label='DIF')#绘制DIF曲线#plt.plot(df['date'],df['DEA'],label='DEA')#绘制DEA曲线#plt.bar(df['date'],df['MACD'],label='MACD',width=0.03*len(df))#绘制MACD柱状图#plt.legend()#显示图例#plt.show()#显示图形#plt.legend()#plt.show()fig,ax=plt.subplots(figsize=(20,10))#创建画布candlestick_ochl(ax,df_values,width=0.6,colorup='red',colordown='green',alpha=0.8)#绘制K线图plt.plot(df['date'],df['DIF'],label='DIF')#绘制DIF曲线plt.plot(df['date'],df['DEA'],label='DEA')#绘制DEA曲线plt.bar(df['date'],df['MACD'],label='MACD',width=0.03*len(df))#绘制MACD柱状图plt.legend()#显示图例plt.xticks(rotation=30)#旋转横轴刻度标签ax.xaxis_date()#将横轴刻度设为日期格式plt.show()#显示图形上面只是一个量化分析小任务，咱还可以让它编写量化策略，例如让它基于backtrader编写一个双均线策略，prompt：基于backtrader，写一个贵州茅台的双均线策略，数据获取要基于tushare，并进行回测，本金是一百万，时间范围是2018-01-01至2023-03-20。代码如下，原始代码结构和形式上都是完整的，但是tushare的数据与导入Backtrader的数据格式不对应，将日期列转为index后和设置格式后便可以正常运行。importbacktraderasbtimporttushareastsimportpandasaspdclassMyStrategy(bt.Strategy):params=(('fast',5),#快速移动平均线的周期('slow',20),#慢速移动平均线的周期)def__init__(self):self.fast_moving_average=bt.indicators.SMA(self.data.close,period=self.params.fast,plotname='5daymovingaverage'#计算快速移动平均线)self.slow_moving_average=bt.indicators.SMA(self.data.close,period=self.params.slow,plotname='20daymovingaverage'#计算慢速移动平均线)self.crossover=bt.indicators.CrossOver(self.fast_moving_average,self.slow_moving_average)#计算交叉点defnext(self):ifnotself.position:ifself.crossover&gt;0:#如果快速移动平均线上穿慢速移动平均线amount_to_invest=(0.95*self.broker.cash)#计算可投资金额self.size=int(amount_to_invest/self.data.close)#计算可购买股票数量print(\"Buy{}sharesof{}at{}\".format(self.size,'600519',self.data.close[0]))#输出购买信息self.buy(size=self.size)#买入股票else:ifself.crossover&lt;0:#如果快速移动平均线下穿慢速移动平均线print(\"Sell{}sharesof{}at{}\".format(self.size,'600519',self.data.close[0]))#输出卖出信息self.close()#卖出股票if__name__=='__main__':cerebro=bt.Cerebro()#创建Cerebro引擎cerebro.addstrategy(MyStrategy)#添加策略symbol='600519'#股票代码df=ts.get_k_data(symbol,start='2018-01-01',end='2023-03-20')#获取股票数据df['date']=pd.to_datetime(df['date'])#将日期转换为datetime格式df=df.set_index('date',drop=True)#将日期设置为索引data=bt.feeds.PandasData(dataname=df,datetime=None,open=0,high=1,low=2,close=3,volume=4,openinterest=-1)#创建数据源cerebro.adddata(data)#添加数据源cerebro.broker.setcash(1000000.0)#设置初始资金cerebro.broker.setcommission(commission=0.001)#设置佣金print('StartingPortfolioValue:%.2f'%cerebro.broker.getvalue())#输出初始资金cerebro.run()#运行策略print('FinalPortfolioValue:%.2f'%cerebro.broker.getvalue())#输出最终资金cerebro.plot()#绘制图表相信看到这里，大伙儿应该明白了Cursor的用途和能力，从今往后，就可以把它当做是自己的量化编程助理，自己可以像领导那样，Ctrl+K给它布置任务，遇到不符合预期的地方，Ctrl+L让它解释和修正。更多相关资料请见下方文章卡片，另外还有一个周更的公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章quantkoala：2个量化小技巧，双均线策略盈亏比从1.2提升到1.9（大神请绕行）152赞同·16评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2981024632",
        "comment_count": 5,
        "voteup_count": 205,
        "question_title": "http://www.zhihu.com/api/v4/questions/582963329",
        "question_url": "ChatGPT 可以运用至量化投资领域吗？"
    },
    "2979316058": {
        "created_time": 1681226228,
        "content": "以下是我近一年多以来研究过的量化交易策略，谈不上可行，希望能对大伙儿尽到绵薄启发就心满意足了，已经按大概的类别划分一一列举出来，点击链接就可以查看策略大致原理/思想。股票&amp;ETF相关策略：《复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略》《手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）》《Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score》《ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞》《两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）》《跟踪『聪明钱』，巧用北向资金进行大盘择时》《量化萌新向ETF择时策略：当北上资金遇上布林带》《跟着“基金一哥”张坤量化选股的快乐，你想象不到！》《小市值因子已然凉凉，绩优小市值依旧狂浪》《中国版“漂亮50”量化策略》《鱼身策略懒人爱，量化内卷别乱买》《私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对》商品期货相关策略：《唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略》《又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略》《又来唠一个另类异质量化策略：20后的Trendflex策略》《『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略》《K线标准化结构图：构建一个趋势策略，就是那么朴实无华》《CTA策略中的Alpha：期限结构之展期收益率策略》《量化本无妙手，背后都是坚实的本手：波动率不对称性RSJ量化策略》《兄弟家量化策略很多，拿一个『波动率收敛突破策略』盘一下》《兄弟家量化策略很多，又拿一个『操盘手策略』盘一下》《动物庄园：商品期货跨品种套利策略》《量化同质越来越严重，如何保持策略的长久优势？（附异质化另类量化策略）》《唠一唠指标之王MACD的另类用法：高低形态短线量化策略》《股指期货除了无脑吃贴水之外，还有更卷的量化操作策略吗？》对了，本人还有一个周更的公Z号『量化君也』，也是专注于量化策略分享的，欢迎来玩~",
        "url": "http://www.zhihu.com/api/v4/answers/2979316058",
        "comment_count": 0,
        "voteup_count": 56,
        "question_title": "http://www.zhihu.com/api/v4/questions/508652848",
        "question_url": "你有什么可行的量化交易策略？"
    },
    "2979286735": {
        "created_time": 1681224885,
        "content": "对于题主的第2个小问我想说，当然有别的方法可以批量挖掘因子啦~~只要你的电脑配置足够，20分钟内挖8000个因子都不在话下，使用这个非常牛掰的时序数据特征/因子自动化提取神器tsfresh就可以了。为什么会想到用tsfresh呢？这跟今年年初，某知名百亿量化私募花式“压榨”员工的事件直接相关。当时血泪控诉文在业内朋友圈和群聊里面疯传，当事人是该私募的一名投资经理（PortfolioManager，PM），主要控诉的是这3方面：（1）绩效评定不透明不合理。自己兢兢业业多年，对公司业绩有显著正向贡献，却被评定为“不合格”，绩效远差于自己的另一个PM，考核的指标却是自己的30倍+。（2）工作量巨大远超正常人范围。被评定为“不合格”后，公司对其的改进计划中，要求在3周的工作时间内提交4000个量化因子，按每周5天8小时工作制，那就是每天要入库266个因子，折合108秒一个。自己觉得无理反对后，被强行降薪降职。（3）公司不通人情，连育儿假都不准。家人病痛困扰，周岁孩儿无人照顾，向公司请假2天，公司以“专心入库因子”为由拒绝，多次沟通依然无果。事情发生到现在已经有一段时日了，有人觉得是真的，有人觉得是纯属捏造，也有大V觉得字面真实但存在误导，总之是雾里看花、难辨真伪。起初，我也是坐在小板凳上抱着吃瓜心态看的，但“3周4000个量化因子”的要求太过震撼，给我不幼小的心灵也埋下了深深的阴影，要是这般“厄运”降临到我身上，我该咋办呢？于是乎，在查阅特征工程相关资料时，会特别留心因子生成工具，能助我一臂之力，短时间内挖掘出成千上万个量化因子。于是乎，终于在前段时间，我遇到了那个梦中神器——tsfresh，别说3周开发4000个因子了，只要你电脑配置足够，20分钟就可以提取出8000个因子！tsfresh实际上是一个python库，在电脑终端使用“pipinstalltsfresh”就可以自动安装，它最主要的功能就是能对证券价格这类型的时间序列数据自动挖掘其中的特征，并且还可以对有效特征进行筛选，详细说明请见官网：https://tsfresh.com/。特征（feature）一般是在人工智能/机器学习/深度学习领域的叫法，在量化交易/量化投资领域一般叫因子（factor），例如相对强弱指标RSI在机器学习领域就叫RSI特征，在量化选股领域就叫RSI因子，其实都是一样的东西，大伙儿注意分辨语境就好了。使用tsfresh，“20分钟挖掘8000个因子”并不是吹牛，咱可以先来快速体验一下，详细原理下文再细说，在成功安装tsfresh库后，只需要以下4行核心代码（第5~8行），便可以将原有的11个基础因子，扩展到8613个因子，超额完成任务，耗时953秒，约16分钟。importdatetimestart_time=datetime.datetime.now()#开始时间#核心代码部分fromtsfreshimportextract_featuresfromtsfresh.utilities.dataframe_functionsimportroll_time_seriesdata_roll=roll_time_series(data,column_id='code',column_sort='date',max_timeshift=20,min_timeshift=5).drop(columns=['code'])data_feat=extract_features(data_roll,column_id='id',column_sort='date')end_time=datetime.datetime.now()#结束时间print('开始时间：',start_time.strftime('%Y-%m-%d%H:%M:%S'))print('结束时间：',end_time.strftime('%Y-%m-%d%H:%M:%S'))print('耗时：%d秒'%(end_time-start_time).seconds)print('原始数据维度：',data.shape)print('特征提取后维度：',data_feat.shape)输出结果：开始时间：2023-04-1120:19:29结束时间：2023-04-1120:35:23耗时：953秒原始数据维度：(4334,13)特征提取后维度：(4329,8613)补充说明一下，其中输入数据data是预先生成的数据（下边儿会说明获取方式），第1列是日期(date)，第2列是证券代码(code)，之后的11列都是因子列；特征提取之后行数少了5行，是因为设置了前面至少要有5行数据才开始提取当日特征；耗时大小跟电脑配置有关，本次试验所用的电脑处理器是第12代i7（主频2.10GHz），电脑内存大小是16G。咱不能是为了提取因子而提取因子，必定是用来做些什么的吧，那咱就可以沿着之前机器学习指数量化择时的策略思路，构建一个因子增强版的策略，整体策略思路详见之前的文章《手把手教你，利用机器学习模型，构建量化择时策略》。整个建模流程分为收集数据、准备数据、选择/建立模型、训练模型、测试模型和调节参数这6大步骤，这次咱主要是利用tsfresh库生成更多的有效因子进行建模，因此只需改变收集数据和准备数据这2个步骤，后面4个步骤与之前的文章基本一致，无须大变。Step1：收集数据现在开始第1个步骤，咱就来获取沪深300指数从2005年4月8日上市以来至今的全部行情数据，这里使用的是股票量化开源库qstock，“pipinstallqstock”安装后，基本的功能无需注册便可以使用，对萌新来说非常方便，详情请见：https://github.com/tkfy920/qstockimportqstockasqs#获取沪深300指数高开低收、成交量、成交金额、换手率数据，index是日期data=qs.get_data(code_list=['HS300'],start='20050408',end='20230324',freq='d')#删除名称列、排序并去除空值data=data.drop(columns=['name']).sort_index().fillna(method='ffill').dropna()#插入日期列data.insert(0,'date',data.index)#将日期从datetime格式转换为str格式data['date']=data['date'].apply(lambdax:x.strftime('%Y-%m-%d'))data=data.reset_index(drop=True)print(data.shape)data.tail(10)这里使用qstock获取数据只是举例，大家使用相同功能的库或API都可以，要注意的是不要带名称列，而且日期列是str格式，不是datetime格式。Step2：准备数据（本期重点）第2个步骤就是准备数据，生成/选取哪些特征/因子作为将来SVM模型的输入，在这里咱额外计算的因子是价格斜率（slope）、相对强弱指标（rsi）、威廉指标值（wr）、MACD快线（dif）、MACD慢线（dea）、MACD柱（macd）和抛物线指标（sar）这7个因子，再加上之前的收盘价、成交量、成交金额和换手率，一共是11个因子。importtalib#收盘价的斜率data['slope']=talib.LINEARREG_SLOPE(data['close'].values,timeperiod=5)#相对强弱指标data['rsi']=talib.RSI(data['close'].values,timeperiod=14)#威廉指标值data['wr']=talib.WILLR(data['high'].values,data['low'].values,data['close'].values,timeperiod=7)#MACD中的DIF、DEA和MACD柱data['dif'],data['dea'],data['macd']=talib.MACD(data['close'].values,fastperiod=12,slowperiod=26,signalperiod=9)#抛物线指标data['sar']=talib.SAR(data['high'].values,data['low'].values)#删除开盘价、最高价和最低价data=data.drop(columns=['open','high','low']).fillna(method='ffill').dropna().reset_index(drop=True)print(data.shape)data.tail(10)注意这里的行数比之前的少了33（4367-&gt;4334），那是因为在计算MACD指标时，底层需要计算EMA26并且在这基础上还要计算EMA9，期初的数据由于长度不足，指标是空值被剔除了，(26-1)+(9-1)=33，下面出现行数减少的原因也是同样的原理，不再赘述。重点来了，在这里咱要基于这11个基础因子，生成8000+个因子，这里就要先说明一下tsfresh的提取特征原理了。tsfresh是对序列数据提取特征，输入一个时间序列数据就会转换为一个数值，例如输入一段时间的股价序列，那么可以转化成最大值、最小值、平均值、中位数、波峰数这样的标量数值。如果不做特殊处理，直接把沪深300因子数据输入进去，那么它只会把每个因子序列数据转化为单个值，这样一个4334x13的因子矩阵，最终就会变为1x13的因子向量，相当于只是一个样本，这样是无法建模的。咱需要的是每个交易日都要有一个样本，这就需要用到tsfresh的滚动(roll)技术了，请看下面的变换。fromtsfresh.utilities.dataframe_functionsimportroll_time_seriesdata_roll=roll_time_series(data,column_id='code',column_sort='date',max_timeshift=20,min_timeshift=5).drop(columns=['code'])print(data_roll.shape)data_roll.head(15)在这个变换中，新生成了一个id列，数值是一个元组，元素1是证券代码，元素2是日期，红框中id日期表明，2005-06-08的因子计算需要用到2005-06-01、2005-06-02、2005-06-03、2005-06-06、2005-06-07和2005-06-08这6个数值组成的时间序列数据，用多长的序列数据，由参数max_timeshift和min_timeshift决定。max_timeshift=n表示每个交易日最多使用包含当日在内的n+1个数据点序列，min_timeshift=m表示每个交易日至少使用包含当日在内的m+1个数据点序列，这也就说明了数据id为什么从2005-06-08开始，因为之前至少需要5个数据点，再给大伙儿换一种方式展示就清楚更多了，如下。gg=data_roll.groupby('id').agg({'date':['count',min,max]})print(gg.shape)gg.head(20)看到这里应该就明白了，数据长度在min_timeshift+1~max_timeshift+1之间时，有多少数据用多少数据，当超出这个范围后，就每个交易日滚动(roll)使用max_timeshift+1个数据点的序列数据，因此原始因子数量不变，但行数被扩展为9万多行，因为部分数据被重复滚动使用。在data_roll之上，就可以使用tsfresh的extract_features函数在基础因子之上衍生出众多因子，这一步较为耗时，不同电脑配置执行时间不一样，须耐心等待。fromtsfreshimportextract_featuresdata_feat=extract_features(data_roll,column_id='id',column_sort='date')#对单独标的而言，将日期作为indexdata_feat.index=[v[1]forvindata_feat.index]print(data_feat.shape)输出结果：FeatureExtraction:100%|██████████████████████████████████████████████████████████████|50/50[13:11&lt;00:00,15.83s/it](4329,8613)从结果中看出，最终得到了4329x8613的因子矩阵，4329对应着交易日数，8613对应着在11个基础因子之上衍生出来的因子数。因子生成的原理是，tsfresh预置了783个算子(calculator)，会逐个用在每一个交易日的基础因子数值序列上，这就相当于孙悟空拔一根猴毛下来，能变出783个形态各异的化身，相同计算公式不同单参数也算1个，11乘以783就是8613，具体的算子计算公式请见官方文档：https://tsfresh.readthedocs.io/en/latest/text/list_of_features.html这8613维里面都是衍生出来的因子，是不包含原始的基础因子的，记得也把基础因子添加回去。跟以前的做法一样，也要给每个交易日的数据打上标签，每个样本标签对应的是第二个交易日的涨跌情况，计算出每个样本第二天的涨幅（pct），如果第二天上涨，则设置标签（rise）为1，反之为0。importpandasaspd#将原始因子加入因子矩阵当中data_feat=pd.merge(data_feat,data.set_index('date',drop=True).drop(columns=['code']),how='left',left_index=True,right_index=True)#给数据打标签data_feat['pct']=data_feat['close'].shift(-1)/data_feat['close']-1.0data_feat['rise']=data_feat['pct'].apply(lambdax:1ifx&gt;0else0)data_feat=data_feat.dropna(subset=['pct'])print(data_feat.shape)Step3：选择/建立模型还是跟之前一样，使用SVM模型，原因和原理不再赘述，详见之前的文章《手把手教你，利用机器学习模型，构建量化择时策略》，为了方(tou)便(lan)实现和建立模型，咱还是直接从Scikit-learn（简称sklearn）中导入，它是非常流行的Python免费机器学习库，具有各种分类、回归和聚类算法，一般配合numpy数据格式使用。Step4：训练模型在这里，咱需要把整个数据集分拆为训练集和测试集，因为除了训练模型之外，咱还要留出一部分数据来验证训练出来模型的优劣。一般来说，将完整数据集80%的样本作为训练集，剩余20%的样本作为测试集，要注意的是，在这里使用tsfresh的select_features函数对之前的8000+因子进行有效因子筛选，最终有效入选因子有200多个，这个只能在训练集上操作，不能在全部数据集上操作，否则就会变相引入“未来函数”。fromtsfreshimportselect_features#划分训练集和测试集num_train=round(len(data_feat)*0.8)data_train=data_feat.iloc[:num_train,:]y_train=data_feat.iloc[:num_train,:]['rise']data_test=data_feat.iloc[num_train:,:]y_test=data_feat.iloc[num_train:,:]['rise']#特征选择data_train0=select_features(data_train.drop(columns=['pct','rise']).dropna(axis=1,how='any'),y_train)select_columns=list(data_train0.columns)+['pct','rise']data_train=data_train[select_columns]data_test=data_test[select_columns]print(data_train.shape)输出结果：(3462,247)接下来，按照老方法将因子数据标准化后，用于模型训练，从sklearn的svm模块当中导入SVM分类器SVC，创建实例对象后，将训练集因子数据和对应标签塞进fit函数就行了，SVM模型的惩罚系数使用默认值1.0，核函数也用默认的RBF核函数。fromsklearn.svmimportSVCfromsklearn.preprocessingimportStandardScaler#转化为numpy的ndarray数组格式X_train=data_train.drop(columns=['pct','rise']).valuesX_test=data_test.drop(columns=['pct','rise']).values#对数据进行标准化scaler=StandardScaler()X_train=scaler.fit_transform(X_train)X_test=scaler.transform(X_test)#训练模型classifier=SVC(C=1.0,kernel='rbf')classifier.fit(X_train,y_train)Step5：测试模型至此，SVM分类器已经训练好了，把因子数据塞进predict函数，就能输出每个样本的预测值，咱分别把训练集和测试集的预测标签插回到原来的数据集当中，用来计算预测的准确率。y_train_pred=classifier.predict(X_train)y_test_pred=classifier.predict(X_test)data_train['pred']=y_train_preddata_test['pred']=y_test_predaccuracy_train=100*data_train[data_train.rise==data_train.pred].shape[0]/data_train.shape[0]accuracy_test=100*data_test[data_test.rise==data_test.pred].shape[0]/data_test.shape[0]print('训练集预测准确率：%.2f%%'%accuracy_train)print('测试集预测准确率：%.2f%%'%accuracy_test)输出结果：训练集预测准确率：65.51%测试集预测准确率：54.62%光看准确率还是不够直观，咱还要看一下如果纯粹按照这个择时模型的预测结果进行投资，能获得多少收益。假设指数可以多空交易，如果模型预测为1（上涨），第二天策略的收益率就是指数的涨幅，如果模型预测为0（下跌），第二天策略的收益率就是指数的涨幅的相反数，有了每天的日收益率之后，通过dataframe自带的累乘函数cumprod，就可以得到择时策略和沪深300指数的净值曲线，为了方(tou)便(lan)起见，不考虑交易费率，以及按照收盘价成交。importmatplotlib.pyplotasplt#策略日收益率data_test['strategy_pct']=data_test.apply(lambdax:x.pctifx.pred&gt;0else-x.pct,axis=1)#策略和沪深300的净值data_test['strategy']=(1.0+data_test['strategy_pct']).cumprod()data_test['hs300']=(1.0+data_test['pct']).cumprod()#粗略计算年化收益率annual_return=100*(pow(data_test['strategy'].iloc[-1],250/data_test.shape[0])-1.0)print('SVM沪深300指数择时策略的年化收益率：%.2f%%'%annual_return)#将索引从字符串转换为日期格式，方便展示data_test.index=pd.to_datetime(data_test.index)ax=data_test[['strategy','hs300']].plot(figsize=(16,9),color=['SteelBlue','Red'],title='SVM沪深300指数择时策略净值by公众号【量化君也】')plt.show()Step6：调节参数如果你觉得预测准确率和策略收益还达不到预期，可以对每一个步骤的参数进行调整改进。就好比这次建模，跟上一次比起来，最大的不同点就是使用了不同的基础因子，还在基础因子上提取了众多的衍生因子，并且进行了有效因子筛选，训练集预测准确率从之前的57.52%提升到了65.51%，测试集预测准确率从52.35%提升到了54.62%，策略年化收益也从15.40%提高到了27.70%。这就是改进了“因子参数”的结果，你还可以调整SVM模型参数、因子标准化方法、因子中性化/正交化方法等等。最后一句话总结，tsfresh可以在短时间内，高效率帮助咱批量化挖掘出成千上万的量化因子，虽然并不是每个因子都能有效，但足以应付“3周4000个量化因子”这种奇葩要求，先解决数量，再解决质量。更多相关资料请见下方文章卡片，另外还有一个周更的公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：量化大神在萌新期是如何找到众多量化因子的？quantkoala：复现网红阻力支撑指标RSRS，手把手教你构建大盘择时策略quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章quantkoala：2个量化小技巧，双均线策略盈亏比从1.2提升到1.9（大神请绕行）152赞同·16评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2979286735",
        "comment_count": 1,
        "voteup_count": 107,
        "question_title": "http://www.zhihu.com/api/v4/questions/336207872",
        "question_url": "如何实现用遗传算法或神经网络进行因子挖掘？"
    },
    "2973356946": {
        "created_time": 1680879796,
        "content": "我推荐书籍、论文、研报和量化网站这4个渠道，这些都极其适合作为量化萌新的因子库来源，关键大部分还都是免费的~就连量化大神们最开始的时候，除了骨骼清奇、天赋异禀的之外，也没有谁一上来就开挂的，初期也是得乖乖学习，关键这个时候不是先追求数量，而是先追求质量，建立正确的因子认知非常重要。这个时候最好不要“东一榔头，西一棒槌”的碎片化学习，要成体系化学习，那最体系的莫过于书籍了，这里推荐两本经典书籍，分别是《量化投资策略：如何实现超额收益Alpha》和《投资策略实战分析：华尔街股市经典策略20年推演》。在这两本书里面，都列举出了许多对股市有驱动力的量化因子，并附有详尽的因子分析，让你明白每一个因子的金融逻辑，看到交易的本质。后一本在量化圈里面推荐得还比较少，但个人觉得，后一本书对因子的分析更为透彻，除了常规的分组回测那些有效性分析外，还会着重分析最好与最差情况以及各种场景，所以也重点推荐一下。看书找量化因子这种方式，重点不在于因子数量，而在于学到量化因子的构建逻辑，不是天马行空的胡乱搭配，而是有明显的金融意义的。接下来，就可以广撒网，多捞鱼了，在论文里，你可以看到经典的Alpha101，在《101FormulaicAlphas》这短短的22页论文里，你能看到101个“奇奇怪怪”的量化因子，不要惊叹于Zura大神天马行空的创意，在3年后，他还发表了有151个量化策略的论文《151TradingStrategies》。在Alpha101发表两年后，国泰君安金融工程团队发表了研究报告《基于短周期价量特征的多因子选股体系》，类似于Alpha101的形式，提出了基于我国A股的191个短周期价量Alpha因子，因此坊间也俗称Alpha191。除了国君金工研报外，个人觉得华泰系的金工因子系列研报也非常不错，除了分门别类测试做得好之外，同时兼具股票股票和期货因子，非常值得量化萌新借鉴学习。除了书籍、论文和研报这些因子库之外，还有各大量化平台上也有专门的因子版块，这里拿JoinQuant平台为例，其他平台类似。JQ上已经实现前文说的Alpha101和Alpha191因子，直接通过API接口就可以获取因子数据，除此之外还有常用的技术指标因子和JQ自己的因子库（其中包含有Barra因子），有个更便捷的“因子看板”功能，能非常方便地查看每个因子在不同场景下的绩效。Alpha101：https://www.joinquant.com/help/api/help#name:Alpha101Alpha191：https://www.joinquant.com/help/api/help#name:Alpha191无须做延伸，利用好上文提到的书籍、论文、研报和网站，就可以迅速构建出300+个因子的基础因子库，如果再加上tsfresh等特征自动挖掘工具，整个因子库的因子数量就可以拓展到20w+的级别，也许这些公开的因子库都会失效，但它提供的养分足以让我们茁壮成长，前人归纳，后人演绎。文中提及的论文和研报都已经打包整理好，想认真学习的小伙伴可在公Z号『量化君也』后台回复暗号：因子库，便可以保存下载后开启学习之旅，看在我劳心劳力的份儿上，要一个充满鼓励的『赞』不过分吧~如果想将这些基础因子衍生出更多的量化因子，可以参照我之前的一篇文章，介绍一个超级好用的时序数据特征自动化提取神器，秒秒钟生成几千个因子不在话下。quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对更多相关资料请见下方文章卡片，另外还有一个周更的公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章quantkoala：2个量化小技巧，双均线策略盈亏比从1.2提升到1.9（大神请绕行）152赞同·16评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2973356946",
        "comment_count": 0,
        "voteup_count": 245,
        "question_title": "http://www.zhihu.com/api/v4/questions/328088039",
        "question_url": "可以去哪里获得大量的量化因子?"
    },
    "2971657911": {
        "created_time": 1680787056,
        "content": "普通人当然可以用量化交易，而且也无需编程，用Excel就可以完成，数据源那些还都是免费的。我以前给大伙儿推荐过不少的量化投资入门书籍，很多萌新看过后，满腔热血地想投身到量化交易的行列当中，但迈出第一步后就懵了，怎么滴呢？编程太难了！特别是对于没有任何编程基础的文科童鞋，看着那些个花花绿绿的代码，每一个字母都认识，但堆在一起就不明白TM到底是啥意思。先别急着放弃啊，有条件可以上，没有条件创造条件也可以上嘛，你有没有想过，不需要专门学Python编程，也不需要零编程规则式的量化平台，仅依靠微软Office办公三件套之一的Excel，便可以走通量化策略的开发和回测的整个流程。说起来惭愧，我最初做量化的时候，也没学编程，仅用Excel外带几个常用公式就开搞了，因为在我的眼里，量化投资更多是一种投资交易的分析手段，基于金融逻辑和历史数据，发现和验证交易理念，提高决策的胜率，只要能实现这些功能，管他黑猫白猫，抓住老鼠就是好猫，弯下腰，弄脏手，躬身入局。而且啊，Excel有个好处就是，展示数据非常直观，非常便于咱深入了解整个过程，让量化基础更扎实，闲篇扯完了，撸起袖子开整吧~无论是主观投资还是量化投资，在新手村的时候，肯定听说过『双均线策略』，以股票为例，就是短均线上穿长均线，形成金叉时买入，短均线下穿长均线，形成死叉时卖出。挑选近期大涨的股票往回看，发现大涨之前的确是有双均线金叉，大跌的股票也是有双均线死叉，其实这可能是一个“幸存者偏差”，可能是金叉/死叉之后有大涨/大跌的，也有震荡的，只不过是大涨/大跌的被有意或无意地挑选出来。那到底这个『双均线策略』是真的有效，还是幸存者偏差，咱不能拍大腿拍脑袋就决定了，教员说“没有调查，没有发言权”，小平同志说“实践是检验真理的唯一标准”，那咱就用量化的试金石测一下，那就把『双均线策略』作为萌新入门量化的第一个策略吧。首先要准备一个Excel表格，里面装有你心仪投资标的的行情数据就行，股票可以，数字货币也行，最低配的，有日期和收盘价就可以了，甚至连日期都可以没有，自己知道时间的对应关系就行了。什么？找不到行情数据？现在可以拿到免费数据的渠道那么多，咱还是不要守着金山当乞丐哟~我就拿股票为例吧，说说怎么获取免费的股票数据，“通达信”大家知道伐，用的人很多的那个，在电脑端下载安装一个，免费注册使用的。打开你想测试的个股日K图，为了避免有荐股的嫌疑，我就以沪深300指数为例。点击右上角工具栏【选项】，在弹出的下拉列表中选择【数据导出】，接着就会弹出一个对话框，记得选【Excel文件】，设置好文件的存放路径，自己能找到就行。这里有一个操作小技巧，通达信默认是导出界面所展示的日期范围内的数据，如果想要更多数据，按键盘的向下键『↓』，就可以展示更多日期，我在这里就获取了沪深300能获取的全部数据，日期范围为2005年1月4日至今。导出的数据当中，除了行情数据之外，还有很多乱七八糟的数据，为了简洁起见，只保留日期和收盘价，其他的内容统统删除掉。为了美观，可以让数据居中对齐和加框线。有了数据之后，剩下的就好办了，只要懂Excel基本操作，一步一步跟着走就可以完成。现在咱要算出两根均线的数值，短均线咱就用5日均线（MovingAverage5，MA5），长均线咱就用20日均线（MA20）。每一天的MA5数值，就是用含有当天的5个收盘价计算平均值，MA20就是利用20个。2005年至今有4000多个交易日，咱总不能手动一个一个算出来啊，这样会累si人的，为了方便轻松，就需要用到Excel的公式了。由于计算MA5需要5个收盘价数据，所以在新增一例“MA5”后，在2005年1月10日所在行的单元格里输入“=AVERAGE(B2:B6)”，就可以算出2005年1月10日的MA5数值了，其中B表示“B列”，也就是收盘价所在的列，数字表示行号，由于列名占了一行，所以第一个有效数值从第2行开始，相信懂Excel基本操作的小伙伴都能明白哒，下文不再赘述了。Excel当中很智能的一点是，你再选中刚才那个单元格，把鼠标移到单元右下方，鼠标会变成一个黑色十字『＋』,双击鼠标左键，Excel就会智能地利用这个公式对剩余数据进行计算，文字比较抽象，请看下图的演示。MA20的计算也是同理，只不过MA20的计算需要20天的数据，因此需要在2005年1月31日才能计算第一个数据点，至此，咱就有了MA5和MA20两条均线的数据了。有了双均线数据之后，咱就要确定交易信号，就像前面说的那样，金叉买入，死叉卖出，这里要用到Excel的IF判断公式，形式如IF(条件,A,B)，如果条件成立的话，单元格就输出A，不成立的话，单元格就输出B，咱在这里，如果MA5高于MA20就输出1，反之就输出0。于是，新增一列“信号”列，在MA20有第一个数值的那一行对应的单元格里输入“=IF(C21&gt;D21,1,0)”，然后再利用之前的“黑色十字双击”技巧，智能填充另外的信号列数据。现在交易信号也有了，那怎么统计这个策略的收益率呢？咱现在回过头来看，由0变1的那个日期对应的就是金叉，由1变0的那个日期对应的就是死叉，根据“金叉买入，死叉卖出”的原则，可以简单认为（下文有补充），信号为1的日期都是有持仓的，信号为0的都是空仓。于是乎，假设咱是全仓买入沪深300指数（有对应ETF可交易），先计算指数的日收益率，然后将每天的收益率与信号相乘，就可以得出策略的日收益率，空仓的日期收益率为0，持仓的日期收益率就是对应指数的收益率，操作演示如下。有了日收益率之后，咱就可以进一步得出这个双均线策略的累计收益情况了，每一天的资产金额等于前一日资产金额乘以(1+当日涨幅)，假设咱期初有1000块钱，结合前面计算出来的策略日收益率，就可以依次算出每一天的资产金额。如果按照这个双均线策略操作，在不考虑交易成本的情况下，咱最终能拥有多少钱呢？效果是否比买入并持有沪深300指数好呢？从最后一个交易日的结果看出，双均线策略从18年前的1000块钱变成了今天的4个达不溜，18年40倍，而买入并一直持有沪深300则是4倍，前者年化收益约22%，后者年化收益约为8%，超额收益14%。在Excel中画图也是非常简单的，选中“日期”、“双均线策略”和“买入并持有”这三列，然后插入折线图，双均线策略的资金曲线就出来啦，从折线图当中更能直观地看出收益情况的对比。小结一下，本文单纯基于Excel进行了双均线计算、交易信号确定、日收益率计算、资产金额计算和资金曲线画图这5个步骤，完成了『双均线策略』的开发和回测，不会编程的萌新也可以利用这套流程，对常见的技术指标在个股和指数/ETF等投资标的上进行有效性验证，只要灵活修改前面“指标计算”和“交易信号确定”这两个步骤就可以了。补充说明，这个策略的开发和回测流程，主要是启发萌新的量化思路，其实细心的读者已经发现了，在生成交易信号的时候是带有一点“未来函数”的，因为双均线是利用收盘价计算出来的，出现金叉/死叉的时候已经收盘了，无法按照收盘价买入，更不会将当日涨幅纳入进来。因此更为严谨的操作是，在前一日金叉时，今日按照开盘价买入，策略的日收益率则是开盘价到收盘价的涨幅；在前一日死叉时，今日按照开盘价卖出，策略的日收益率则是前一日收盘价到今日开盘价的涨幅，这需要多增加几列数据进行计算。因为这种带有一点未来函数的回测方法非常直观和便捷，自己在遇到新指标因子时，可以快速进行测试，如果回测效果好，则进行更深入的研究，如果效果不好，直接放弃说byebye~更多相关资料请见下方文章卡片，另外还有一个周更的公Z号『量化君也』，专注于量化交易策略分享/交流/社群，欢迎来玩~quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）",
        "url": "http://www.zhihu.com/api/v4/answers/2971657911",
        "comment_count": 12,
        "voteup_count": 82,
        "question_title": "http://www.zhihu.com/api/v4/questions/457308362",
        "question_url": "普通人可以用量化交易么？"
    },
    "2965390951": {
        "created_time": 1680442932,
        "content": "如果想从零开始快速学习量化投资的话，根据个人经历，我推荐的学习路径是：投资想法-&gt;量化基础-&gt;量化平台-&gt;量化策略这是抽象的概括，之后再把每个步骤详细唠唠，这里首先需要确定快速入门的学习原则：适度学习，够用就行~~~不然很容易就从入门到放弃了~2021版《新华字典》中，收录了13000多个汉字，而日常生活中只需要用到其中3000多个，也就是说，不用啃完编程书籍等大部头才可以开始，按常用按需学习就行。一、投资想法很多人做量化，都是因为自己有初始的投资想法，想验证正确性提高交易胜率，或想解放双手追求效率，全自动程序化盯盘交易，量化跟人工智能AI一样，都是手段，用来实现自己想要的目的，不是为了量化或AI本身而学习。有初始的投资想法，在开始学习的时候有一个好处，就是可以在学习量化时有的放矢，听到相关的知识点的时候，脑子就会在想，我想要的功能能不能这样实现。比如，你想实现均线交易策略，那么你在学习pandas模块时，听到rolling和mean函数，就会有“确认过眼神，找到对的人”的赶脚。如果在投资想法这边还是没有感觉，不介意的话可以看看我之前的文章，里面很多策略想法都是从交易书籍、研报论文和市场观察中发现的。股票&amp;ETF相关策略：《手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）》《Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score》《ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞》《两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）》《跟踪『聪明钱』，巧用北向资金进行大盘择时》《量化萌新向ETF择时策略：当北上资金遇上布林带》《跟着“基金一哥”张坤量化选股的快乐，你想象不到！》《小市值因子已然凉凉，绩优小市值依旧狂浪》《中国版“漂亮50”量化策略》《鱼身策略懒人爱，量化内卷别乱买》《手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）》商品期货相关策略：《唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略》《又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略》《又来唠一个另类异质量化策略：20后的Trendflex策略》《『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略》《K线标准化结构图：构建一个趋势策略，就是那么朴实无华》《CTA策略中的Alpha：期限结构之展期收益率策略》《量化本无妙手，背后都是坚实的本手：波动率不对称性RSJ量化策略》《兄弟家量化策略很多，拿一个『波动率收敛突破策略』盘一下》《兄弟家量化策略很多，又拿一个『操盘手策略』盘一下》《动物庄园：商品期货跨品种套利策略》《量化同质越来越严重，如何保持策略的长久优势？（附异质化另类量化策略）》《唠一唠指标之王MACD的另类用法：高低形态短线量化策略》《股指期货除了无脑吃贴水之外，还有更卷的量化操作策略吗？》二、量化基础这里面主要包含两大部分，一个是量化通识，另一个是编程基础。关于量化通识，看量化故事类的书籍都可以有所了解，以前我也列过一个书单。《量化投资书单推荐（20本）》如果没有那么多时间，想快速了解量化投资的方方面面，开始的时候只看这本就够了。《萌新量化投资入门的第一本书》关于编程基础，因为不同量化平台的编程语言都不一样，这里只好拿在量化界广泛使用的Python举例。对于Python的快速学习，墙裂推荐廖雪峰老师的Python教程，不仅免费写得非常简单易懂，而且每个小节之后，都有编程互动小题目给你即时反馈，非常有趣，不用再想着自己啃完编程大部头再去编写策略，教程链接：https://www.liaoxuefeng.com/wiki/1016959663602400廖老师的教程非常详尽，连Web开发都讲了，但是再次重申咱的快速入门学习原则：不贪多，够用就行。对于量化基础而言，学到“错误、调试和测试”章节就可以了，后面等有时间再看。遗憾的是，里面没有讲到量化常用的numpy和pandas模块，这个可以在学了廖老师课程之后，再单独度娘学习一下。三、量化平台对于量化初学者而言，不建议自己搭建量化框架/平台，应该以实现量化策略为主，把数据获取清洗、回测框架搭建和对接实盘接口等工作交给专业团队打理，因此强烈建议使用现成的第三方量化平台，这里给大家推荐一些。如果你打算做股票量化交易，可以选择以下5个量化平台，在他们的官网的“帮助中心”里面，都可以找到对应的上手教程和策略模板。聚宽JoinQuant：https://www.joinquant.com优矿Uqer：https://uqer.datayes.com米筐RiceQuant：https://www.ricequant.com掘金量化：https://www.myquant.cn迅投QMT：http://www.thinktrader.net如果你打算做期货/期权/大饼的量化交易，可以选择以下5个量化平台。交易开拓者TB：http://www.tradeblazer.netvn.py：https://www.vnpy.com文华：https://www.wenhua.com.cn金字塔：https://www.weistock.comMultiCharts：https://www.multicharts.cnTB研究策略和回测什么的都是免费，只有开启实盘时才会在基础手续费上加收一些，以个人观察，现存的很多系列源码，都是以TB居多。vn.py是一款基于Python的开源量化交易系统开发框架，后来更名为VeighNa，不过大伙儿还是习惯地称之为vn.py。由知乎量化大V『用Python的交易员』开发，定位是量化交易平台，提供从交易API对接到策略自动交易的完整解决方案，对接了国内外诸多不同类型的金融市场：证券、期货、期权、外汇、数字货币等。后面三个就都是收费的了，优点就是编程相对简单一些，缺点就是贵，大家也可以去看看。四、量化策略有了编程基础，又选定了量化平台，恭喜你，你终于有能力实现自己最初的投资想法了，量化策略是投资想法的逻辑化和程序化展现。由于每个人的投资想法不尽相同，只好举一个简单的双均线交易策略为例进行描述，因为“双均线”这是一个接触到投资交易，都基本会听过的词儿，“专家”告诉你在金叉的时候买，在死叉的时候卖，那实际效果到底是怎么样的呢？在聚宽JoinQuant量化平台上，拿茅台作为交易标的，咱定义5日均线和20日均线在出现金叉的时候，第二天一开盘就全仓买入，出现死叉时，就把所有持仓全部卖出，策略代码如下。如果已经看完廖老师的前几章课程，这代码就大概能看懂七七八八了，剩下的再结合平台的API说明就能全部弄清楚了。大概的实现流程就是，在初始化函数initialize中设置了交易标的、策略参数和交易费率，以及定义了一个每天在开盘运行的函数stock_trade，并且开启了“防未来函数”功能。在stock_trade函数里面，计算昨天和前天的5日均线和20日均线，如果金叉就买入，死叉就卖出。#导入函数库fromjqdataimport*#初始化函数，设定基准等等definitialize(context):#交易的股票g.stock='600519.XSHG'#长短均线参数g.short_len=5g.long_len=20#设定沪深300作为基准set_benchmark('000300.XSHG')#开启动态复权模式(真实价格)set_option('use_real_price',True)#过滤掉order系列API产生的比error级别低的loglog.set_level('order','error')#打开防未来函数set_option('avoid_future_data',True)#股票类每笔交易时的手续费是：买入时佣金万分之三，卖出时佣金万分之三加千分之一印花税,每笔交易佣金最低扣5块钱set_order_cost(OrderCost(close_tax=0.001,open_commission=0.0003,close_commission=0.0003,min_commission=5),type='stock')#开盘时运行run_daily(stock_trade,time='open',reference_security='000300.XSHG')##开盘时运行函数defstock_trade(context):stock=g.stockshort_len=g.short_lenlong_len=g.long_len#获取股票的收盘价#当取日线数据时,不包括当天的,即使是在收盘后，没有未来data=attribute_history(stock,long_len+1,'1d',['close'])#计算双均线数据data['ma5']=data['close'].rolling(short_len).mean()data['ma20']=data['close'].rolling(long_len).mean()#昨日MA5和MA20数值ma5=data['ma5'].iloc[-1]ma20=data['ma20'].iloc[-1]#前日MA5和MA20数值pre_ma5=data['ma5'].iloc[-2]pre_ma20=data['ma20'].iloc[-2]#取得当前的可使用的资金cash=context.portfolio.available_cash#如果昨日出现金叉，则今日开盘买入if(pre_ma5&lt;pre_ma20)and(ma5&gt;ma20)and(cash&gt;0):#用所有资金买入股票order_value(stock,cash)#输出买入信息log.info(\"&gt;&gt;&gt;%s买入%d股%s\"%(str(context.current_dt),context.portfolio.positions[stock].today_amount,stock))#如果昨日出现死叉，则今日开盘全部卖出elif(pre_ma5&gt;pre_ma20)and(ma5&lt;ma20)and(stockincontext.portfolio.positions.keys()):#输出卖出信息log.info(\"&lt;&lt;&lt;%s卖出%d股%s\"%(str(context.current_dt),context.portfolio.positions[stock].total_amount,stock))#卖出所有股票,使这只股票的最终持有量为0order_target(stock,0)运行策略，就会不断输出自定义的交易信息。并且在运行过程中，收益率曲线也在不断地生成。大家觉得这个回测绩效怎么样？双均线策略算有效吗？你可以自己贴代码跑回测试试，同时再调整交易标的和双均线参数试一试，一般情况下回测很快，不需要一个东的时间。虽然我这里以JoinQuant策略为例，但所有量化平台的实现逻辑都是想通的，你只需要定义自己的函数，告诉系统“你要在什么时间？交易什么标的？交易数量是多少？”，你只要解决这3个“什么”的问题，所有的量化平台你都可以玩得转了。如果你能完全理解并且复现这个双均线策略，可以说明量化已经初步入门了，接下来要转起“正向飞轮”，实现和玩转更多策略，把多标的交易加进去，把基本面数据加进去，把滑点设置加进去，把仓位控制加进去......等你回测出心仪的策略效果，接着上模拟盘跟踪，然后就是实盘，接着就是不断迭代优化，慢慢地就变成合格宽客，最后就变成量化大神了。更多量化内容更多相关资料请见下方文章卡片，另外还有一个周更的公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章quantkoala：2个量化小技巧，双均线策略盈亏比从1.2提升到1.9（大神请绕行）152赞同·16评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2965390951",
        "comment_count": 2,
        "voteup_count": 64,
        "question_title": "http://www.zhihu.com/api/v4/questions/21857143",
        "question_url": "作为一名金融学的研究生，如果从零基础开始学量化投资，需要学哪些东西，做哪些东西？"
    },
    "2962749331": {
        "created_time": 1680268576,
        "content": "知乎回答，结论先行，本人所在的领域是量化交易/量化投资领域，注册制全面施行后，感觉主要有5点影响：（1）纯小市值因子越来越无效（2）打新收益下降，股指期货贴水收窄（3）全面推行价格笼子，程序化交易优势凸显（4）股票数目增多，基本面量化地位提高（5）退市股票增多，注意幸存者偏差正文开始~~~这得先简单说一下什么是注册制。股票发行主要有3种制度，分别是审批制、核准制和注册制。我国A股在2001年之前，采用的是审批制，企业要想上市，除了满足各项硬性规定之外，还需要经过政府和主管部门的审批才能上市，属于上市游戏当中的地狱模式。股票发行的3种制度对比2001年之后，核准制替代审批制，企业按规定准备好各种各样的材料，经过证监会发审委充分核实材料真实准确性，过会之后就可以上市了，属于上市游戏当中的普通模式。注册制就是，企业按照要求提供材料，交易所做形式审核，不深究真实性（你敢写，别人就敢信，但欺诈的后果很严重），总体的原则就是把企业上市发行的权力，都交给市场，你满足要求想发就发，只要你发出去有人愿意买，没人愿意买就退市，这就属于上市游戏当中的新手模式了。简单来说，注册制就是企业上市的条件放宽了，上市的流程变短了，上市的效率加快了。在A股交易的沪市主板、科创板、深市主板、创业板和北交所这5大核心板块中，科创板在2019年7月开市并施行注册制，一年之后创业板也开启了注册制改革，2021年9月，北交所成立，实施的也是注册制，这次全面推行注册制就是把沪市主板和深市主板也捎带上，所以这次主要是影响沪深两市主板的股票。那结合这次全面注册制的新规，对量化交易而言有什么影响呢？先来看看在宏观政策面和交易细节面的修改，下面接着唠~全面注册制制度规则主要内容注册制新规交易层面的细节一、纯小市值因子越来越无效全面注册制实施，符合条件的企业都可以上市，也不用像以前那样长期排队，在这种企业越来越容易上市的情况下，那么上市公司的壳价值就会降低（注册一下就可以上市，谁还会去借壳），而壳价值往往在小盘股当中占比是较高的，因此小市值股票的估值必定受到不利影响，至少小盘股的估值将来必定是“去壳”之后的。将来市面上的股票多了，会逐渐出现很多不受人待见的垃圾股（类似港股里面的“仙股”），与上市发行价比可能是脚踝斩都说不定，这种股票价格越来越低，市值也越来越小，逐步进入小市值行列，如果炒到这样的小市值股票，坟头草估计比韭菜长得还快。综合这两点，纯粹的小市值因子绝大可能是越来越无效的，但绩优小市值另说。二、打新收益下降，股指期货贴水收窄在以前的核准制下，企业想上市A股有一套严格的财务要求标准，能过审上市比高考上清华还难，并且新股发行的市盈率PE值不能超过23倍，所以早期的时候，大伙儿都是无脑打新，中签就是中奖。而在科创板和创业板都实施注册制之后，市盈率要求就放开了，发行市盈率高估的股票很容易破发，一上市就跌破发行价，有段时间破发严重，网民调侃道”连亏钱都要抽签“，中签了也犹犹豫豫要不要交款，但这时主板依旧是核准制和23倍市盈率要求，依旧可以无脑打。现如今全面注册制，沪深主板上市的门槛也降低了，上市越来越容易，新股发行也会越来越多，新股不再稀缺，溢价就会降低，再叠加新股市盈率要求的放开，必定会导致新股破发率提升，打新收益明显下降，从下表中可以看出去年注册制的科创板、创业板和北交所3大板块破发率有多高，最高能到50%。我国A股近5年的破发率统计表很多做绝对收益策略和Alpha策略的量化基金，做多预期表现好的一篮子股票，做空股指期货对冲市场风险，赚取持仓股票超越对标股指的超额收益，在此期间会利用持有的市值来打新提高基金收益。如果破发率提高，打新收益率下降，那获利的空间就缩窄了，配置这些策略的意愿就会降低，配置权重也跟着降低，本来贴水就是多方支付给空方的做空成本，这下子做空需求少了，那在同等情况下，那贴水就会有所收窄。注意，这里强调是“同等情况下”，因为影响贴水的原因比较多，如后市共识强烈看多的话，贴水也会缩窄，而且还可能是升水。等贴水的缩窄幅度能弥补打新收益率的降幅时，也就是做空的成本降幅大于预期收益的降幅，估计做空需求又会起来，贴水扩大，如此动态循环往复。三、全面推行价格笼子，程序化交易优势凸显价格笼子机制，简单来说，就是在连续竞价时，买入委托挂单价不超过102%，卖出委托挂单价不低于98%，不能再像之前一样涨停价/跌停价都可以挂上去，此举主要是用来降低股价的异常波动，抑制拉抬/打压股价，也可以防止乌龙指的出现。此前科创板和创业板都已经实施价格笼子机制了，只是它俩还是有点区别。科创板采用的是“拒单模式”，超过挂单价格范围的，直接当做废单处理。创业板采用的是“缓存模式”，超过挂单价范围的，先放到交易主机缓存里面去，等到满足挂单范围时，就会激活发单。也就是说，假如现在买入基准价是10块，那买入挂单价格范围不能超过10.2元，如果你挂10.3元，在科创板直接就是无效废单，在创业板，就先给你缓存起来，万一之后到了10.1元，那这个委托单就会被从缓存池里拎出来发出去。等到注册制新规下首只主板股票上市后，就全部都按照科创板的拒单模式来，这就非常不利于开市时间没空盯盘的投资者了，以前还可以挂个涨停价/跌停价在那里等着，现在就不行了，买入还好说，看着市价合适买入就可以了，但是卖出的时候呢，不能挂一个低价在那里等止损，就需要不时地去看一下，价格是否下跌接近止损价了。相信这种窘境，券商会给配上智能单功能解决一部分不能盯盘的需求，但人工下单的效率和灵活度还是受到了限制，这时程序化交易的优势就凸显出来了，能全自动实时盯盘，紧跟实时价格灵活下单，再说手速没有机器速度快，在交易这个层面，量化交易的优势在扩大，鉴于A股的投资者结构，镰刀的光芒又耀眼了几分。四、股票数目增多，基本面量化地位提高全面注册制下，上市的股票逐渐增多，能投资的标的物就增多了，资金又不能充沛地流向所有股票，所以个股的投资难度会加大，散户的资金量少，能持有的股票数目不多，到时候选股真的是“万里挑一”了，相亲从24个里面选1个都能挑花了眼，更何况将来是从成千上万支股票里面选，散户选股难度在增加，量化机构的选股难度也同样在增加。在以前核准制严格的财务标准下，上市的好歹财务基本面都不错，现在全面注册制放宽了上市条件，同时相应的退市率也会有升高，如果还继续炒垃圾股、ST股那些，退市就欲哭无泪了。那个时候，无论是散户还是量化机构，做最基本的财务筛选还是要的吧，这时候基本面量化的作用就更加凸显了，可以用单期/多期财报数据，选出一个能令人放心安睡的基础股票池。五、退市股票增多，注意幸存者偏差全面注册制落地之后，退市制度也会完善起来，毕竟放宽了上市条件，股票数目不断增多，A股又不是貔貅，只进不出，差企业的壳又不值钱，留着也没什么用，也会加快排出去。采用注册制的美股，最近几年的退市率都在6%之上，而A股目前连1%都不到，怎么着将来也争气一点，逐渐提高到2~4%吧，也就是每年100~200支退市股的事情。我国A股退市率统计（2001~2022）我国A股退市率与其他成熟资本市场对比退市的股票多了，开发量化策略的时候就要特别注意“幸存者偏差”，有的数据库没有退市股票数据，或API里默认没开启获得退市股票数据的功能，那个时候可能就会发现，买某些之前业绩差的股票，会获得非常丰厚的收益，因为当时有一大批业绩差的股票，业绩继续恶化的就退市了，数据找不到，能找到的是业绩转好挺过来的幸存者（扭亏摘帽）。因此要小心处理退市股票的数据，特别是策略回测时，千万不要以交易时点获取上市可交易的股票列表，要以计算的序列数据的起始获取，不然就带有筛选幸存者的功能了。注册制全面推行后，对实际交易的5点影响说完了，以上内容纯属基于个人主观片面的逻(yi)辑(pai)猜(hu)想(yan)，如果预期相符，纯属运气，若预期不符打脸，只道是文章需要逻辑，现实不需要。参考资料华创证券，2023.2.6，《全面注册制：千呼万唤始出来》华西证券，2023.2.8，《衔枚疾进，全面注册制进度条拉满》光大证券，2023.2.9，《全面注册制（征求意见稿）深度解读：全面注册制的背景、改革亮点与市场影响》中泰证券，2023.2.9，《全面注册制改革对A股生态影响几何？》开源证券，2023.2.19，《全面注册制落地速度超预期，资本市场开启深化改革新时代》华泰证券，2023.2.20，《全面注册制启航，完善生态循环》更多相关内容请见下方文章卡片，另外还有一个周更的公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2962749331",
        "comment_count": 0,
        "voteup_count": 6,
        "question_title": "http://www.zhihu.com/api/v4/questions/581712822",
        "question_url": "2 月 1 日，全面实行股票发行注册制改革正式启动，哪些信息值得关注？将产生哪些影响？"
    },
    "2961197300": {
        "created_time": 1680182131,
        "content": "ChatGPT没有想象中那么牛，确切来说，至少在炒股方面不够“惊艳”，甚至还有点儿拉跨。这不是腆着脸胡说，我之前还对chatGPT的选股能力做过一次详细的测试，结论是“官方chatGPT选不了，镜像chatGPT选不好”，用来炒股的后果不一定是是凶多吉少，但应该不是很稳，以下可以看之前测试的完整流程~因为之前老听说chatGPT能顶替一大堆职业工作，作为一名宽客（Quant），就也想看看是不是也把量化投资从业者的工作来顶替了，于是就想先测试一下这家伙的选股能力这么样。因为chatGPT的算法模型非常烧钱，训练一次的综合成本就要几百上千万美元，所以训练数据集就不会是每天增量迭代更新的，简单来说，chatGPT是一个“离线版本”，不是“实时版本”（试验是在推出GPT-4和联网插件功能之前完成的），在模型训练完成后的事情肯定是不知道的，咱就让它预测之后发生的事情，就知道它的预测的能力怎么样了。经过多次询问，chatGPT的训练集数据截止到2021年，确切是哪个日期就死活不肯说了，那咱就只好“想当然”认为是2021年12月31日了。这家伙不会说谎吧？慎重一点，巧妙试探一下，问一下它“是否知道俄罗斯和乌克兰爆发战争了”，虽然给了肯定的回复，但它知道的最近一场战争是发生在2014年，这说明它肯定不知道2022年的事情，这就放心了。那就让它给咱选股票，开上帝视角来验证一下它的选股能力，WTF，神奇的事情发生了，它死活不肯选股，在它眼前挂萝卜都没用。经过查阅资料得知，chatGPT是美国人工智能研究实验室OpenAI基于GPT-3.5（GenerativePre-Training，生成式预训练模型）生成的，较上一代版本有一个明显的改进就是，OpenAI提高了它的“安全性”，特别是禁止恐怖主义、暴力毒品、种族仇恨等言论相关的回应，看来投资这一块儿也被波及了，不让直接回应，开始慢慢吞吞说片汤话了。那只好往前倒了，看来要找到安全性低、警惕性不高的chatGPT才行了，这时就想到了OpenAI提供的GPT-3的API接口，简单来说，chatGPT=GPT-3改进优化+chat场景属性，如果说chatGPT是promax版本的话，那GPT-3就是semini版了，用人话不严谨来说就是，GPT-3是低配丐版chatGPT。来源：国泰君安《ChatGPT研究框架（2023）》国内的chatGPT镜像站刚好用的就是这个GPT-3接口（OpenAI还没有公开chatGPT的API接口），因为chatGPT在国内还不提供服务，要使用的话需要爬梯子和国外手机号接收注册验证码，非常滴麻烦，为方便国人使用，有些服务商就建立了chatGPT相关公众号/小程序给国人使用，接收用户的提问，然后调用这个接口，再把结果返回给用户，由于这0.5代之差，造成了很多人觉得国内的镜像站比官方chatGPT要笨一些。笨一些就笨一些，总比新版不能用强啊，于是找了一个能用这个接口的chatGPT镜像站（下文统称为“chatGPT(镜像)”），先来确认一下训练数据集的截止日期，是2020年12月31日，连2021年的数据都没用上，没事儿，不妨碍做选股能力验证。顺道儿核实一下有木有撒谎~于是我就问它：从2020年12月31日到2023年2月10日，中国A股未来涨幅最大的3支股票是什么？果真还是年轻同志实诚，一点都不来弯弯绕，一点都不扭捏，直接就给出了回复，这3支股票分别是中国平安、万科A和招商银行。到底选的股票咋样，把这3支股票和基准沪深300指数的收益曲线画出来对比一下，这里面只有招商银行跑赢了基准，其余两个都跑输了，如果期初等权买入并持有，最终收益率是-26.89%，沪深300指数期间收益率是-21.20%，连同期基准都没有跑赢。结果看上去令人失望啊，扩大到10支股票看看，它给咱选出了：中国平安、万科A、招商银行、中国石油、中国移动、浦发银行、建设银行、中国银行、中国建筑和中国人寿。统计一下期间的每支股票的收益率，看上去还行，除了top1和top2拉胯之外，后面的3~10名都跑赢了基准，相当于选股胜率是80%，如果当初等权买入并持有，最终收益率是1.46%，想对基准大概有20%出头的收益。细心的小伙伴可能发现了，在回复当中出现了股票名称和股票代码不对应的情况，中国石油括号中的代码是600028，而600028是中国石化的代码，中国石油的代码是601857，同样地，中国移动括号里的代码是00941，而00941是港股的代码，在A股的代码应该是600941（在提问当中已经强调了是“中国A股”）。中国移动是在2022年1月5日在A股上市的，如果要剔除新股的影响，剩余9支股票的最终收益率是-2.96%，也是大幅跑赢基准。看到股票名称和股票代码不对应的情况，这让我想到chatGPT是美国公司开发的模型，是一个老外模型，大部分数据应该都是英文语料，虽说是中国通吧，但应该更熟悉美股。于是，针对美股进行提问，选3支未来涨幅最大的股票，于是它回复了苹果、微软和谷歌这3支股票。忽然一想，不对哦，提问美股，应该是要用英文提问，于是将中文转为英文。还好，选出来的还是这3支美股，将它们和基准标普500指数的走势画出来，除了谷歌小幅跑输标普500外，其余2支股票都跑赢了基准，如果期初等权买入并持有，最终收益率是14.80%，标普500指数期间收益率是8.90%，大概跑赢6%。照例扩展到10支美股，它给咱选出了：苹果、微软、谷歌、亚马逊、特斯拉、英特尔、英伟达、美国银行、IBM和高盛。统计一下期间的每个美股的收益率，10支股票里有6支股票跑赢了基准，相当于选股胜率是60%，如果当初等权买入并持有，最终收益率是10.23%，只是略微跑赢了基准，都不到2%的超额收益。综合选股胜率和超额收益率，如果选3支股票，chatGPT(镜像)选股能力是美股好于A股，如果选10支股票，则是A股好于美股。其实无论是A股还是美股，chatGPT(镜像)在这次试验中的选股能力表现，并没有大家想象的那么厉害，其中股票收益率最高能达到60%，但是也有大跌40%的股票，收益率最终都没能狂飙起来，可惜了~最根本的原因，是因为GPT/chatGPT只是一个自然语言处理模型，一般只处理文本数据，例如文章、新闻、问答等，一般知名度、热度、讨论度越高的公司，模型可能就认为是越好，简单来说，GPT/chatGPT选股只参考了舆情层面，没有考虑到基本面和量价层面，因此会有偏颇，就如同炒股不能只看消息面。而且，一般越大涨的股票，讨论度和热度就越高，模型就可能认为是越好，越容易被选出来，追高挂旗杆的风险往往更大。因此，就目前来看，chatGPT的直接选股能力是缺陷比较大的，chatGPT官方选不了，chatGPT镜像站选不好，直接用来炒股的后果还是比较凶险，没有想象中那么牛。更多相关内容请见下方文章卡片，另外还有一个周更的公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2961197300",
        "comment_count": 9,
        "voteup_count": 27,
        "question_title": "http://www.zhihu.com/api/v4/questions/581556221",
        "question_url": "ChatGPT真的那么牛吗？"
    },
    "2961170062": {
        "created_time": 1680180788,
        "content": "是的，很多人对量化行业存在着非常多的误解，认为量化就是高频交易，认为量化就是稳赚不赔，认为量化就是AI高大上。下面可以好好唠一唠解释一下，为大伙儿消除一些幻想和焦虑，别被一些无良机构骗进坑。误解1：量化投资就是“高频交易割韭菜”一听到“量化投资”或“量化交易”，很多人的第一反应，量化是不是就是那种\"高频交易割韭菜\"，出现这种情况，个人感觉，都是一些新闻媒体对“高频交易”的竭力报道和渲染，“高频交易”和“量化投资”总是搭伙出现，让很多人误把“量化投资”等同于“高频交易”。其中最著名的事件莫过于“伊世顿高频事件”，两个外国人，不远万里潜入中国金融市场，抱着纯粹利己的动机，利用自研的高频交易系统，将700多万的初始本金滚到了20亿，其中跌宕起伏的故事可参见财新周刊的文章《伊世顿：20亿神奇之旅》。也就是伊世顿事件报道后，身边很多以前不关注量化的人都开始问起“高频交易”，可能是其中的让du贩都自叹不如的盈利能力，让大家的好奇心开始迸发。如果按照交易频率划分，量化投资可以被粗略划分为“高频交易”和“中低频交易”，也就是说除了“高频交易”之外，还有“中低频交易”。换个角度想想，中国A股目前实行的是“T+1”交易制度，今天买进的股票，第二天才能卖出，即使有股票底仓做T+0，一天之内最多一买一卖交易2次，连高频的边儿都摸不到，所以至少在中国A股领域，A股在交易机制上就无法实现高频交易，用反证法就能证明“量化投资”不等同于“高频交易”。高频交易多发生于期货期权衍生品领域，之前说的伊世顿交易的标的就是股指期货，但高频交易一般承载的资金量都比较小，因为高频交易拼的是速度，船小好调头，资金量过大的话，对市场冲击非常明显，摩擦成本都能把之前的利润侵蚀掉。因此大部分资金还是沉淀在“中低频交易”，比如常见的对冲Alpha策略，买入一揽子股票，用股指期货做对冲，往往交易周期都是周月级别的。一句话总结来说，高频交易之于量化投资，如同某娅某琪之于直播带货，很多人是因为某娅某琪知道直播带货的，但某娅某琪并不等同于直播带货，虽然直播带货头部效应明显，但这个行业中还有非常多的人在辛勤耕耘，量化领域亦如此。误解2：量化投资可以做到“稳赚不赔”在量化投资领域内，也流传着稳赚不赔的传说，那就是找到传说中的圣杯策略，圣杯策略的资金曲线永远都是倾斜向上，给人带来稳稳的幸福，可惜它跟人们口中的“鬼”一样，听过的人多，见过的人少。其实，无论在量化投资亦或是其他领域，如果有人信誓旦旦地告诉你某某交易某某项目稳赚不赔，相信我，要么他是神仙，要么他就是骗子，是后者的概率极大。直接唠个实例解释一下吧，某方是中国量化投资领域的翘楚，下图是其代表作产品“量化对冲1号”自成立以来的收益走势图（绝对收益），虽然整体保持了向上正收益，但若是在前两年八月底认购产品，之后出现大幅回撤，亏损颇大。此刻脑海中都能浮现出投资者跳着脚骂街的场景，并随着光良的《童话》旋律哼道：你哭着对我说，量化里都是骗人的，它不可能是你的王子，也许你不会懂~~~量化界翘楚尚且如此，更何况其他梯队，总体盈利我信，但是任何投资期限内都稳赚不赔，那是我做噩梦都不会信！简单来说，量化投资能基于历史数据和数学模型，让投资盈利的概率偏向于我们，并不能保证百分之百盈利。一个你动了手脚的硬币，让你的胜率提升到60%，还是有16%的概率连输两次，6.4%的概率连输三次，黑天鹅谁也预料不到，哪有什么“稳赚不赔”。误解3：做量化投资的门槛非常高，就一定要学习编程和人工智能听了我的解释之后，能戳破部分小伙伴对量化投资的“幻想”，但仍然有一部分在认清本质之后，依然对量化投资感兴趣，想自己也去入门尝试一下。但里面的人又出现了另一种极端，认为做量化投资的门槛非常高，又要学编程又要学人工智能的，自己学不来，之前对量化的幻想有多乐观，现在对自己的学习能力就有多悲观。先把一句话撂在这，能熟练使用Excel的人，就能做量化投资。做量化投资必须学编程吗？不一定！最简单的量化策略莫过于定投策略了，在固定的时间点买入固定金额的标的，按照规则手动操作就可以，无须编程。萌新常说的双均线策略，金叉时买入，死叉时卖出，对着行情软件观察，满足金叉就买入，满足死叉就卖出，也无须编程。当然啦，量化投资当中还有很重要的一项任务就是“回测”（Backtest），也就是把自己的交易想法放到历史数据当中检验，看看能否在历史统计当中盈利，是不是一个好的交易想法。刚才提到的定投和双均线策略，都可以使用Excel完成回测和盈亏情况统计，别问为什么，问就是我刚开始也是这么干的，这就是为什么敢说“能熟练使用Excel的人，就能做量化投资”的原因。对现在萌新入门量化更友好的消息是，现在可能连Excel都不需要会用了，目前都陆续有了零代码无需编程的量化平台，像小时候搭积木一样就能构建属于自己的量化策略。做量化投资必须学人工智能吗？不一定！有像定投和双均线这样的简单策略，自然也有复杂策略，比如说人工智能。AI人工智能（ArtificialIntelligence）这个词近几年非常热，很多领域都在不断提及这个概念，在量化投资领域，用互联网的黑话来说，就是”AI赋能，智能投资“。很多量化培训课程，也在不断教授人工智能的知识，大有不会人工智能就不能做量化之感。咱不能听到别人教人工智能，咱就去学，不要为了学而学，要想想为什么要学。简单来说，量化投资当中引入人工智能，很大程度上是需要AI帮我们自动找到数据当中的规律，主要是非线性规律。因为人脑一般对线性的规律比较敏感，一般通过足够时间的观察就能找到（如果规律存在的话），AI模型就复杂很多，里面存在着各种空间的转换和维度的变换，低维不可分的数据可以映射到高维可分，因此它是找非线性规律的小能手。就是因为AI模型太“能”了，找出的数据规律人类都不太容易看懂，所以很多人觉得AI就像一个黑匣子。而且，你可以输入毫不相干的数据（例如今天天气、前台妹子唇膏裙子颜色和股票涨跌幅），它都能找出规律来，只要模型够复杂、样本数够少，这种情况就是咱经常听到的“过拟合”（overfitting）。正是由于“黑匣子”和“过拟合”的原因，建议萌新宽客（天才除外）入门时，不一定要学人工智能，最主要的是把“观察市场-&gt;总结规律-&gt;形成策略-&gt;回测统计-&gt;改进优化”的学习路径走通，降低学习曲线的坡度，把每一维数据当做是自己的朋友，感受量化给自己带来的快乐。人工智能是给量化投资添砖加瓦的，最好先有一个稳固的量化地基。最后再废话一句，做量化就像是做饭，有做熟吃饱级别的，也有酒店大厨级别的，更有国宴级别的，各有各的活法做法，终归会做饭总没有坏处，但行量化，无问西东。参考资料财新周刊，2015年第43期，《伊世顿：20亿神奇之旅》周志华，2016年，《机器学习》（坊间俗称“西瓜书”）IanGoodfellow，2017年，《深度学习》（坊间俗称“花书”）更多相关资料请见下方文章卡片，另外还有一个周更的公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2961170062",
        "comment_count": 0,
        "voteup_count": 9,
        "question_title": "http://www.zhihu.com/api/v4/questions/394389759",
        "question_url": "如何看待明汯投资裘慧明：“量化策略拥有万亿容量，只是这个行业里仍然有很多认知的误区”这个观点？"
    },
    "2959598742": {
        "created_time": 1680096621,
        "content": "如果想零基础成体系深入学习量化交易，初期可以多看看经典的量化著作，因为最成体系莫过于书籍了，根据个人经验和习惯，推荐20本量化投资佳作，书籍们分为5大类，从故事类到失眠类都有。第一类是科普&amp;故事类，顾名思义，主要是帮量化萌新迅速了解量化&amp;宽客是什么，有个大体的感觉，偏故事向。第二类是股票量化类，主要讲了在股票量化领域有什么经典的策略，如何构建、实现和回测。第三类是期货量化类，讲的是期货量化的经典策略，大部分是趋势策略（例如海龟策略），也有套利策略。第四类就是期权量化类，一般书籍里面都是先科普一下期权是什么，然后就各种字母，接着就各种跨式、蝶式，最后我想把它归到失眠系列类。第五类就是失眠系列类，不是这类书让人失眠，而是适合失眠的时候看，例如那本量化红宝书，新手初看会觉得特别枯燥，公式繁多，助眠效果极佳。一、科普&amp;故事类01.《打开量化投资的黑箱》作者:里什·纳兰豆瓣评分：7.4出版时间:2012-3内容简介：作者是一位基金经理，在书中他站在一个非纯粹技术性的视角介绍了量化交易策略，用生动的文笔带领大家游历整个“黑箱”。涉猎了很多金融界丰富的真实案例和市场趣闻，描绘了华尔街的数量金融奇才们是如何工作的。02.《解读量化投资：西蒙斯用公式打败市场的故事》作者:忻海豆瓣评分：7.2出版时间:2010-1内容简介：作者用轻松、幽默的讲故事手法，解读了西蒙斯量化投资“黑箱”之内的秘密，带我们走近20年中平均每年总回报为80％的大奖章基金，看看它如何能将1万元变成1亿元。03.《宽客：华尔街顶级数量金融大师的另类人生》作者:斯科特·帕特森豆瓣评分：8.0出版时间:2011-7内容简介：这是一本讲述华尔街顶级数量金融大师的另类人生的书。背景是2007年金融危机爆发以后，作者对量化基金经理和顶尖经济学及金融学学者的各种采访。04.《宽客人生:华尔街的数量金融大师》作者:伊曼纽尔·德曼豆瓣评分：8.0出版时间:2007-7内容简介：作者本人就是华尔街的顶级宽客，至今仍享盛名，他分析了物理学与金融学之间的关联和不同，讲述了许多物理学巨匠和金融学大师的故事。05.《高频交易》作者：艾琳·奥尔德里奇豆瓣评分：7.8出版时间：2011-6内容简介：本书作者站在专业的高度，用平实的语言和丰富的图表，带我们走进量化投资的黑匣子，向我们展示了这台复杂的“金融仪器”是如何运作的。06.《高频交易员:华尔街的速度游戏》作者：迈克尔•刘易斯豆瓣评分：7.8出版时间:2015-5内容简介：本书作者其他著名的著作还有《说谎者的扑克牌》和《大空头》，本书叙事偏水浒风，人物逐个出场，背景丰满，性格突出，然后构建完整个拼图，结局有一抹亮色。二、股票量化07.《量化投资——策略与技术》作者：丁鹏豆瓣评分：6.5出版时间:2014-9内容简介：你可以把此书认为是金融工程研报的合订本，内含60多个案例，主要分为策略篇与理论篇两部分。策略篇主要包括：量化选股、量化择时、股指期货套利、商品期货套利、统计套利、期权套利、算法交易和资产配置等。理论篇主要包括：人工智能、数据挖掘、小波分析、支持向量机、分形理论、随机过程及IT技术等。08.《量化交易:如何建立自己的算法交易事业》作者：欧内斯特·陈豆瓣评分：7.5出版时间:2014-1内容简介：此书虽薄，但内容涵盖交易策略的发展、回测检验、风险管理、编程实现、交易系统研发和算法交易运行等关键领域，作者带你一步一步建立起一个最佳量化框架。09.《量化投资策略:如何实现超额收益Alpha》作者：理查德·托托里罗豆瓣评分：7.6出版时间:2013-5内容简介：作者在书中详尽地测试了超过1200种投资策略，归纳了七个投资维度：盈利性、估值、现金流、成长性、资产配置、价格动量以及危险信号，并告诉你如何有效结合单个投资因子或组件因子，如何构建多因子策略，从而构建更全面的选股模型。10.《量化投资：以Python为工具》作者：蔡立耑豆瓣评分：6.7出版时间:2017-2内容简介：主要讲解量化投资的思想和策略，并借助Python语言进行实战。首先对Python编程语言进行介绍；然后，向读者介绍量化投资的理论知识，主要讲解量化投资所需的数量基础和类型等方面；最后讲述如何在Python语言中构建量化投资策略。三、期货量化11.《海龟交易法则》作者：柯蒂斯·费思豆瓣评分：8.6出版时间:2013-5内容简介：伟大的期货交易者究竟是天生的，还是可以后天培养的？丹尼斯和埃克哈为此开始了一项试验，参与者被称为“海龟”。此书的内容就是关于这些海龟的：海龟们如何做交易，如何把握交易时机；海龟们如何衡量风险，如何管理资金；海龟们如何获得超过100%的年均回报率；为什么有些海龟大获成功，有些却赔个精光；如何将海龟交易法则运用于你自己的交易中；12.《期货市场计算机分析指南》作者：查尔斯·勒博豆瓣评分：7.9出版时间:2012-4内容简介：本书原版较老，主要讲解美国80年代各种技术指标的运用，内含了作者几十年的功力。13.《期货市场完全指南:技术分析、交易系统、基本面分析、期权、利差和交易原则》作者：杰克·施瓦格豆瓣评分：7.7出版时间:2017-11内容简介：本书侧重于商品期货市场价格预测，是目前全面的关于基本面分析和技术面分析的期货著作，内容涵盖期货、期权、分析、利差等。14.《统计套利》作者：安德鲁·波尔豆瓣评分：6.6出版时间:2011-1内容简介：本书论述了统计套利的历史，也诠释了统计套利如何运作的方式，以及为什么管用的原因，就是翻译让人吐槽~四、期权量化15.《期权投资策略》作者：劳伦斯G.麦克米伦豆瓣评分：7.9出版时间:2010-1内容简介：本书可认为是期权交易策略大全，包含全面的期权交易工具与各种策略方法。涵盖数百种经过时间与市场考验的交易技巧，承受最低的风险，实现既定的投资目标。16.《波动率交易：期权量化交易员指南》作者：尤安·辛克莱豆瓣评分：9.0出版时间:2017-5内容简介：本书梳理了基础的期权定价、波动率度量、对冲、资金管理以及交易评估等内容，并开发了基于布莱克-斯科尔斯-默顿的量化模型去度量波动率，这适用于几乎所有类型的金融工具。17.《波动率微笑:宽客大师教你建模》作者：伊曼纽尔·德曼豆瓣评分：9.1出版时间:2018-1内容简介：本书公式繁多，需要较强数学功底，绝对是一本期权量化的好书，但总想将其归为失眠系列。五、失眠系列18.《主动投资组合管理:创造高收益并控制风险的量化投资方法》作者：理查德C.格林诺德豆瓣评分：8.7出版时间:2014-9内容简介：本书以其数学上的严谨性和内容上的系统性成为量化组合投资领域的权威之作。该书描述了一套创新的方法：寻找资产收益率原始信号，将它们转化为精炼预测，以及根据这些预测构建具有超常收益率和最小风险的投资组合，即持续战胜市场的投资组合。公式多，助眠！19.《QuantitativeEquityPortfolioManagement:ModernTechniquesandApplications》作者：EdwardE.Qian豆瓣评分：8.9出版时间:2007-5内容简介：本书可以被看成对《主动投资组合管理:创造高收益并控制风险的量化投资方法》的补充。20.《QuantitativeEquityPortfolioManagement:AnActiveApproachtoPortfolioConstructionandManagement》作者：LudwigBChincarini豆瓣评分：8.0出版时间:2006-7内容简介：本书比较偏学术风格，主要讲factormodel，与《主动投资组合管理:创造高收益并控制风险的量化投资方法》相辅相成。更多相关资料请见下方文章卡片，另外还有一个坚持周更的量化公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章quantkoala：2个量化小技巧，双均线策略盈亏比从1.2提升到1.9（大神请绕行）152赞同·16评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2959598742",
        "comment_count": 1,
        "voteup_count": 63,
        "question_title": "http://www.zhihu.com/api/v4/questions/283374489",
        "question_url": "零基础学量化交易，请问有什么推荐的教程或者帖子吗？"
    },
    "2959578677": {
        "created_time": 1680095750,
        "content": "先不急着回答量化分析和技术分析之间的区别和联系，给大伙儿po几张量化研报的截图，自行感受一下。看到了吧，在量化交易当中，也会使用到技术分析的指标、方法和思想，就如上图展示的那样，用RSI构建量化选股因子，用技术指标进行量化择时，程序化识别缠论分型、笔、线段和中枢进行买卖点提示。因此，如果技术分析有进步发展，也会利好量化交易。技术分析出现时间非常早，在股民里面非常普及。量化交易相对来说是新兴事物，而且同时融合了金融、数学、计算机多学科交叉，看起来比较高大上，加上自媒体对量化交易的渲染鼓吹，很多人就觉得技术分析落后了，甚至没有存在的必要了。看事物要看到本质，其实无论是量化交易，还是技术分析，都只是投资交易的一种决策方式罢了，都是为了解决投资交易当中的这4个问题：（1）买什么？投资标的，买茅台，还是买移动，还是其他股票。（2）什么时候买？是今天买，还是明天买，具体什么时点买。（3）什么时候卖？是今天卖，还是明天卖，具体什么时点卖。（4）买卖多少？仓位管理，建仓，加仓，减仓，清仓。你想是不是这样，哪个投资流派要解决的都是这4大问题，不管黑猫白猫，抓住老鼠就是好猫，只是分工形式不同，没有高低贵贱之分。我本身是做量化的，可能就有小伙伴问了：你为什么选择量化交易，而不是技术分析？我想说的是，小孩子才做选择，而成年人的法则是：全都要！！！之前已经说了，在量化交易当中，也会用到技术分析，对于股票投资而言，当然也可以涵盖基本面分析，还可以纳入事件驱动、舆情分析那些，而且还可以获得程序化自动化的加持。不是我不选技术分析，是量化交易里面可以含有技术分析的可实现部分（有些太主观的目前还难以实现），而且还可以站在更多巨人的肩膀上，何乐而不为，并且有了程序化自动化的的加持后，可以完成2个非常重要但手动难以完成的操作。第一个就是程序化全自动盯盘全自动交易，解放自己的眼睛和双手。第二个就是“取其精华，去其糟粕”的去伪存真的功能。说起来太抽象，举个例子来理解。比如技术分析一般都会讲双均线，“老师们”会展示一幅幅大涨的K线图，指给你看大涨之前都会出现双均线金叉，聪明的散户也看得出来这是一种“选择偏差”，因为大涨的股票之前都会有金叉，但有金叉不代表之后就会大涨，可以自行脑补一下震荡行情，是不是反复金叉死叉又金叉。简单来说，金叉不是大涨的充分必要条件，但纯粹按照金叉死叉交易胜率和赔率有多高呢？手动统计起来就太麻烦了，对于单个股票，你可以打开行情K线图，统计近10年的行情大概有2400个交易日，需要手动记录下每一个金叉死叉点的位置和价格，写下每次最终的涨跌记录，一支股票还好说，现在全市场5000支股票呢，纯靠手工来做是不是就吐血了。量化用程序来做就简单了，萌新宽客用两个for循环，高手用一个，就可以读入数据进行统计，发现规律后还可以形成量化策略进行回测，有用就留下，没用就丢弃或后续改进。技术分析很好很有用，量化分析也很好用，它们红尘作伴、策马奔腾。之前相关的瞎聊：第1期：量化回测本身就是一种过度拟合？第2期：为什么回测效果非常好的策略实盘却不行？第3期：怎么区分Alpha因子和风险因子？",
        "url": "http://www.zhihu.com/api/v4/answers/2959578677",
        "comment_count": 0,
        "voteup_count": 20,
        "question_title": "http://www.zhihu.com/api/v4/questions/24364508",
        "question_url": "量化分析和技术分析有哪些区别和联系？"
    },
    "2958011687": {
        "created_time": 1680013099,
        "content": "一般自己做量化迷茫的时候，喜欢去看一看大神们的量化策略源码，开拓一下自己做量化的眼界和思路，经常发出这样的感叹：这TM还能这样玩儿~不知道你有没有过这种的策略开发经历——相同一本交易书籍，自己看过就完了，图一乐呵，有人却能量化出交易规则、形成指标/因子、写出策略代码、模拟盘验证、实盘盈利。因为后者有一个「策略兵器库」（大脑里or笔记中），遇到任何交易想法/投资理念——随时调用，快速匹配，回测优化，模拟验证、实盘盈利。掌握好经过验证的方法，大家都能拥有自己的「策略兵器库」。01为什么大神做量化这么厉害（快准狠）？若干年前，我开始接触量化投资，虽然喜欢每天宅在家里研究策略，但通过线下参加策略/金工会议，线上参加量化社群，认识了不少的Quant大神/策略高手。我发现他们有共同的一点：他们遇到任何新的交易思想/投资理念，都能很快拓展并形成一个完整的量化策略，而且不是那种夸夸其谈，而是真正的思想理念到交易规则，口头文字到策略源码，都想的很清楚。我以前十分疑惑，觉得这些高手大神都比较聪明，天赋异禀，老天爷赏饭吃，所以很厉害。但这些年时间过去，慢慢发现，自己逐渐具备了这种能力，虽然跟高手大神们相比还差得很远。我才猛然明白，这并不是所谓的「天赋异禀」，而是长期的刻意练习，养成的思维习惯。在很多萌新Quant看来，量化策略实在太多了，而且各不相同，没有太多规律可言。但其实，如果你认真分析，就会发现，所有的量化策略，无论是期货还是股票，是外汇还是数字货币，在不考虑硬件支持的情况下，量化策略的4大核心要素无非是：品种选择、入场规则、出场规则和仓位控制。品种选择：每个策略适用于不同的品种？为什么？怎么选？入场规则：指标/因子出现什么变化时开仓？为什么？怎么判断？出场规则：指标/因子出现什么变化时平仓？为什么？怎么判断？仓位控制：如何管理自己的资金大小和交易头寸？为什么？怎么做？如果你看到感觉不错、对自己有启发的量化策略，按照上述的4个策略核心要素拆解出来，总结成一个「策略清单」。以后遇到新的交易思想/投资理念，你就能从「策略清单」里，找到对应的策略实现方案，根据收益/风控要求灵活变通，做出和自己契合匹配的策略，极大提高开发效率和成功概率。因为一切创新都是旧元素的组合，你的「策略清单」是根据过往优秀策略的总结，所以里面的方法/思路/实现路径，都经过验证，你参考借鉴这部分内容内容，等于站在巨人肩膀上，成功可能性就更大。这个「策略清单」，就是高手的「策略兵器库」。高手大神面对新的交易思想和投资理念，能迅速地做出有效行动，就是因为「策略兵器库」的强大。他们看过大量的各式各样的量化策略和实现源码，当遇到新东西，他就知道——“这个XXX趋势突破策略，也可能适合XX品种，因为它们的波动性和周期性基本一致”“这个入场形态可以用XX策略中的形态识别方法，套用缠论底分型识别的思路”“这个出场的指标可以用XX策略中的卖出方法，模仿SAR+吊顶止盈止损的方法”“这个资金管理方法可以用XXX策略中的用马丁格尔策略”当你有了「策略兵器库」，你就不再是孤军奋战，遇到问题，找到相应的「兵器」，模仿，回测，改进，优化，实践。如果不行，换另一个「兵器」，快速迭代。借用前人智慧，提高开发效率，加大成功概率。接下来的小节就来分享一下，该如何分析优秀策略，把4大策略要素归入对应的「策略清单」，建立自己的「策略兵器库」。02如何分析优秀策略？对于每个优秀的策略案例，都能通过以下4个核心元素进行拆解，总结出相应的「策略清单」，最终建立自己的「策略兵器库」。（1）核心要素之一：品种选择A.期货/外汇/数字货币量化策略对于期货(CTA)/外汇/数字货币量化策略，判断其属于的策略类型，例如趋势类、震荡类、套利类等，记录下所适用的品种和时间周期，积累的策略多了以后，就对在什么时间框架下，什么品种适合做趋势还是震荡有感觉了。B.股票量化策略对于股票量化策略，那就是量化选股，使用基本面或技术面因子进行打分排序，选出排名靠前的N只股票构建投资组合，如果再加上股指期货进行对冲，那就是股票策略中的量化对冲策略。我们需要记录下该策略所使用的选股因子或指标。（2）核心要素之二：入场规则A.期货/外汇/数字货币量化策略对于期货(CTA)/外汇/数字货币量化策略的入场规则，为了记录和分类方便，还可以根据个人习惯进行再次细分，我喜欢再次将其分为基本面指标、量价指标和形态指标。基本面指标：期货是可以获取到基本面相关数据的（虽说较难），比如说现货价格、库存等信息，例如某个策略中，期货较现货贴水超过某个分位时做多，同时做空升水最多的相关品种。量价指标：指MA、EMA、AMA、SAR、布林带等依靠纯行情数据计算出来的标量指标。形态指标：识别出固定形态的指标，比如说缠论中的顶分型底分型。B.股票量化策略对于传统的量化对冲策略，是剔除大盘系统风险，获取超额Alpha收益，一般来说做好选股工作就好，入场规则就是定期换仓后开仓。对于量化择时策略，指标细分类型与期货的入场指标类似，但会多出财务报告和产品信息，详细记录下该策略所使用的择时因子或指标。（3）核心要素之三：出场规则A.期货/外汇/数字货币量化策略对于期货(CTA)/外汇/数字货币量化策略的出场规则，指标分类与入场相似，除了基本面指标、量价指标和形态指标之外，还会有止盈止损指标，常见的有固定程度止盈止损法、相对程度止盈止损法、ATR倍数止盈止损法。B.股票量化策略对于传统的量化对冲策略，交易时间是定期换仓，出场规则就是定期卖出平仓。对于量化择时策略，指标细分类型与期货的出场指标类似，但会多出财务报告和产品信息，详细记录下该策略所使用的择时因子或指标。（4）核心要素之四：仓位管理A.期货/外汇/数字货币量化策略对于期货(CTA)/外汇/数字货币量化策略的仓位管理，常见的方法有固定的百分比、凯利公式、顺势加仓、逆势加仓、马丁格尔策略、反马丁格尔策略、固定的增量比例。除了记录所使用的仓位管理方法之外，最好还要记录下所使用的阈值（若有），积累的策略多了之后，便对合理的经验值有感觉了，尽量避免参数孤岛。B.股票量化策略对于传统的量化对冲策略，仓位控制一般是等市值对冲，或是根据Beta值等动态调整头寸，有现成的解决方案。对于量化择时策略，常用的仓位管理方法与期货/外汇/数字货币量化策略一致，记录即可。总结/记录原则：方便自己随时调用，最好用自己熟悉的方式即可，无需刻意追求形式。03如何寻找源源不断的量化策略(附源码)？前面讲了为什么和如何分析优秀的量化策略，但还有个现实问题，去哪里找到源源不断的量化策略，不是“纸上谈兵”的那种，要带有源码实现，最好再选好品种和设置好各项参数。毕竟，巧妇难为无米之炊，有了大量的量化策略，我们才能取其精华，去其糟粕，博采众长，为自所用。在我看来，量化策略的获取分为三个层面，第一个层是公开免费获取的资料，第二层是公开付费获取的资料，第三层是量化小圈子内才能获得的资料，第三层是有钱也不一定买到，取决于你是否在这个圈子以及大神是否信任你。第一层：公开免费获取（干货度：★☆☆☆☆）第一层主要有以下3大来源。书籍(纸质or电子)：可以在量化书籍、交易书籍、名人访谈等书籍中总结出量化策略，但不一定有源码。研究报告：各大券商的策略研究报告，最好是金融工程的研报，策略会描述得更为详细，一般情况下没有策略源码。各大Quant平台：平台上会有许多Quant们分享自己实现的策略，一般会有源码，可能需要积分才能查看或下载。这些渠道对于萌新Quant们是非常好的学习资料，除了能锻炼自己实现策略的能力之外，还能给自己树立主流的交易思想。因为是公开就能找到，并且是免费获取的，在知乎上一搜就有很多，在此不再赘述。其实，只要你肯花时间，一定能在互联网上搜索到各种免费公开的量化策略源码，然后按照上面的方法，分析出可参考的策略实现方案。第二层：公开付费获取（干货度：★★★☆☆）第一层的量化策略基本都是免费的，但良莠不齐，好坏难分，干货度偏低，需要在众多玩具性质的策略中筛选出“金矿”，有点儿耗时费力。但每个人的精力是有限的，对于部分人来说，花大量时间搜集良莠不齐的量化资料，认为是一件很不值得的事情。PS:有免费的当然先用免费的，白piao是本性，对于付费问题，每个人的观点不一样，但如果付费能加速我们的成长，倒是可以低成本试错。试问，你走过的路前人也走过，前人总结的经验，请他吃顿饭让你避开这几年踩的坑，自己是否愿意？此时，很多优秀的策略提供者应运而生，他们或将玩具性质策略当中的“金矿”改进优化，或将交易大神的策略思想量化编程实现，或是对近期行情的观察开发出新的策略，最终将策略详细描述和策略源码一同打包出售。因为是要拿出来卖的，所以至少在回测层面的收益和绩效都是非常亮眼的，能大概适合过去的大部分行情，干货度大幅提升。拿我个人为例，这样的付费量化策略(附源码)，也买过几百套了，当时市面上主流的策略源码系列基本都收集完整了吧（注意只是“当时”，“现在”就不敢拍胸脯打包票了）。这些策略源码中，大部分是期货策略(CTA)，感觉同时也适合外汇和数字货币，小部分是股票策略。第三层：小圈子付费也不一定获取（干货度：★★★★★）这个圈子对普通Quant来说就不太友好了，一般是比较难获取。一般来说，这样的圈子进入有一定门槛，不是说有钱能进，还得认识圈里大神，大神还得信任你，把策略思想告诉你，甚至把数据和代码都给你看。PS:这里的小圈子特指量化大神/策略高手运营的私密圈子，其他的量化社群可以参考“第二层：公开付费获取（干货度：★★★☆☆）”。截图某香港Quant大神的二级交易核心分享最后小结一下~量化思路枯竭，做量化迷茫的时候，可以多拆解和借鉴大神们的量化策略，打造自己的「策略兵器库」，就是采用清单思维，将所看到的策略拆解成品种选择、入场规则、出场规则和仓位管理这4个策略核心要素，记录在「策略清单」当中。在日后需要将新的交易思想或投资理念编程实现成策略，并进行回测改进优化、模拟盘实盘验证时，便可以从「策略清单」当中随时抽取相似对应的元素进行组合，并且也将相应的策略源码进行改写/拼接/组合。只要我们拆解的策略足够多，“太阳底下无新鲜事”，采用此方式，再也不用对策略的实现冥思苦想，至少可以采用相似的方式进行快速实现，“站在巨人的肩膀上”，策略开发效率获得大幅提升。更多相关资料请见下方文章卡片，另外还有一个坚持周更的公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：私募奇葩要求，投资经理3周须开发4000个量化因子，手把手教你4行核心代码轻松应对quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：做量化交易发愁写代码？一招教你白嫖GPT-4智能编程神器quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章quantkoala：2个量化小技巧，双均线策略盈亏比从1.2提升到1.9（大神请绕行）152赞同·16评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2958011687",
        "comment_count": 1,
        "voteup_count": 60,
        "question_title": "http://www.zhihu.com/api/v4/questions/467705986",
        "question_url": "你们都是怎么做量化的？"
    },
    "2950401835": {
        "created_time": 1679578815,
        "content": "我所在的领域叫量化交易或量化投资，最近几天一直在玩Cursor，根本停不下来，发现量化领域内的初级编程任务基本都能搞定，调试修改一下代码就能跑起来，麻麻再也不用担心我的编程~登录官网后就看到一句大大的slogan『BuildSoftware.Fast.』，其下带有一行小字：Write,edit,andchataboutyourcodewithGPT-4inanewtypeofeditor。一目了然，从中就可以看出，Cursor是基于GPT-4模型的编程工具，可以通过它生成、编辑以及和AI讨论分析代码。我这几天使用下来，它更多扮演的是一种助手的角色，你给它描述编程任务，它给你生成代码，如果你看不懂，它会给你一句一句翻译，如果代码运行出错，你把错误放在聊天框里面，它会回复是什么原因、怎么解决。最最关键的是，它目前所用功能的使用都是免费的，其次是不需要爬梯子翻墙，国人直接就可以使用，全程没有任何套路，甚至连注册都不需要！Cursor不是像chatGPT那样是在网页端直接使用的，而是要在官网上下载客户端，目前是支持Windows、MacOS和Linux三大操作系统，安装软件本体不大，只有80几兆。选择对应版本下载安装完成后，打开软件，来到暗黑色风格的类VSCode开发界面，整体非常简洁，菜单栏和图标也非常少，一股北欧极简风扑面而来。Cursor的使用非常简单，只需要记住两个快捷键就行了，一个是Ctrl+K，另一个是Ctrl+L。Ctrl+K(生成代码)：负责代码的生成和编辑，也就是在这里给它描述和布置编程任务以及后续的修改。Ctrl+L(聊代码)：负责代码的说明、注释和理解，对于代码不理解和错误的地方，让它给你进行说明和改进。打开Cursor后，默认情况下是已经打开PY的main.py文件和JS的main.js文件（如果没有，请从左侧文件列表手动打开），PY就是Python，JS是JavaScript，此外还支持C、C#和HTML等多种编程语言。在量化交易领域，使用Python的人比较多，在此就以Python的自动化编程举例，咱先给它安排一个小任务看看效果如何，选中PY的main.py文件（或者自己新建一个py文件，此处我是新建了一个“MACD计算并展示.py”文件），让光标进入，按下快捷键Ctrl+K后，会在界面综上部弹出一个输入框，咱往里面敲入“使用tushare库获取贵州茅台从2018年元旦至2023年3月20日的行情数据，并计算MACD指标，最后要画图展示”。输入完成后就点回车键Enter，然后编辑窗口就不断有代码生成，完整代码如下所示，要注意的是，每次输出的代码都是不同的，即使输入相同的prompt（提示词/关键，坊间俗称“咒语”）。生成后记得点击保存，py文件默认会存储在路径“C:\\Users\\{你的用户名}\\cursor-tutor”对应的文件夹下（也许不同电脑不同操作系统不一样），你可以在终端执行这个py文件，或者直接将代码拷贝到你的IDE里面执行，例如Spyder、PyCharm等。我在终端直接运行这个py文件，很幸运，除了提示我要升级tushare到Pro版之外，并没有其他错误，直接就把最终的行情和MACD图给画出来了。虽然横坐标看起来很“奇怪”，因为里面用了date2num函数将日期转化为天数，也就是距离1900-01-01有多少天。如果萌新看代码不是十分理解，要添加注释，那可以全部选中代码，接着Ctrl+K，在输入框里输入“请给每一行代码添加注释”。然后敲击回车键Enter完成，就会出现修改前后的代码对比。接着点左上角的绿色“Accept”表示接受修改，这样就能给代码都添加上注释了，这样代码的可读性就更高了。如果在看代码的过程中，觉得有哪里不懂的，可以开启“聊代码”功能，只需要使用快捷键Ctrl+L，在弹出的输入框里面输入你想问的问题，例如自己不清楚画图展示中第26行candlestick_ochl函数，可以这样问。敲击回车后，就会在界面右侧开启一个聊天小框，对你的问题进行回复，如果想继续了解，还可以继续提问，这就跟使用chatGPT是类似的了。我当时发现可以这样聊天的时候，心想这不就可以同时白嫖chatGPT了吗？谁知道Cursor还是太油腻太鸡贼了，除了编程相关的问题，其他问题都是一律漠视的。刚才咱不是说行情和MACD指标的画图里面横轴是数字吗，看起来怪怪的，咱来问一下Cursor该怎么修改，先选中画图的那部分代码，然后Ctrl+L，在弹出的输入框当中输入“我想让这段代码展示的图片里面，横轴是日期，请问我该如何修改？”。Enter之后，开启聊天小框回答模式，详细回答了原因，以及如何进行修改，“虽然已经用date2num函数转换为数字，但最后可以用ax.xaxis_date函数再转回为日期显示”。将原来的代码注释掉，然后把回答当中的代码copy进来，一运行，发现真的可以，数字变回日期了，虽然只把年份显示出来，Cursor你真666~importtushareasts#导入tushare库importpandasaspd#导入pandas库importmatplotlib.pyplotasplt#导入matplotlib库frommpl_financeimportcandlestick_ochl#导入candlestick_ochl函数frommatplotlib.pylabimportdate2num#导入date2num函数importdatetime#导入datetime库importtalib#导入talib库#获取贵州茅台从2018年元旦至2023年3月20日的行情数据start_date='2018-01-01'#起始日期end_date='2023-03-20'#结束日期df=ts.get_k_data('600519',start=start_date,end=end_date)#获取贵州茅台的K线数据#计算MACD指标df['EMA12']=talib.EMA(df['close'],timeperiod=12)#计算12日指数移动平均线df['EMA26']=talib.EMA(df['close'],timeperiod=26)#计算26日指数移动平均线df['DIF']=df['EMA12']-df['EMA26']#计算DIFdf['DEA']=talib.EMA(df['DIF'],timeperiod=9)#计算DEAdf['MACD']=2*(df['DIF']-df['DEA'])#计算MACD#画图展示df['date']=pd.to_datetime(df['date'])#将日期转换为datetime格式df['date']=df['date'].apply(date2num)#将日期转换为数字df_values=[tuple(vals)forvalsindf[['date','open','close','high','low']].values]#将数据转换为元组#fig,ax=plt.subplots(figsize=(20,10))#创建画布#candlestick_ochl(ax,df_values,width=0.6,colorup='red',colordown='green',alpha=0.8)#绘制K线图#plt.plot(df['date'],df['DIF'],label='DIF')#绘制DIF曲线#plt.plot(df['date'],df['DEA'],label='DEA')#绘制DEA曲线#plt.bar(df['date'],df['MACD'],label='MACD',width=0.03*len(df))#绘制MACD柱状图#plt.legend()#显示图例#plt.show()#显示图形#plt.legend()#plt.show()fig,ax=plt.subplots(figsize=(20,10))#创建画布candlestick_ochl(ax,df_values,width=0.6,colorup='red',colordown='green',alpha=0.8)#绘制K线图plt.plot(df['date'],df['DIF'],label='DIF')#绘制DIF曲线plt.plot(df['date'],df['DEA'],label='DEA')#绘制DEA曲线plt.bar(df['date'],df['MACD'],label='MACD',width=0.03*len(df))#绘制MACD柱状图plt.legend()#显示图例plt.xticks(rotation=30)#旋转横轴刻度标签ax.xaxis_date()#将横轴刻度设为日期格式plt.show()#显示图形上面只是一个量化分析小任务，咱还可以让它编写量化策略，例如让它基于backtrader编写一个双均线策略，prompt：基于backtrader，写一个贵州茅台的双均线策略，数据获取要基于tushare，并进行回测，本金是一百万，时间范围是2018-01-01至2023-03-20。代码如下，原始代码结构和形式上都是完整的，但是tushare的数据与导入Backtrader的数据格式不对应，将日期列转为index后和设置格式后便可以正常运行。importbacktraderasbtimporttushareastsimportpandasaspdclassMyStrategy(bt.Strategy):params=(('fast',5),#快速移动平均线的周期('slow',20),#慢速移动平均线的周期)def__init__(self):self.fast_moving_average=bt.indicators.SMA(self.data.close,period=self.params.fast,plotname='5daymovingaverage'#计算快速移动平均线)self.slow_moving_average=bt.indicators.SMA(self.data.close,period=self.params.slow,plotname='20daymovingaverage'#计算慢速移动平均线)self.crossover=bt.indicators.CrossOver(self.fast_moving_average,self.slow_moving_average)#计算交叉点defnext(self):ifnotself.position:ifself.crossover&gt;0:#如果快速移动平均线上穿慢速移动平均线amount_to_invest=(0.95*self.broker.cash)#计算可投资金额self.size=int(amount_to_invest/self.data.close)#计算可购买股票数量print(\"Buy{}sharesof{}at{}\".format(self.size,'600519',self.data.close[0]))#输出购买信息self.buy(size=self.size)#买入股票else:ifself.crossover&lt;0:#如果快速移动平均线下穿慢速移动平均线print(\"Sell{}sharesof{}at{}\".format(self.size,'600519',self.data.close[0]))#输出卖出信息self.close()#卖出股票if__name__=='__main__':cerebro=bt.Cerebro()#创建Cerebro引擎cerebro.addstrategy(MyStrategy)#添加策略symbol='600519'#股票代码df=ts.get_k_data(symbol,start='2018-01-01',end='2023-03-20')#获取股票数据df['date']=pd.to_datetime(df['date'])#将日期转换为datetime格式df=df.set_index('date',drop=True)#将日期设置为索引data=bt.feeds.PandasData(dataname=df,datetime=None,open=0,high=1,low=2,close=3,volume=4,openinterest=-1)#创建数据源cerebro.adddata(data)#添加数据源cerebro.broker.setcash(1000000.0)#设置初始资金cerebro.broker.setcommission(commission=0.001)#设置佣金print('StartingPortfolioValue:%.2f'%cerebro.broker.getvalue())#输出初始资金cerebro.run()#运行策略print('FinalPortfolioValue:%.2f'%cerebro.broker.getvalue())#输出最终资金cerebro.plot()#绘制图表相信看到这里，大伙儿应该明白了Cursor的用途和能力，从今往后，就可以把它当做是自己的编程助理，自己可以像领导那样，Ctrl+K给它布置任务，遇到不符合预期的地方，Ctrl+L让它解释和修正。虽然我已经觉得Cursor的编程能力已经不错了，但是多次的撩骚中发现它只使用了GPT-3模型，那官网首页说好的GPT-4呢？更多相关资料请见下方文章卡片，另外还有一个周更的公Z号『量化君也』，专注于量化策略分享/交流/社群，欢迎来玩~quantkoala：利用chatGPT选了3支股票，验证未来收益率能否狂飙？quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）quantkoala：注册制全面推行后，对量化交易的5点影响",
        "url": "http://www.zhihu.com/api/v4/answers/2950401835",
        "comment_count": 63,
        "voteup_count": 972,
        "question_title": "http://www.zhihu.com/api/v4/questions/590152131",
        "question_url": "集成 GPT-4 的代码生成器 Cursor 使用体验如何？怎么用更高效？"
    },
    "2945295160": {
        "created_time": 1679310777,
        "content": "在建立量化模型和执行回测的时候，新手特别要注意不要引入“未来函数”，有的未来函数bug非常明显，有的却非常隐蔽，希望大伙儿都别踩到了。未来函数Bug1：使用前复权价格数据由于股票会存在分红送股的情形，价格会出现非交易回落，导致股票价格序列的不连续性，假设个股“10送10”，股价就腰斩了，双均线什么的马上就会出现“死叉”，所以为了指标计算的连续性和方便性，就会使用复权价格数据。一些量化萌新入门之前，在行情软件上一般是看前复权行情（很多股民都有这个习惯），因为前复权行情是保证现在的价格不变，根据分红送股的信息对之前的股票价格进行调整，看到现在K线的数值比较“正常”，如果是看后复权价格行情的话，很多上市时间比较长、分红送股比较多的股票后复权价格都是“成千上万”的了，不太“人性化”。酱香型科技公司的前复权价格比较符合股民习惯。后复权价格已然上万，很多人一开始不习惯也不喜欢。所以有一部分新手就会使用前复权价格数据，刚才已经说了，过去的股价数据是按照现在价格，根据分红送配的信息往过去推的，换句话来说，历史的价格数据包含了现在的信息，也就有了“未来信息”。如果是使用前复权价格数据，那最简单且收益高的量化策略就是，买上市时间早且前复权价格低的股票，回测收益率曲线保证不差。未来函数Bug2：当前K线出信号，当前K线成交这里特指的是：使用K线收盘价序列计算指标，出现信号后，以收盘价成交。其实这种情况已经比“最低价买入，最高价卖出”的偷价情形好很多了，除非是恶意设置，不然一般萌新凭直觉都会避免。但有时候看一些萌新的策略源码，会出现类似于“IFCrossover(MA5,MA20)THENBuy(Close，...)”（当前MA5均线上穿MA20均线时，按收盘价买入）的情形，其实这挺符合日常看盘的习惯，看到金叉死叉的时候，都会在脑子里面从当前时点开始判断之后的行情。但在量化里面，这其实也是包含了未来信息的，因为量化交易实盘是实时进行的，至少会出现以下两种不利的情况。（1）当前K线没走完，最高价就触发了金叉信号，按照最高价就买入了，可能收盘价和最高价之间就存在不小的滑点。（2）当前K线最高价可以触发金叉信号，但按照收盘价计算却触发不了金叉信号，这就造成了实盘当中能成交、回测当中无法成交的不对应情况。因此有经验的宽客一般都会设置为“当前K线出信号，下一根K线开盘价/限价成交”，例如上面的例子可以改为“IFCrossover(MA5[1],MA20[1])THENBuy(Open，...)”（根据上一根K线计算的MA5均线上穿MA20均线时，按照开盘价买入）。其实这样的设置还可能不够严谨，不过已经比之前的情形好很多了。更为严谨的是，买入价可以设为“Max(Open，LimitPrice)”（开盘价和心里目标价位的最大值），量化想做好就是要扣很多细节，路漫漫其修远兮，吾将上下而求索~未来函数Bug3：无法判断最低价和最高价的出现顺序这种情况相对少见，造成的后果也比较薛定谔，举个例子来说明吧。假设一个股票/品种出现了天地板（大幅震荡同理），涨停会触发止盈，跌停会触发止损。如果是按照K线来回测的，用高低价判断是否触发止盈止损，这就要看在策略源码中，你把止损写在前头，还是把止盈写在前头，因为在这根K线上，止盈止损的条件同时都满足，谁写在前头谁就会被执行。但是在实盘当中，最高价和最低价必然有先后出场的顺序，假设先出现跌停，再出现涨停，而在代码当中是把止盈写在前头。这个时候就变相出现了未来信息，在回测当中出现了“苦尽甘来”的情况，在实盘当中要亏损10%的情况，在回测当中却盈利了10%。这个就有点儿类似于“幸存者偏差”，如同很多经典量化书籍都提到过的例子：在米国，买入困境当中的股票博反转，回测效果非常好，实盘效果却可能大相径庭，因为在早期，个股退市后数据就“消失”了，能回测到的股票都是从困境当中挺过来的幸存者，股价自然会迎来大涨，但如果在现实当中买到的是没有挺过来的不幸者，那就GG了。未来函数Bug4：财报数据当中的未来信息这个财报当中的未来信息非常隐蔽，我初始做量化的时候也掉进过这个坑，不是自己\"粗心大意\"，而是没有经验、特别是没有财务相关知识的萌新容易掉坑。众所周知，A股上市公司的一季报、半年报、三季报和年报的披露截止时间分别在当年的4月底、8月底、10月底和次年4月底公布，一般很少有人在2021年1月就直接调用2020年报的，这个错误对普通股民都太过明显，今天要说的是比较\"隐蔽的\"。举个例子，有的童鞋就考虑到财报的延后披露，但各家上市公司的披露日期又没有规律，于是乎，在构建量化基本面模型时，就在披露截止日期的次月第一个交易日调取财报数据，比方说在2021年5月6日才调用2020年报数据。的确，这种方式能剔除绝大部分的未来信息，但是还是有些隐蔽的瑕疵，这个瑕疵的根源就是：部分公司会对之前的财报数据进行修正，最新值会替换掉旧值。举个真实的例子，某扇贝跑来跑去的上市公司XX岛由于2014、2015连续两年亏损被*ST，如果2016年再亏损就要进入退市流程了。2017年3月21日，XX岛公布了2016年的年报，净利润为7571个w，扭亏为盈，保壳成功。但在2019年7月被证监会最终查出虚增利润1.3个小目标，追溯调整后净利润为-5543个w。如果今天来回测，取到XX岛2016年的净利润就是-5543w，可以避开这个大雷，而实际上，2017年5月第一个交易日取到的净利润却是7571w，老老实实挨锤。XX岛2016年年报原始数据。如今可以查询到的XX岛财务数据。这种回测历史当中能取到、现实当中无法取到的财报数据，就是做基本面量化的萌新很容易掉进的坑，特别还是早期的时候。不过现在萌新们不用担心了，很多量化平台都做了非常贴心的设置，除了设定报告期外，还可以设定取数日期，只能取到在实际当中取数日期之前可见的财报数据，在取数日期之后的修正是取不到的，或者是其他落地的金融数据库，会同时存储原始财报数据和修改后的财报数据，并且有每条记录的公告日期，可以按照公告日期进行数据选择。在策略开发当中，要有效避免掉各种各样的坑，除了多听前人的掉坑经验外，就是彻底了解自己所用的指标、变量、模型、算法的计算流程和细节，在哪个环节上会拿到这个时点之外的未知信息，慢慢地打磨细节，这样会比较快。更多相关资料请见下方文章卡片，另外还有一个周更的公众号『量化君也』，专注量化策略分享/交流/社群，欢迎来玩~quantkoala：年化收益577倍的量化策略，没有未来函数，却有这个致命Bugquantkoala：5年收益狂飙116倍，没有未来函数，这个量化策略真的是圣杯吗？A股全面走向注册制，对量化有何影响？quantkoala：为什么回测效果非常好的策略实盘却不行？quantkoala：量化回测本身就是一种过度拟合？",
        "url": "http://www.zhihu.com/api/v4/answers/2945295160",
        "comment_count": 0,
        "voteup_count": 22,
        "question_title": "http://www.zhihu.com/api/v4/questions/452165710",
        "question_url": "一名量化投资新手，在执行回测和建立量化模型的时候，有哪些注意事项？"
    },
    "2944002810": {
        "created_time": 1679237652,
        "content": "初期入门的量化交易系统用Excel就可以构建了，直观简洁方便理解，还无需编程~量化交易入门，编程太难了！特别是对于没有任何编程基础的文科童鞋，看着那些个花花绿绿的代码，每一个字母都认识，但堆在一起就不明白TM到底是啥意思。先别急着放弃啊，有条件可以上，没有条件创造条件也可以上嘛，你有没有想过，不需要专门学Python编程，也不需要零编程规则式的量化平台，仅依靠微软Office办公三件套之一的Excel，便可以走通量化策略的开发和回测的整个流程。说起来惭愧，我最初做量化的时候，也没学编程，仅用Excel外带几个常用公式就开搞了，因为在我的眼里，量化投资更多是一种投资交易的分析手段，基于金融逻辑和历史数据，发现和验证交易理念，提高决策的胜率，只要能实现这些功能，管他黑猫白猫，抓住老鼠就是好猫，弯下腰，弄脏手，躬身入局。而且啊，Excel有个好处就是，展示数据非常直观，非常便于咱深入了解整个过程，让量化基础更扎实，闲篇扯完了，撸起袖子开整吧~无论是主观投资还是量化投资，在新手村的时候，肯定听说过『双均线策略』，以股票为例，就是短均线上穿长均线，形成金叉时买入，短均线下穿长均线，形成死叉时卖出。挑选近期大涨的股票往回看，发现大涨之前的确是有双均线金叉，大跌的股票也是有双均线死叉，其实这可能是一个“幸存者偏差”，可能是金叉/死叉之后有大涨/大跌的，也有震荡的，只不过是大涨/大跌的被有意或无意地挑选出来。那到底这个『双均线策略』是真的有效，还是幸存者偏差，咱不能拍大腿拍脑袋就决定了，教员说“没有调查，没有发言权”，小平同志说“实践是检验真理的唯一标准”，那咱就用量化的试金石测一下，那就把『双均线策略』作为萌新入门量化的第一个策略吧。首先要准备一个Excel表格，里面装有你心仪投资标的的行情数据就行，股票可以，数字货币也行，最低配的，有日期和收盘价就可以了，甚至连日期都可以没有，自己知道时间的对应关系就行了。什么？找不到行情数据？现在可以拿到免费数据的渠道那么多，咱还是不要守着金山当乞丐哟~我就拿股票为例吧，说说怎么获取免费的股票数据，“通达信”大家知道伐，用的人很多的那个，在电脑端下载安装一个，免费注册使用的。打开你想测试的个股日K图，为了避免有荐股的嫌疑，我就以沪深300指数为例。点击右上角工具栏【选项】，在弹出的下拉列表中选择【数据导出】，接着就会弹出一个对话框，记得选【Excel文件】，设置好文件的存放路径，自己能找到就行。这里有一个操作小技巧，通达信默认是导出界面所展示的日期范围内的数据，如果想要更多数据，按键盘的向下键『↓』，就可以展示更多日期，我在这里就获取了沪深300能获取的全部数据，日期范围为2005年1月4日至今。导出的数据当中，除了行情数据之外，还有很多乱七八糟的数据，为了简洁起见，只保留日期和收盘价，其他的内容统统删除掉。为了美观，可以让数据居中对齐和加框线。有了数据之后，剩下的就好办了，只要懂Excel基本操作，一步一步跟着走就可以完成。现在咱要算出两根均线的数值，短均线咱就用5日均线（MovingAverage5，MA5），长均线咱就用20日均线（MA20）。每一天的MA5数值，就是用含有当天的5个收盘价计算平均值，MA20就是利用20个。2005年至今有4000多个交易日，咱总不能手动一个一个算出来啊，这样会累si人的，为了方便轻松，就需要用到Excel的公式了。由于计算MA5需要5个收盘价数据，所以在新增一例“MA5”后，在2005年1月10日所在行的单元格里输入“=AVERAGE(B2:B6)”，就可以算出2005年1月10日的MA5数值了，其中B表示“B列”，也就是收盘价所在的列，数字表示行号，由于列名占了一行，所以第一个有效数值从第2行开始，相信懂Excel基本操作的小伙伴都能明白哒，下文不再赘述了。Excel当中很智能的一点是，你再选中刚才那个单元格，把鼠标移到单元右下方，鼠标会变成一个黑色十字『＋』,双击鼠标左键，Excel就会智能地利用这个公式对剩余数据进行计算，文字比较抽象，请看下图的演示。MA20的计算也是同理，只不过MA20的计算需要20天的数据，因此需要在2005年1月31日才能计算第一个数据点，至此，咱就有了MA5和MA20两条均线的数据了。有了双均线数据之后，咱就要确定交易信号，就像前面说的那样，金叉买入，死叉卖出，这里要用到Excel的IF判断公式，形式如IF(条件,A,B)，如果条件成立的话，单元格就输出A，不成立的话，单元格就输出B，咱在这里，如果MA5高于MA20就输出1，反之就输出0。于是，新增一列“信号”列，在MA20有第一个数值的那一行对应的单元格里输入“=IF(C21&gt;D21,1,0)”，然后再利用之前的“黑色十字双击”技巧，智能填充另外的信号列数据。现在交易信号也有了，那怎么统计这个策略的收益率呢？咱现在回过头来看，由0变1的那个日期对应的就是金叉，由1变0的那个日期对应的就是死叉，根据“金叉买入，死叉卖出”的原则，可以简单认为（下文有补充），信号为1的日期都是有持仓的，信号为0的都是空仓。于是乎，假设咱是全仓买入沪深300指数（有对应ETF可交易），先计算指数的日收益率，然后将每天的收益率与信号相乘，就可以得出策略的日收益率，空仓的日期收益率为0，持仓的日期收益率就是对应指数的收益率，操作演示如下。有了日收益率之后，咱就可以进一步得出这个双均线策略的累计收益情况了，每一天的资产金额等于前一日资产金额乘以(1+当日涨幅)，假设咱期初有1000块钱，结合前面计算出来的策略日收益率，就可以依次算出每一天的资产金额。如果按照这个双均线策略操作，在不考虑交易成本的情况下，咱最终能拥有多少钱呢？效果是否比买入并持有沪深300指数好呢？从最后一个交易日的结果看出，双均线策略从18年前的1000块钱变成了今天的4个达不溜，18年40倍，而买入并一直持有沪深300则是4倍，前者年化收益约22%，后者年化收益约为8%，超额收益14%。在Excel中画图也是非常简单的，选中“日期”、“双均线策略”和“买入并持有”这三列，然后插入折线图，双均线策略的资金曲线就出来啦，从折线图当中更能直观地看出收益情况的对比。小结一下，本文单纯基于Excel进行了双均线计算、交易信号确定、日收益率计算、资产金额计算和资金曲线画图这5个步骤，完成了『双均线策略』的开发和回测，不会编程的萌新也可以利用这套流程，对常见的技术指标在个股和指数/ETF等投资标的上进行有效性验证，只要灵活修改前面“指标计算”和“交易信号确定”这两个步骤就可以了。补充说明，这个策略的开发和回测流程，主要是启发萌新的量化交易系统构建思路，其实细心的读者已经发现了，在生成交易信号的时候是带有一点“未来函数”的，因为双均线是利用收盘价计算出来的，出现金叉/死叉的时候已经收盘了，无法按照收盘价买入，更不会将当日涨幅纳入进来。因此更为严谨的操作是，在前一日金叉时，今日按照开盘价买入，策略的日收益率则是开盘价到收盘价的涨幅；在前一日死叉时，今日按照开盘价卖出，策略的日收益率则是前一日收盘价到今日开盘价的涨幅，这需要多增加几列数据进行计算。因为这种带有一点未来函数的回测方法非常直观和便捷，自己在遇到新指标因子时，可以快速进行测试，如果回测效果好，则进行更深入的研究，如果效果不好，直接放弃说byebye~更多相关资料请见：quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章quantkoala：2个量化小技巧，双均线策略盈亏比从1.2提升到1.9（大神请绕行）152赞同·16评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2944002810",
        "comment_count": 13,
        "voteup_count": 178,
        "question_title": "http://www.zhihu.com/api/v4/questions/24518288",
        "question_url": "如何从零开始构建量化交易系统？"
    },
    "2939398957": {
        "created_time": 1678963959,
        "content": "拿以前开发过的一个量化选股策略，说明一下整个研发过程是怎么样的吧。首先自己要有一个idea，可以是自己观察市场发现的，也可以是别人告诉你的，也可以自己从书里面看来的，假设自己是新手，总是听到“多因子选股”，那可以先从这个idea去实践一下。Barra那种多因子模型太过复杂，不适合萌新入门，关键是Barra模型对数据质量的要求非常高，如果一开始就花大力气在洗数据这种dirtywork(脏活累活)上的话，会非常打击学习的积极性。那先选一个简单的，推荐非常适合入门且非常百搭的量化基本面多因子模型F-Score，它是出自Piotroski的论文《ValueInvesting:TheUseofHistoricalFinancialStatementInformationtoSeparateWinnersfromLosers》，在华创金工的研报《双重筹码集中的基本面选股策略》中也被重点推荐过。推荐的理由主要是模型构建非常简单，但非常有金融逻辑，由于使用的是0-1变量，F-Sccore模型对异常值的容忍度非常高，不需要特地清洗数据。愿意看原文探究细节的小伙伴，可以点击下方卡片阅读或下载，只想抓住内核框架的，听我唠一唠就能了解个大概了，herewego~http://citeseerx.ist.psu.edu/viewdoc/download;jsessionid=0306A4C4E259CB6FE132162F09CECD1C?doi=10.1.1.141.5533&amp;rep=rep1&amp;type=pdf格雷厄姆和巴菲特等价值投资大师，每天挂在口头上的就是“用合理价格买优质股票”，“合理价格”看估值或风险承受能力，那股票的优质与否用什么衡量呢？这时候就轮到F-Score模型闪亮登场了。简单来说呢，F-Score就是一个利用9个因子对股票基本面进行评分的模型，得分越高，股票就约优质，这9个因子呢，都是可以基于财报数据计算出来的，因子清单和计算方式如下表所示。大概浏览一下上表，每个因子的取值只有0或1，当满足条件时，取值为1，反之为0。每满足一个条件得1分，满足N个条件得N分，因此，F-Score模型的最高评分就是9分。再详细看到每个因子~【资产收益率】用来衡量这个企业的盈利能力，“扣非”是为了剔除类似于卖房子设备、炒股投资带来的盈利，大于零表示企业处于盈利状态。【经营活动产生的现金流量净额比总资产】表示经营业务给企业带来的实际现金流入，因为利润里面是可能包含应收票据或应收账款的，类似于你去小卖部买东西赊账，小卖部账面盈利，但实际没有收到钱，大于零表示有实际的现金流入，企业真金白银的盈利。【资产收益率变化】表示企业盈利能力变化，大于零表示企业盈利加速，处于扩张状态。【应计收益率】比第二个因子更进一步地衡量企业真金白银的盈利能力，大于零表示企业盈利更为真实。【长期负债率变化】用来衡量企业偿债能力的变化，长期负债率=非流动负债/资产总额，小于零表示企业偿债能力增强。【流动比率变化】用来衡量企业变现能力的变化，流动比率=流通资产/流动负债，流动比率数值越大，企业的变现能力就越强，流动比率大于零表示企业的变现能力在增强。【股票是否增发】表示企业是否向股市再融资圈钱，不融资则表示企业依靠自身可以造血，有健康的现金流。【毛利率变化】衡量企业的竞争力变化，众所周知，如果企业没有行业壁垒护城河，则随着竞争者的融入，企业的毛利率会降低，大于零表示企业的竞争力在变强。【资产周转率变化】用来衡量企业的营运效率和管理质量，资产周转率=总营业额/总资产，资产周转率越高则表示企业能很好地利用自身资产生产商品/服务并销售出去，大于零则表示企业的营运效率和管理质量在提升。那这来自海外的F-Score基本面评分模型在中国A股是否有效呢，华创金工做了一个试验，将F-Score得分在0~3之间的股票归为Low组，4~6分的为Middle组，7~9份的为High组，进行分组回测，结果如下。从分组回测结果中看出，净值曲线是明显分层的，说明F-Score模型能起到一定的区分能力。对于个人而言，不需要投资那么多的股票，那我们就直接筛选F-Score得分为9的股票进行投资。依照这个简单朴素的思想，在适合自己的量化平台编程实现。F-Score策略源码如下：经过调试确认无误之后，回测一下从2014年以来这个策略的绩效，如下所示。从回测当中看出，相对于大盘的超额收益率不错，有23.4%，但同时也可以看出，由于是纯多头策略，部分时间收益率曲线也是横盘的，需要耐得住寂寞才能执行下去。至此，整个量化选股策略的开发流程就走完了，虽然策略效果目前还不经验，在目前这种情况下，F-Score模型可能无法长期稳定带来可观的收益，但将其作为风控策略还是不错的，先对股票进行筛选，再叠加其他量价/资金流/筹码策略进行择时交易，Alpha应该能增强不少。参考资料：Piotroski，2002-01，《ValueInvesting:TheUseofHistoricalFinancialStatementInformationtoSeparateWinnersfromLosers》华创证券，2019-08，《双重筹码集中的基本面选股策略》更多相关资料请见：quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章quantkoala：2个量化小技巧，双均线策略盈亏比从1.2提升到1.9（大神请绕行）152赞同·16评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2939398957",
        "comment_count": 0,
        "voteup_count": 89,
        "question_title": "http://www.zhihu.com/api/v4/questions/531659524",
        "question_url": "一个量化策略的研发过程是怎么样的?"
    },
    "2937912404": {
        "created_time": 1678883095,
        "content": "题主已经懂机器学习了，那入门量化交易就简单多了。同样是那些数值，在机器学习里叫特征（feature），在量化交易里面叫因子（factor），算法模型还是那些算法模型，只是任务不同，在别的领域，机器学习一般用于图像分类、人脸识别、语音处理等等，在量化交易领域，一般都是用来预测证券的强弱/涨跌，比如说：预测证券第二天的涨跌，寻找买卖时点，这叫量化择时，期货领域也适用，只不过一般叫CTA。综合多个因子考量，预测股票相对别的股票或大盘的强弱/涨跌，这叫量化选股。为了不让题主看完觉得一头雾水，这里举一个具体实例，一步步写出建模流程和代码，看看如何用机器学习预测大盘指数的涨跌，从机器学习一步步走入量化交易的世界。零.机器学习，浅尝一下人类发现规律一般采用的是归纳演绎法，对观察到的大量现象进行归纳，在心中形成规律，然后再遇到类似的情况，就可以迅速做出预测和判断，比如说“朝霞不出门，晚霞行千里”、“瑞雪兆丰年”、“狗打喷嚏天要晴”，这都是老祖先归纳演绎法的结晶，可能不是每回都灵验。机器学习和人类的思考过程非常相似，把历史数据输入到模型当中，训练出一个能完成特定任务的数学模型，等到有新的数据出现时，就把新数据输入到训练好的模型当中，这就会输出一个预测的结果，特别地，机器学习在识别非线性规律方面，相较于人脑更有优势。具体结合咱这次的目标进行说明，咱这次的任务就是利用机器学习模型，预测沪深300指数第二天的涨跌情况，输入的数据就是沪深300指数的开高低收行情数据，将这些数据输入到支持向量机（SupportVectorMachine，SVM）当中进行模型训练，待SVM训练好之后，输入今天的行情数据，就能输出对第二天行情的预判。为什么选择SVM呢？因为咱这次使用的数据集是沪深300指数的日线行情数据，它自2005年上市以来，拢共才四千多个交易日，换句话说，也才四千多个样本点，相对于几百万上千万的“大数据”来说，这充其量才算一个“小样本”，这无疑是一个非常适合SVM的应用场景。因为在深度学习（一般需要大数据“投喂”）尚未全面兴起时，SVM由于其较高的小样本预测准确率，并且能够解决非线性分类问题，属于当时机器学习方法潮流圈中的扛把子。SVM很能打，但本身并不是非常复杂，今儿个不抠数学细节，大白话讲讲SVM是什么有什么用，以免没开始就把大伙儿劝退了。SVM最初的设计是用来解决二分类问题，后来扩展到多分类问题，“预测沪深300指数涨跌”就属于典型的二分类问题，“涨”是一个类别，“跌”就是另一个类别。它通过寻找一个最大间隔超平面（上图黑斜线）将两类样本线性区分开来，并且保证两侧样本的最近边缘点到这个平面的距离是最大的，由于最大间隔超平面仅取决于两个类别的边缘点，例如上图中被红线和蓝线穿过的红点和蓝点，这些点就被称为支持向量，这就是“支持向量机”名称的由来。但现实世界很奇妙，有线性可分的数据集，就有非线性可分的数据集，那遇到非线性可分的情况怎么办？那也有办法，SVM引入了核函数，可以将低维不可分的数据映射到高维线性可分，如上图，二维不可分就映射到三维，常用的核函数有线性核、多项式核、高斯核（RBF核）和Sigmoid核。但在现实当中，由于噪声和极端样本点的存在，数据集无论在低纬和高维都可能出现线性不可分的情况，于是乎，SVM当中引入了松弛变量的概念，允许了最大间隔超平面不用完美区分两个类别，允许错误分类的存在，SVM通过惩罚系数C控制这些错误分类的容忍程度，C值越高分类准确率越高，但数值过高容易导致过拟合，C值过低则会导致准确率受损。SVM唠完了，咱来说说一般机器学习建模的流程，一般分为6步走，按照先后顺序分别是收集数据、准备数据、选择/建立模型、训练模型、测试模型和调节参数。量化，没有白走的路，每一步都算数，下文咱一步一步地走一遍~一.准备数据巧妇难为无米之炊，第一步咱要获取到最原始的建模数据，对于指数的日线数据而言，有非常多的免费获取渠道，只要能获取到指数的日期（date）、开盘价（open）、最高价（high）、最低价（low）和收盘价（close）就可以了。在此处以tushare为例，获取沪深300指数自2005年4月8日上市以来的全部行情数据，它是一个免费、开源的python财经数据接口包，网址是：http://tushare.org/。导入tushare包之后，使用它的get_k_data函数，就可以获得沪深300指数的历史K线数据，返回的数据格式是dataframe，咱只选取开高低收数据，并将日期（字符串格式）设置为索引。importnumpyasnpimportpandasaspdimporttalibimportwarningswarnings.filterwarnings('ignore')importtushareastsdata=ts.get_k_data(code='hs300',start='2005-04-08',end='2022-11-08',ktype='D')data=data.set_index('date')data=data[['open','high','low','close']]print('样本数目：%d'%data.shape[0])print(data.head(10))print(45*'-')print(data.tail(10))二.数据准备有了原始数据之后，咱还要进一步进行加工和处理，主要工作是变量选择、确认标签和数据清洗。变量选择在量化投资当中叫“因子选择”，就是用哪些因子（factor）进行选股择时那些，在机器学习领域一般叫“特征选择”，指定用哪些特征（feature）来作为算法模型的输入。在这里咱用到因子分别是EMA值（ema）、价格波动率（stddev）、价格斜率（slope）、RSI值（rsi）和威廉指标值（wr），此处咱利用talib包丝滑地完成计算，它是一款量化圈驰名、彪悍强大的第三方技术分析指标计算包。data['ema']=talib.EMA(data['close'].values,timeperiod=20)data['stddev']=talib.STDDEV(data['close'].values,timeperiod=20,nbdev=1)data['slope']=talib.LINEARREG_SLOPE(data['close'].values,timeperiod=5)data['rsi']=talib.RSI(data['close'].values,timeperiod=14)data['wr']=talib.WILLR(data['high'].values,data['low'].values,data['close'].values,timeperiod=7)data.tail(10)确认标签呢，就是给这个样本点打上类别标签，由于咱是预测指数第二天的涨跌情况，于是，咱先计算出每个样本第二天的涨幅（pct），如果第二天上涨，则设置标签（rise）为1，反之为0。由于指数数据一般异常情况不是很多，如果有空值，咱把空值删除就好了。data['pct']=data['close'].shift(-1)/data['close']-1.0data['rise']=data['pct'].apply(lambdax:1ifx&gt;0else0)#删除缺失值data=data.dropna()data.tail(10)三.选择/建立模型选择/建立模型就是需要确定自己这次使用哪种机器学习模型，是支持向量机SVM呢，还是神经网络NN呢，亦或是随机森林RF呢，或者其他的模型。在之前已经说过了，咱是用SVM模型，原因和原理不再赘述，为了方(tou)便(lan)实现和建立模型，咱可以直接从Scikit-learn（简称sklearn）中导入，它是非常流行的Python免费机器学习库，具有各种分类、回归和聚类算法，一般配合numpy数据格式使用。四.训练模型在这里，咱需要把整个数据集分拆为训练集和测试集，因为除了训练模型之外，咱还要留出一部分数据来验证训练出来模型的优劣。一般来说，将完整数据集80%的样本作为训练集，剩余20%的样本作为测试集，要注意的是，这里要将dataframe中的因子数据转换成numpy的ndarray数组格式，因为这种数据类型更适配sklearn。#划分训练集和测试集num_train=round(len(data)*0.8)data_train=data.iloc[:num_train,:]data_test=data.iloc[num_train:,:]#训练集数据和标签X_train=data_train[['ema','stddev','slope','rsi','wr']].valuesy_train=data_train['rise']#测试集数据和标签X_test=data_test[['ema','stddev','slope','rsi','wr']].valuesy_test=data_test['rise']print(X_train[:10])print(45*'-')print(X_test[:10])在划分数据集之后，还有非常重要的一步，那就是对数据进行标准化处理，这是因为每个因子的数值量纲差别太大，例如指数EMA的均值是2919.6，而RSI的均值是52.7，这样会造成SVM对某些因子的“偏心”。在此处，采用“(原始值-均值)/标准差”的方法对数据进行标准化处理，处理过后，每个因子的均值都会变为0，标准差变为1.0。fromsklearn.preprocessingimportStandardScalerprint('---标准化之前---')print('训练集的均值：')print(X_train.mean(axis=0))print('训练集的标准差：')print(X_train.std(axis=0))#对数据进行标准化scaler=StandardScaler()X_train=scaler.fit_transform(X_train)X_test=scaler.transform(X_test)print('---标准化之后---')print('训练集的均值：')print(X_train.mean(axis=0))print('训练集的标准差：')print(X_train.std(axis=0))数据标准化处理之后，就可以将训练集数据输入SVM当中，代码实现很简单，从sklearn的svm模块当中导入SVM分类器SVC，创建实例对象后，将训练集因子数据和对应标签塞进fit函数就行了，SVM模型的惩罚系数使用默认值1.0，核函数也用默认的RBF核函数，训练过程非常快，不用一个东的时间，就把SVM分类器训练好了。fromsklearn.svmimportSVCclassifier=SVC(C=1.0,kernel='rbf')classifier.fit(X_train,y_train)print(classifier)五.测试模型至此，SVM分类器已经训练好了，把因子数据塞进predict函数，就能输出每个样本的预测值，咱分别把训练集和测试集的预测标签插回到原来的数据集当中，用来计算预测的准确率。y_train_pred=classifier.predict(X_train)y_test_pred=classifier.predict(X_test)data_train['pred']=y_train_preddata_test['pred']=y_test_predaccuracy_train=100*data_train[data_train.rise==data_train.pred].shape[0]/data_train.shape[0]accuracy_test=100*data_test[data_test.rise==data_test.pred].shape[0]/data_test.shape[0]print('训练集预测准确率：%.2f%%'%accuracy_train)print('测试集预测准确率：%.2f%%'%accuracy_test)输出结果：训练集预测准确率：57.52%测试集预测准确率：52.35%从结果当中看出，训练集的预测准确率明显比测试集的高，这是因为整个模型都是在训练集数据上训练出来的，对测试集数据则还很“陌生”，这就相当于高考数学考卷都是你们学校的数学老师出的，整体来看，你们的平均分就非常可能比其他同级别的学校高。光看准确率还不够直观，咱还要看一下如果纯粹按照这个择时模型的预测结果进行投资，能获得多少收益，此处只使用测试集进行模拟。假设指数可以多空交易，如果模型预测为1（上涨），第二天策略的收益率就是指数的涨幅，如果模型预测为0（下跌），第二天策略的收益率就是指数的涨幅的相反数，有了每天的日收益率之后，通过dataframe自带的累乘函数cumprod，就可以得到择时策略和沪深300指数的净值曲线，为了方(tou)便(lan)起见，不考虑交易费率，以及按照收盘价成交。importmatplotlib.pyplotasplt#策略日收益率data_test['strategy_pct']=data_test.apply(lambdax:x.pctifx.pred&gt;0else-x.pct,axis=1)#策略和沪深300的净值data_test['strategy']=(1.0+data_test['strategy_pct']).cumprod()data_test['hs300']=(1.0+data_test['pct']).cumprod()#粗略计算年化收益率annual_return=100*(pow(data_test['strategy'].iloc[-1],250/data_test.shape[0])-1.0)print('SVM沪深300指数择时策略的年化收益率：%.2f%%'%annual_return)#将索引从字符串转换为日期格式，方便展示data_test.index=pd.to_datetime(data_test.index)ax=data_test[['strategy','hs300']].plot(figsize=(16,9),color=['SteelBlue','Red'],title='SVM沪深300指数择时策略净值by量化君')plt.show()六.调节参数从上一步的测试当中看出，训练集和测试集的预测准确率只有57%和52%，不算理想，说明还有很大的提升空间，还可以对模型进行优化改进。比如说，现在使用的5个因子，还没有反应到价格波动的本质，还可以增改更多的因子。还比如说，SVM模型当中的惩罚系数C过小，对错误样本的容忍度过高，RBF核函数不适合作为这个数据集的映射转换函数。再比如说，甚至连SVM模型本身也是一个参数，也可以更改，比如说可以换成其他的机器学习分类模型。也就是说到这调节参数这一步，如果训练好的模型结果不能让自己满意，就可以重新将前5步走一遍。终于吭哧吭哧走完了，利用机器学习构建量化择时策略的全流程，相信对整个建模流程也有了初步的了解，基于这个建模框架流程，将来的可以玩得更花，可以采用更高频的数据、更鲁棒的模型、更多的交易标的、更有效的因子、更有趣的预测任务。参考资料周志华，2016年1月，书籍《机器学习》华泰金工，2017年8月，研报《人工智能选股之支持向量机模型》阿泽，2020年6月，知乎《【机器学习】支持向量机SVM（非常详细）》更多相关资料请见：quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章quantkoala：2个量化小技巧，双均线策略盈亏比从1.2提升到1.9（大神请绕行）152赞同·16评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2937912404",
        "comment_count": 1,
        "voteup_count": 80,
        "question_title": "http://www.zhihu.com/api/v4/questions/442308593",
        "question_url": "懂机器学习如何入门量化交易？"
    },
    "2937833761": {
        "created_time": 1678879287,
        "content": "以分享过一个股票量化策略，开发的流程应该能回答题主的部分疑惑。盈利模式是怎么确定的？——发现某基金经理实盘业绩优秀数学模型的建立？——分析他的投资理念，拆解成GARP双因子模型用何种编程语言实现？——使用Python完成仿真回测以下是之前的拆解文章，请代入到过去时点阅读，萌新向文章，大神请退散~------正文开始------之前在找量化资料的时候，无意间发现了一位宝藏量化基金经理，之所以说他是“宝藏”，主要是觉得实盘业绩可圈可点，并且投资框架简单易量化，特别适合量化萌新上手操作。不卖关子了，他就是公募招商基金的王平（本文就尊称为“王总”，respect~），早在2006年就校招进招商基金了，从助理数量分析师开始做起，在2010年6月开始担任基金经理，现在是招商基金来那个花投资部副总监，至今证券从业16年，可以说是见证了公募量化基金的整个发展过程，是一位不折不扣的老牌公募量化基金经理。目前在管理的基金有10余只，管理规模超50亿元，其中代表作就是『招商量化精选股票型发起式证券投资基金』，是不是特别拗口难记呢，一般是简称『招商量化精选』，A类和C类份额（主要是费率差别）加起来，基金规模大概有6亿，咱就以A类为例吧。对了，为了审慎尽责勤勉，本文中出现的所有基金名称和代码，都是为了举例说明，不构成任何投资建议哈，股市有风险，投资需谨慎~『招商量化精选A』从2016年3月成立至今，6年多时间累计收益126.22%，同期沪深300指数的收益为30.03%，大幅跑赢96.19%，同时也大幅超越同类基金的平均收益62.39%。在年初至今大盘下跌19%的情况下，该基金依然取得了5.58%的正收益，并且在最近一段时间，更是跻身同类基金Top10排行榜，保持优秀能打的作风。这么亮眼的业绩背后，很多人都会觉得，这后头肯定是大公募的复杂量化模型吧，这一点我很难确认或否认，估计只有该量化基金的团队成员才知道了。不过，从公开资料来看，如果资料都是真实的话，该量化基金投资策略的核心思想却不复杂，简单概括出来就是“PB-ROE”，不信的话，可以用“王平PBROE”作为关键字，在度娘/WX中搜索。PB（Price-to-BookRatio）就是人们常说的市净率，市净率=每股股价/每股净资产，这是一个常用的估值指标，数值越小就说明股票的估值越低，它有个亲戚也是咱的熟客，那就是市盈率PE。ROE（ReturnonEquity）是净资产收益率，净资产收益率=净利润/净资产，这是一个常用的盈利指标，数值越大说明企业的盈利能力越强，它在财务学上也有一个近亲，那就是资产收益率ROA，不过ROA在这里都用不上，只是顺道提一嘴。根据王总的自述，选股模型主要就是依靠“PB-ROE框架”，简单来说，就是在估值中枢（以PB衡量）相对稳定的行业当中，筛选具有一定成长性（以ROE衡量）的股票进行投资，并且由于市场对大市值公司研究已经较为深入，定价已经非常内卷充分，更偏向于选择市值偏小的股票，并要求个股集中度要低（持仓分散），尽量不考虑周期股。需要注意的是，“PB-ROE框架”中的ROE指的不是盈利因子ROE本身，而是“ROE增长率”，表示盈利能力的成长，属于成长因子，为了方便表述，简称为ROE，下同。通过Sharpe和Barra的基金风格分析，体现出偏小盘、价值兼顾成长的特点；看最近的一期持仓，持仓占比最高的股票占比仅有1.72%，前10大重仓股合计仅有15.27%，体现出足够的持仓分散，这在一定程度上印证了王总的投资逻辑。“PB-ROE”这种投资策略框架不是很突兀地被提出来的，是来源于很经典的一类投资策略思想，那便是GARP策略，全称是“GrowthataReasonablePrice”，以合理价格买入成长性的股票，价值策略和成长策略都是国内外投资者很熟知的两种选股策略，GARP是两者思想的融合。早在上个世纪的二十年代，本杰明·格雷厄姆(BenjaminGraham)就已经提出了价值投资的选股逻辑，其核心思想就是寻找基本面更好的公司，并且股票价格要低于内在价值。价值策略就是打算通过买入估值偏低的好基本面股票，长期持有以期获得超越大盘的稳定超额收益。它的另外一个典型代表就是沃伦·巴菲特(WarrenBuffett)，在他数十年的投资生涯中，平均年化收益率达到了20%以上，国内投资者尊称其为“股神”。相较于价值策略关注股票的过去和现在，成长策略更关注公司的潜在未来，它希望筛选出营业收入额、利润额等持续增长、且速度快于整个国家和行业的增长的股票。特别是伴随科技型公司的兴起和繁荣，成长策略逐渐成为很多投资者的心头好，其中典型的代表有美国著名的成长型基金经理詹姆斯·欧斯拉格(JamesOelschlager)。GARP策略则是同时将价值策略和成长策略融合在一起，它的典型代表是投资大师彼得·林奇（PeterLynch），他利用GARP策略在1977~1990的13年里，实现了高达29%的平均年化收益，这段传奇业绩让他坐上了基金投资业绩同业排名第一的宝座。GARP由于选股的时候同时考虑了价值和成长，投资风险则相对适中，可以获得较高的风险调整后收益，且逻辑清晰易于实现，因此非常受量化投资者的青睐。前文讲的PB-ROE框架中，PB就是对应了GARP中的价值指标，ROE对应了GARP当中的成长指标，再次提示，此处的ROE表示的是“ROE增长率”（下同），两者兼顾，目标就是寻找被市场低估、又同时有较强的持续稳定增长潜力的股票。需要说明的是，GARP策略当中的价值指标，除了PB之外，常用的还有市盈率PE、市现率PCF、市销率PS等；成长指标当中，除了ROE之外，还有净利润、销售净利率、主营业务收入等增长率指标，PB-ROE框架只是GARP策略中一个非常典型有效的实例。看着王总亮眼的实盘业绩，不禁心痒痒地想复现一个，沉下心来一琢磨，框架看似简单，但细节可是千头万绪。先说这两个因子的组合框架，在不引入机器学习复杂模型的情况下，常见的至少有3种组合方式。第一种，先针对PB和ROE因子进行单独处理，比如说进行横截面打分，PB从大到小的得分范围为1~100分，ROE从小到大的得分范围为1~100分，最后再按照每个因子的得分和设定的权重加总在一起，筛选出综合得分最高的股票。第二种，先剔除股票池当中PB值为负的股票，然后对剩余的股票池，根据PB因子从小到大进行排列，筛选出靠前N%的股票，最后在这N%的股票当中，根据ROE从大到小排序，筛选出心仪的前M支股票。第三种，跟第二种“在低估当中选高成长”顺序相反，先使用ROE因子进行过滤，然后再用PB因子进行筛选，相当于是“在高成长当中选低估”，要注意的是，需要对“负值PB”这种异常值进行特殊处理，不然PB从小(低估)到大(高估)进行排序，“资不抵债”的股票就跑到前面去了。说完因子组合框架的多样性，因子计算的可选性也不少，就拿ROE因子来说吧，它需要计算出股票ROE的增长率，成长的增幅是选择环比还是同比呢，数据是选择最新一期财报数据，还是TTM（TrailingTwelveMonths，滚动12个月）数据呢，亦或是最近N期财报数据的综合呢，这样组合在一起，光一个ROE因子的计算方式就不少于6种。好吧，要复现测试的工作量太大了，身子虚，不是很扛得住，只好根据以往的开发经验浅尝一下了，就以个人宽客的开发路径为例吧，咱一步一步梳理这个复现流程。这里打算采用第二种因子组合的方式，也就是在全市场当中先筛选出PB值最低的前N%的股票，然后再根据ROE成长因子的数值从大到小排序，最终选出靠前的M只股票，当然了，在做这些筛选之前，需要先剔除次新股、ST股、净资产为负等“奇奇怪怪”的股票”。ROE成长因子的计算方式则采用多期复合的形式计算环比数据，对根据每期财报计算出的ROE原始数值按照时间衰减加权，也就是越靠近现在时间的财报数据权重越高，这样说起来不够直观，用公式来表示吧。T-1期复合ROE=（a×T-4期ROE+b×T-3期ROE+c×T-2期ROE+d×T-1期ROE）/(a+b+c+d)T期复合ROE=（a×T-3期ROE+b×T-2期ROE+c×T-1期ROE+d×T期ROE）/(a+b+c+d)T期ROE成长因子=T期复合ROE-T-1期复合ROE其中，a、b、c、d的数值大小顺序是a&lt;b&lt;c&lt;d，时间越近，权重数值越大。是骡子是马，就要牵出来遛遛了，一边写代码，一边调bug，牺牲了两场球赛时间，终于搞好策略，跑出回测，目前成品如下所示。PS：本文『PB-ROE框架策略』复现源码已分享至『量化藏经阁』和『量化藏经阁Max』社群内，群友请在社群量化兵器库原路径中自取。从2010年回测到现在，将近13年时间，年化收益有40.8%，还算可以的，说明选股能力还行，怪不得王总的实盘业绩那么亮眼，再单独测试一下今年的收益看看。虽然净值曲线没那么昂扬，收益也没有往年平均的高，好歹在今年这种大盘下跌接近20%的情况下，还取得了31.8%的正收益，说明这两个GARP因子虽然简单，但是往年今年的收益还可以，还要啥自行车~~~最后还想补充3点：第一点，王总在采访当中非常强调PB-ROE框架的作用，但并不是只依赖于PB和ROE这俩因子，还会用到其他因子指标的辅助。第二点，PB-ROE框架的核心是，“在估值中枢（以PB衡量）相对稳定的行业当中，筛选具有一定成长性（以ROE衡量）的股票进行投资”，里面强调了“估值中枢相对稳定”，再加上PB和ROE因子计算的特性，需要剔除掉一些高杠杆、周期不稳定的那些行业，本次复现的策略当中也考虑到了这一点。第三点，回测模拟的效果要比王总的实盘效果好不少，一是策略的不同，二是回测与实盘的不同，三就是王总为了降低风险，持仓非常分散，这个复现的策略因为是按照个人宽客的思路，持股数目不多，而且还主动暴露市值风险，因此容易博取高收益。参考资料：华西证券，2021.03，《招商量化精选投资价值分析》首创证券，2022.04，《招商量化精选A（001917）基金投资价值分析》国泰君安，2011.09，《基于全市场的GARP选股研究》国信证券，2012.06，《基于GARP的价值投资选股策略》国信证券，2012.08，《基于GARP的Alpha选股指数增强策略》更多相关资料请见：quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章quantkoala：2个量化小技巧，双均线策略盈亏比从1.2提升到1.9（大神请绕行）152赞同·16评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2937833761",
        "comment_count": 2,
        "voteup_count": 39,
        "question_title": "http://www.zhihu.com/api/v4/questions/30781291",
        "question_url": "如何建立一个股票量化交易模型并仿真? ？"
    },
    "2934764498": {
        "created_time": 1678713630,
        "content": "题主，你朋友的意思是：回测效果不错，但不一定就代表实盘就好。因为很有多因素影响着实盘对回测的“复现”。一、回测是否正确首先，回测效果非常好，实盘要复现出八九不离十的收益，那就要首先评估自己的回测是不是正确的。数据源、数据处理和计算方式是否正确呢？数据源是不是经过“清洗”干净了呢？停牌日期的数据是如何处理，计算MACD的时候是保留停牌日期的收盘价还是不保留，实盘的计算方式是否与之对应呢？股票原始价格有除权除息，一般会使用复权数据，如果使用了前复权数据的话，那就相当变相使用了未来数据，那实盘效果肯定要大打折扣。二、是否有未来函数其次，如果在数据源、数据处理和计算方式都正确和对应的情况下，要确保自己的策略没有引入未来函数，比如以下2种可能出现的情况。那在回测当中是否对涨跌停股票进行特殊处理呢？比如，涨停的股票无法买入，跌停的股票无法卖出。在回测当中使用的是收盘价计算策略信号，以此产生交易信号并以收盘价成交，这也是变相引入了未来函数，因为在实际当中无法知道收盘价，知道收盘价时已经收盘无法再以收盘价成交，这样相当于提前预知了收盘价。三、是否过度拟合再次，排除了未来函数的影响，就需要看看策略是否是过拟合了，过拟合也是量化策略回测当中非常容易犯的错误。假设策略本身带有4个可调节参数，假设每个参数有10个可能的值，那这个策略就可能有10000种参数组合，通过对4个参数的参数寻优，人性的贪婪往往只会选择其中看起来效果最好的参数，有可能这组参数恰好是参数平面上的孤岛。要排除这方面的过拟合，最少要做一个参数敏感性分析吧。四、真实交易环境的限制最后，经过重重的检查，保证回测的正确性和准确性，让实盘效果大打折扣的原因就是真实交易环境的限制。例如策略是趋势策略抓突破，股价可能处在一种快速上涨的过程当中，在回测当中能成交的价格，在实际交易当中由于行情延迟和流动性等因素的影响，要以更高的价格成交，产生非常大的滑点，削弱了收益。还有就是，回测当中的数据是“死的”，而在实盘当中数据是“活的”，自己的交易行为会反作用于市场，把股价推向更高位置，也会产生大滑点，这就是量化中常说的“冲击成本”。资金量不大，又是活跃股的话，这段就当我没说过，掐了吧。五、策略失效最后的最后，那就是咱都不想面对的情况了——策略失效。每一个策略都是有周期的，雷总说“站在风口上，猪都会飞”，当风停了之后，策略处在失效回撤期，磨人的时间开始了。回测没有错，策略也没有错，只是老天爷不赏饭吃了，“此天之亡我，非战之罪也”，收拾好心情，收拾好行囊，重新出发，优化改进让策略重新焕发生机活力。对了，别问我是怎么知道的~~~很多东西听起来都是很轻松，听过了也就过了，唯有真金白银的损失才会让自己回想反思，还是那句话说的好嘛，“人教人，教不会，事教人，一次就够了”。更多相关资料请见：quantkoala：答应我，在量化策略回测里，避开未来函数这4个坑quantkoala：量化回测本身就是一种过度拟合？quantkoala：年化收益577倍的量化策略，没有未来函数，却有这个致命Bugquantkoala：5年收益狂飙116倍，没有未来函数，这个量化策略真的是圣杯吗？A股全面走向注册制，对量化有何影响？",
        "url": "http://www.zhihu.com/api/v4/answers/2934764498",
        "comment_count": 2,
        "voteup_count": 11,
        "question_title": "http://www.zhihu.com/api/v4/questions/568820571",
        "question_url": "为什么说量化模型回测没有用？"
    },
    "2934748974": {
        "created_time": 1678712896,
        "content": "量化交易的本质肯定不完全是统计学！随便翻开一本量化入门书籍，比如说《打开量化投资的黑箱(第二版)》，作者都至少会说明构建量化交易策略，一般有两类方式，一类是理论驱动型，另一类就是数据驱动型。第一种理论驱动型，也是量化萌新入门经常选择的一种，宽客通过观察市场行为，寻找可以解释这些行为的普适性理论，然后再用数据检验（回测）是否有效，按照这个普适性理论交易是否能盈利。例如之前拆解的某基金经理的GARP投资理念，从金融逻辑出发构建交易策略。quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）另一种就是数据驱动型，宽客也是观察市场行为，然后通过统计学和技术手段分析这些行为数据中的模式，但只是找到这种潜在的模型就行了，不需要有理论解释和支撑，只需要知道A能到B，不需要知道A为什么能导致B。这种策略开发方式应该就是题主认为量化交易本质就是统计学的原因。就如同Alpha101因子里面，很多因子的计算公式看起来都是随意拼接、毫无逻辑可言，不需要金融逻辑和理论支撑。quantkoala：这个量价背离的因子，最近2年又开始支棱起来了",
        "url": "http://www.zhihu.com/api/v4/answers/2934748974",
        "comment_count": 2,
        "voteup_count": 54,
        "question_title": "http://www.zhihu.com/api/v4/questions/551928544",
        "question_url": "量化交易的本质完完全全就是统计学吗？"
    },
    "2933390316": {
        "created_time": 1678635277,
        "content": "如果想快速了解量化交易都有哪些主要的模型策略，那么我可以给你推荐一本量化神作，其中分门别类列举了股票、期货、期权、外汇、加密货币、ETF等投资领域的151个交易策略。不过看之前要做好心理准备，因为这本书就跟鹿鼎记里面韦小宝刚入会时，陈近南交给他那本武功秘籍一样，只是一堆绝世武功秘籍的目录，不知是否有耐心看下去呢？而且，这本接近500页的书籍，目前还没有引进国内，都是全英文版本，不知是否还能静下心来读下去呢？“这一本只是绝世武功的目录，那一堆才是绝世武功的秘籍”那我就不卖关子了，这本书就是ZuraKakushadze的《151TradingStrategies》，最初是2018年8月发表在SSRN（国外公益性质的论文发布网站）上的同名论文，后来在同年年底整理成书，目前全网传播较多的是361页的论文版本，但个人感觉阅读效果较好的是480页的电子书版本，不仅标签完善，而且参考文献跳转非常顺滑，文末有传送门。说起ZuraKakushadze，很多人觉得很陌生，但是一说起他就是《101FormulaicAlphas》（坊间俗称“Alpha101”）的作者，是不是就觉得熟悉了一些，牛人一如既往都是牛人，101个Alpha因子已经很多了，又搞出了151个策略。这本巨作当中包含了横跨股票、期货、期权、外汇、加密货币、ETF等多个投资领域的151个交易策略，其中不仅有传统的量化策略，还加入了一些人工智能/机器学习的策略（ANN、KNN、朴素贝叶斯），此外，还有样本外的的回测源代码、500个数学公式、900个术语定义以及和策略对应的2000篇参考文献。正是由于此书内容如此繁多，而且非母语，于是才有了开篇的提醒，要初心耐心静心才能在其中徜徉。书中内容的组织形式是，每一个小节对应一个量化策略，开头会三言两语引入策略，然后概括出核心规则/公式，最后给出策略的构建方法，其间会穿插很多参考文献，告诉你策略idea的来源和为什么这样设置，所以很多人说这本书只是一个目录，那2000个参考文献才是本体。下面还是举个具体的例子来说明吧，请翻到书中第41页（PDF的第57页）的3.1小节“Strategy:Price-Momentum”，这里主要讲述股票的价格动量策略。其中给出了股票累计收益率R_cum、平均收益率R_mean和风险调整平均收益率R_risk.adj的计算公式，用这些公式可以衡量股票的动量，价格动量策略的构建就是按动量大小降序排列（也就是数值越大越靠前），做多高动量的分组，同时做空低动量的分组。在阅读的过程中，点击蓝色的参考文献引用，就可以直接跳转到对应的参考文献信息，如果想了解更多的策略细节，就可以下载阅读这些参考文献，这就是我建议看电子书版的原因，看论文版的需要自己在附录当中手动查找，相当费神。到这里就说得七七八八了，大伙儿此刻应该有了一个轮廓性的了解，依然想看的朋友可在GZH后台回复暗号：zura，就可以保存下载了，论文版和电子书版都有，enjoy~再结合另外一本量化神作一同食用更佳哦~quantkoala：261个策略/指标，萌新Quant群友在这本量化神作中学到的（书附源码）",
        "url": "http://www.zhihu.com/api/v4/answers/2933390316",
        "comment_count": 2,
        "voteup_count": 75,
        "question_title": "http://www.zhihu.com/api/v4/questions/24179101",
        "question_url": "量化交易都有哪些主要的策略模型？"
    },
    "2933377293": {
        "created_time": 1678634612,
        "content": "主要来说说新手在设计量化交易策略时，非常容易碰到的4个坑，有的坑非常明显，有的却非常隐蔽，希望大伙儿都别踩到了。1.明显坑：使用前复权价格数据。由于股票会存在分红送股的情形，价格会出现非交易回落，导致股票价格序列的不连续性，假设个股“10送10”，股价就腰斩了，双均线什么的马上就会出现“死叉”，所以为了指标计算的连续性和方便性，就会使用复权价格数据。一些量化萌新入门之前，在行情软件上一般是看前复权行情（很多股民都有这个习惯），因为前复权行情是保证现在的价格不变，根据分红送股的信息对之前的股票价格进行调整，看到现在K线的数值比较“正常”，如果是看后复权价格行情的话，很多上市时间比较长、分红送股比较多的股票后复权价格都是“成千上万”的了，不太“人性化”。酱香型科技公司的前复权价格比较符合股民习惯。后复权价格已然上万，很多人一开始不习惯也不喜欢。所以有一部分新手就会使用前复权价格数据，刚才已经说了，过去的股价数据是按照现在价格，根据分红送配的信息往过去推的，换句话来说，历史的价格数据包含了现在的信息，也就有了“未来信息”。如果是使用前复权价格数据，那最简单且收益高的量化策略就是，买上市时间早且前复权价格低的股票，回测收益率曲线保证不差。2.普通坑：当前K线出信号，当前K线成交。这里特指的是：使用K线收盘价序列计算指标，出现信号后，以收盘价成交。其实这种情况已经比“最低价买入，最高价卖出”的偷价情形好很多了，除非是恶意设置，不然一般萌新凭直觉都会避免。但有时候看一些萌新的策略源码，会出现类似于“IFCrossover(MA5,MA20)THENBuy(Close，...)”（当前MA5均线上穿MA20均线时，按收盘价买入）的情形，其实这挺符合日常看盘的习惯，看到金叉死叉的时候，都会在脑子里面从当前时点开始判断之后的行情。但在量化里面，这其实也是包含了未来信息的，因为量化交易实盘是实时进行的，至少会出现以下两种不利的情况。（1）当前K线没走完，最高价就触发了金叉信号，按照最高价就买入了，可能收盘价和最高价之间就存在不小的滑点。（2）当前K线最高价可以触发金叉信号，但按照收盘价计算却触发不了金叉信号，这就造成了实盘当中能成交、回测当中无法成交的不对应情况。因此有经验的宽客一般都会设置为“当前K线出信号，下一根K线开盘价/限价成交”，例如上面的例子可以改为“IFCrossover(MA5[1],MA20[1])THENBuy(Open，...)”（根据上一根K线计算的MA5均线上穿MA20均线时，按照开盘价买入）。其实这样的设置还可能不够严谨，不过已经比之前的情形好很多了。更为严谨的是，买入价可以设为“Max(Open，LimitPrice)”（开盘价和心里目标价位的最大值），量化想做好就是要扣很多细节，路漫漫其修远兮，吾将上下而求索~3.进阶坑：无法判断最低价和最高价的出现顺序。这种情况相对少见，造成的后果也比较薛定谔，举个例子来说明吧。假设一个股票/品种出现了天地板（大幅震荡同理），涨停会触发止盈，跌停会触发止损。如果是按照K线来回测的，用高低价判断是否触发止盈止损，这就要看在策略源码中，你把止损写在前头，还是把止盈写在前头，因为在这根K线上，止盈止损的条件同时都满足，谁写在前头谁就会被执行。但是在实盘当中，最高价和最低价必然有先后出场的顺序，假设先出现跌停，再出现涨停，而在代码当中是把止盈写在前头。这个时候就变相出现了未来信息，在回测当中出现了“苦尽甘来”的情况，在实盘当中要亏损10%的情况，在回测当中却盈利了10%。这个就有点儿类似于“幸存者偏差”，如同很多经典量化书籍都提到过的例子：在米国，买入困境当中的股票博反转，回测效果非常好，实盘效果却可能大相径庭，因为在早期，个股退市后数据就“消失”了，能回测到的股票都是从困境当中挺过来的幸存者，股价自然会迎来大涨，但如果在现实当中买到的是没有挺过来的不幸者，那就GG了。4.隐蔽坑：财报数据当中的未来信息。这个财报当中的未来信息非常隐蔽，我初始做量化的时候也掉进过这个坑，不是自己\"粗心大意\"，而是没有经验、特别是没有财务相关知识的萌新容易掉坑。众所周知，A股上市公司的一季报、半年报、三季报和年报的披露截止时间分别在当年的4月底、8月底、10月底和次年4月底公布，一般很少有人在2021年1月就直接调用2020年报的，这个错误对普通股民都太过明显，今天要说的是比较\"隐蔽的\"。举个例子，有的童鞋就考虑到财报的延后披露，但各家上市公司的披露日期又没有规律，于是乎，在构建量化基本面模型时，就在披露截止日期的次月第一个交易日调取财报数据，比方说在2021年5月6日才调用2020年报数据。的确，这种方式能剔除绝大部分的未来信息，但是还是有些隐蔽的瑕疵，这个瑕疵的根源就是：部分公司会对之前的财报数据进行修正，最新值会替换掉旧值。举个真实的例子，某扇贝跑来跑去的上市公司XX岛由于2014、2015连续两年亏损被*ST，如果2016年再亏损就要进入退市流程了。2017年3月21日，XX岛公布了2016年的年报，净利润为7571个w，扭亏为盈，保壳成功。但在2019年7月被证监会最终查出虚增利润1.3个小目标，追溯调整后净利润为-5543个w。如果今天来回测，取到XX岛2016年的净利润就是-5543w，可以避开这个大雷，而实际上，2017年5月第一个交易日取到的净利润却是7571w，老老实实挨锤。XX岛2016年年报原始数据。如今可以查询到的XX岛财务数据。这种回测历史当中能取到、现实当中无法取到的财报数据，就是做基本面量化的萌新很容易掉进的坑，特别还是早期的时候。不过现在萌新们不用担心了，很多量化平台都做了非常贴心的设置，除了设定报告期外，还可以设定取数日期，只能取到在实际当中取数日期之前可见的财报数据，在取数日期之后的修正是取不到的，或者是其他落地的金融数据库，会同时存储原始财报数据和修改后的财报数据，并且有每条记录的公告日期，可以按照公告日期进行数据选择。在策略开发当中，要有效避免掉各种各样的坑，除了多听前人的掉坑经验外，就是彻底了解自己所用的指标、变量、模型、算法的计算流程和细节，在哪个环节上会拿到这个时点之外的未知信息，慢慢地打磨细节，这样会比较快。更多相关资料请见：quantkoala：为什么回测效果非常好的策略实盘却不行？quantkoala：量化回测本身就是一种过度拟合？quantkoala：年化收益577倍的量化策略，没有未来函数，却有这个致命Bugquantkoala：5年收益狂飙116倍，没有未来函数，这个量化策略真的是圣杯吗？A股全面走向注册制，对量化有何影响？",
        "url": "http://www.zhihu.com/api/v4/answers/2933377293",
        "comment_count": 2,
        "voteup_count": 23,
        "question_title": "http://www.zhihu.com/api/v4/questions/31138745",
        "question_url": "设计量化交易策略时有哪些会被新手忽视的重要的误区？如何能更好的提升交易系统的完整性？"
    },
    "2925903842": {
        "created_time": 1678194345,
        "content": "本人并不想收律师函，但可以总结一下量化行业当中，那些坑爹公司和BOSS的坑人套路，希望各位伙伴一个都碰不上。2023-09-01更新：新坑新案例新血泪如何避开国内量化机构的这些坑？血泪经历盘点~~~2023-03-27旧回答分割线~~~深坑1：假面Boss骗策略如果你留意招聘网站足够久，你就会发现有些量化机构常年在上面招人，要求不高，薪酬不少，但几年过去了，都没有招到人。如果不是暗地里选人标准极其严苛的话，那十有八九这个机构是骗策略的，他们哪是想招人啊，纯粹是想白嫖你的策略。面试你的Boss，会展现得极其和蔼友善、平易近人，在你自我介绍完成后，循循善诱地问你，你都做了些什么策略啊，用了哪些因子啊，用的是什么算法啊，主要交易什么标的啊，就差让你把策略源码发给他，他来好好评估一下。对话的氛围极其融洽，如沐春风，如饮甘霖，惬意自在，只是掏空你的策略细节后，然后让你回去等通知，就然后没有然后了。你不想透露策略细节也可以，他也不跟你纠缠，赶紧让你大腿贴邮票——走人，人家也没啥损失，连交通费都不用，是你自己送上门来的。假面Boss骗策略，一般是用来骗一些经验丰富的量化人员，新手的话，可能就是给你布置个任务，或是笔试题里美其名曰测试一下你的实力，让你实现功能或探索策略，但结局都是一手交货，一手石沉大海。深坑2：薛定谔的奖金提成一般量化人员的标准薪资构成模式是“base+bonusorpnlcut”，base就是基本工资，bonus就是奖金，pnlcut就是业绩提成。量化开发人员，需要懂数理统计、交易算法、计算机和金融，技能树丰富程度完全比肩互联网公司，但base基本只有互联网公司的7~8折左右。比如说，一个工科博士，去互联网大厂base是50w，但可能去量化机构只有35~40w，问题来了，为啥拿到的base少了一截，还有很多人对量化趋之若鹜呢？因为大部分量化人员都不是只冲着base去的，高奖金提成才是我们的星辰大海，能给咱一步登天的机会。于是乎，精明的Boss抓住了咱的这种心理，做出好策略给你bonus，实盘盈利给你pnlcut，跟bonus和pnlcut比起来，base只是零花钱，把胡萝卜挂起来，让你奋力前行。但关键是，什么的策略是好策略，实盘盈利到什么程度才符合Boss心意，这就完全是看Boss的人格和格局了。没做出好策略，实盘没盈利，没有奖金提成你不好说什么，但是好策略实盘盈利了，你也可能是一无所获。比如说，你给公司一个产品贡献了500w盈利，按照之前老板口头约定的可以提成10%，也就是50w，但老板觉得你策略的波动和回撤太大了，造成公司某产品净值曲线不高雅，不发了，只是口头约定，不好打官司，只能哑巴吃黄莲。又比方说，还是盈利500w，而且有书面约定提成比例，但是临到发奖金前一两个月，公司说要调整提成起算标准，原来超额8%就有提成，现在要超额15%，因为合同里有约定，公司有权根据市场行情变化，调整超额收益基准线。咦~你发现，这超额后到手也没有多少了，Boss这刀法很精准嘛~很多时候，你就会发现，自己有一个靠谱的金融法务朋友多重要~深坑3：苛刻的竞业协议和保密协议入职新的量化机构，一般都会签署劳动合同、竞业协议和保密协议，可能很多人会细看劳动合同中的薪资等关键条款，却很少细究竞业协议和保密协议的限制条款，因为光想着将来入职大展拳脚，没有想到日后的踩坑扯皮，为将来的事业留下隐患。首先说明，竞业协议和保密协议很常见，不仅在量化领域，在互联网、高端制造等领域都存在，关键是双方权利义务要对等。根据法律规定，竞业协议最长不能超过2年，竞业补偿金不低于年收入的30%，这是法律的底线，也可能是心胸狭隘格局小Boss的道德高地。谁都希望事业顺风顺水，但万一发现这家公司是个坑，不想继续在歪脖树上吊死，那就得看自己能不能顺利离职，顺滑地投入到一家更有前景的公司。因此，入职前就要想清楚，如果公司启动竞业协议，竞业补偿金是否能让你躺平2年，有的Boss真真就是只给base的30%（好的公司可以给到base的80%~100%），当初自己光冲着bonus来的，base不高，bonus也没发，现在只有base的30%了，自己能不能受得了。所以，很多人准备离职的时候，老东家以启动竞业协议相威胁，不想经历吃苍蝇式的扯皮，最好注意这个大坑。说完竞业协议，来说说保密协议，这个就友好很多了，一般是义务型的，就是你从这个公司领工资，就要学会保密，不要泄露公司的机密信息就行了。说一个案例，大伙儿注意避开就行了，大D入职某量化私募，劳动合同的保密款项中约定，每个月扣工资的10%作为保密押金，累积扣押的保密押金会在离职后分12个月返还，但关键是公司没有在劳动合同上写月工资数额，公司说所有员工的合同都是没有写工资数额，大D也没在意，往后公司一直都是月发90%的base，直到1年后，公司欠薪，没发工资，大D去劳动仲裁，仲裁最终判决是公司补发1个月工资，工资计算依据是最近12个月工资流水的平均值，也就是把最近1年的收入加起来除以12个月，关键是这个工资数额是发到手的数额，是扣除了那10%保密押金和五险一金之后的数额，大概只有原base的70%，最最最关键的就是，这扣了12个月保密押金没能要回来，这也就相当于，一个多月的工白打了。深坑4：Boss直属上级不懂量化量化机构的Boss或直属上级不懂量化业务，这出现的概率比较小，但我自己听兄dei们说过的亲身例子已不下5个，大部分都是发生在量化私募，我说一个印象最深刻、最搞笑的。大L去面过一个量化私募，跟HR和部门Leader聊过后得知，这家私募刚成立不久，成立的初衷是大Boss有闲置的7000多w需要打理，就自己成立一个私募玩玩，管自己的钱，也可以将来帮朋友管钱，因为量化投资比较热，打着这个幌子好募资，于是就打算做量化私募。大L给我讲的时候，有3个点我记得非常清楚。第一点就是，该部门Leader问大L能不能程序化实现老鸭头指标，说他现在炒股很看重这个指标，实现后就可以量化交易了。第二点就是，问大L策略预期收益有多少，大L说做Alpha策略的话，年化收益预计有10%~35%，该部门Leader说这也太少了，大L说这个策略胜在回撤小、夏普率高，自有资金可以做的比较安心，部门Leader问道“夏普率是什么？”第三点，搞笑的来了，大L问该部门Leader，你们现在用的开发语言是什么，部门Leader犹豫了一会儿，答道“大蟒蛇”。这个“大蟒蛇”的回答承担了我那一周的全部笑点，是的，大L没有再去这家所谓的量化私募二面。上面说了四大类坑，列举了一些不靠谱Boss的坑爹操作，因为量化投资离钱非常近，人性在面对金钱的时候往往经不起考验，很大程度上要依靠人的人格和格局，但也不能因噎废食，相信这个世界还是好人多，抬头仰望星空的同时，也要低头赶路避坑。更多相关内容：quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：利用chatGPT选了3支股票，验证未来收益率能否狂飙？quantkoala：2022年量化文章合辑|量化投资从入门到不放弃",
        "url": "http://www.zhihu.com/api/v4/answers/2925903842",
        "comment_count": 20,
        "voteup_count": 109,
        "question_title": "http://www.zhihu.com/api/v4/questions/443520344",
        "question_url": "量化行业有哪些很坑的公司？"
    },
    "2925868288": {
        "created_time": 1678192707,
        "content": "首先摆明立场，量化交易跟技术分析不是互斥的，它们是有交集的，在量化交易当中，也会使用到技术分析的思想和方法，例如说，有很多宽客用量化来数浪，找支撑压力为，找顶底背离点，做缠论程序化。所以这不是一个“东风压倒西风，还是西风压倒东风”的问题，如果技术分析有进步发展，也会利好量化交易。这么说可能比较抽象，我用以前开发的策略来举个具体的例子，RSI是技术分析当中常用的技术指标，现在咱就用它来构建一个量化交易策略，看看技术分析是如何跟量化交易结合的。在之前的文章《在天朝A股，抄底和摸顶，哪个更加困难？》中有过统计，整体市场有超过一大半的时间处在价格区间的中下游，当时的沪深300指数价格分布直方图如下，其中分组序号越大，代表的价格也就越高，柱子上的数值，表示落在该组价格区间的天数在总天数的占比，想了解具体统计细节的请看原文。quantkoala：在天朝A股，抄底和摸顶，哪个更加困难？市场处在中低位价格区间的时间很长，便宜筹码很多，也很容易捡到，捡到后不知道什么时候能涨起来，如果能一直死死捂住还好一点，就是怕戒不了频繁操作，总体低位的时间偏多，频繁交易可落不着好。现代人特别是血气方刚的小伙子，挺讨厌说教的，说不定就会站起来盯着我反问道：“像你这样说，买完就只能删行情软件捂着啰？”。我倒觉得凡事都没有这么绝对，投资交易各有各的打法，哪个流派都有赚钱的，重要的是找到适合自己的。一般股票价格的状态分为上涨、下跌和震荡，如果震荡发生在价格区间低位，则称为“底部平台”，震荡发生在价格区间高位，则称为“顶部平台”。所以呢，从技术分析的角度来讲，一个典型的价格形成路径就是：底部平台-&gt;上涨段-&gt;顶部平台-&gt;下跌段，然后循环往复。但可能有些股价K线形成的顶底部持续时间比较短，那就可能形成“尖顶”或“尖底”，而不是一段平台。底部平台就如同“鱼尾”，顶部平台就如同“鱼头”，从头吃到尾那是“妄念”，这个策略就是想越过死气沉沉、没滋没味的平台期，捕获一段肥美的鱼身（上涨段），故这个策略又称之为“鱼身策略”。鱼身策略的核心就是：选择绩优股票在突破底部平台或上升段时买入，在顶部平台或下跌段开始时卖出。关于如何选择绩优股，可以参照以前的3篇文章，因为是懒人专属，目标就是尽可能筛选出不容易暴雷、让人省心的正经股票。小市值因子已然凉凉，绩优小市值依旧狂浪跟着“基金一哥”张坤量化选股的快乐，你想象不到！（策略年化收益39.9%）Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%）想要吃到上升段，关键是对上升趋势的识别，核心指标就是相对强弱指标RSI（RelativeStrengthIndex），计算方式如下。RSI=N日内上涨幅度累计/N日内上涨及下跌幅度累计*100从计算方式中看出，它用上涨幅度代表多方力量，下跌幅度代表空方力量，最终计算多方力量在总体力量当中的百分比，RSI的数值在0~100之间，超过50表示多方力量占优，低于50表示空方力量占优，除了能识别趋势以外，还能识别超买超卖，更多具体用法都可以在网上搜到，在此不再瞎BB了。识别上升段可不是计算出RSI大于50就完事儿了，而是要分为两层，一层是针对大盘的识别，另一层是针对个股的识别，而且识别是分多周期识别，假设分为长、中、短这3个周期。当大盘的长周期RSI数值小于阈值时，停止一切交易；如果大盘长周期RSI数值高于阈值，开启交易开关，计算所有周期的RSI值，如果3个周期中每当有一个周期RSI值处于阈值范围，则多买一份，有多少个周期满足就买多少份；当不再满足条件时就卖出。看了这个择时和仓位控制，就知道鱼身策略在实际当中会过滤掉不少的交易时间，上面已经大概介绍完了鱼身策略大体的设计思想，是该牵出来遛遛了。先来贴一个纯粹选绩优股死死捂住不择时的回测绩效。再来贴一个想捕捉上升段的鱼身策略的回测绩效。从两张图的对比可以看出，除了鱼身策略最终收益要比死捂策略要高之外，关键是鱼身策略有一半时间都在躺平，并且夏普率和盈亏比要更高，最大回撤要更小，投资体验会更好。你瞧，一个技术指标RSI就可以帮传统的量化选股策略提高收益、降低回撤，就不要再认为有了量化交易，就可以不要技术分析了，它们可以是相互促进的好伙伴。更多相关内容：quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：小白快速入门量化交易的推荐自学路径quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：推荐一本量化宝藏书籍，内含151个量化交易策略",
        "url": "http://www.zhihu.com/api/v4/answers/2925868288",
        "comment_count": 2,
        "voteup_count": 27,
        "question_title": "http://www.zhihu.com/api/v4/questions/25672744",
        "question_url": "既然有了量化交易，技术分析还有存在的必要么？"
    },
    "2924261467": {
        "created_time": 1678104357,
        "content": "一般说到单因子和多因子，都是量化选股策略当中用得多，就是用单个或多个因子来筛选出你想要投资的股票，常见的因子有市盈率PE、市净率PB、相对强弱指标RSI等等，只要你能在股市里想到的财务指标、量价指标和技术指标都可以当做因子，脑洞大开想得多离谱都可以，甚至是天气雾霾程度、前台妹子裙子长度、口红色号andsoon。选股就像国家选送人才去读大学，单因子策略就相当于高考时只考一个科目，比方说只考语文，谁语文考试分数最高的前N%就可以去读大学，虽然筛选出来的估计大部分都是之乎者也比较厉害的，但将来要学工程编程那些就比较头秃。国家一看，这不行啊，虽然文华方面百花齐放了，咱还得发展经济和科技啊，还是得综合素质高、全面平衡发展才行，于是高考除了语文之外，还会有数学、英语和文理综那些，选这些科目总分最高的前N%去读大学，这就相当于是多因子策略，筛选出来的股票各方面更兼顾一些，降低暴雷的概率，提升盈利的机会。如果想了解单因子量化策略的具体构建流程，请见：quantkoala：这个量价背离的因子，最近2年又开始支棱起来了双因子量化策略请见：quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）多因子量化策略请见：quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）quantkoala：从股价上涨驱动力出发，构建分析师一致预期成长量化策略quantkoala：跟着“基金一哥”张坤量化选股的快乐，你想象不到！策略年化收益39.9%",
        "url": "http://www.zhihu.com/api/v4/answers/2924261467",
        "comment_count": 1,
        "voteup_count": 8,
        "question_title": "http://www.zhihu.com/api/v4/questions/56533097",
        "question_url": "什么是单因子和多因子量化策略？具体在量化中有什么应用？"
    },
    "2924231082": {
        "created_time": 1678102834,
        "content": "题主是计算机专业的，那就再好不过了，至少编程这个拦路虎就可以轻松迈过去了，那我根据个人之前的量化学习经验，腆着脸给你推荐一条快速简洁的量化交易学习路线吧，认可的话可以参考一下，如下：投资想法-&gt;量化基础-&gt;量化平台-&gt;量化策略这是抽象的概括，下文会把每个步骤详细讲讲，这里需要确定快速入门的学习原则：适度学习，够用就行。2021版《新华字典》中，收录了13000多个汉字，而日常生活中只需要用到其中3000多个，也就是说，不用啃完编程书籍等大部头才可以开始，按常用按需学习就行。一、投资想法很多人做量化，都是因为自己有初始的投资想法，想验证正确性提高交易胜率，或想解放双手追求效率，全自动程序化盯盘交易，量化跟人工智能AI一样，都是手段，用来实现自己想要的目的，不是为了量化或AI本身而学习。有初始的投资想法，在开始学习的时候有一个好处，就是可以在学习量化时有的放矢，听到相关的知识点的时候，脑子就会在想，我想要的功能能不能这样实现。比如，你想实现均线交易策略，那么你在学习pandas模块时，听到rolling和mean函数，就会有“确认过眼神，找到对的人”的赶脚。如果在投资想法这边还是没有感觉，没初始思路的话可以看看我之前的文章，里面很多策略想法都是从交易书籍、研报论文和市场观察中发现的。股票&amp;ETF相关策略：《Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score》《从股价上涨驱动力出发，构建分析师一致预期成长量化策略》《ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞》《两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）》《跟踪『聪明钱』，巧用北向资金进行大盘择时》《量化萌新向ETF择时策略：当北上资金遇上布林带》《跟着“基金一哥”张坤量化选股的快乐，你想象不到！》《小市值因子已然凉凉，绩优小市值依旧狂浪》《中国版“漂亮50”量化策略》《鱼身策略懒人爱，量化内卷别乱买》《手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）》商品期货相关策略：《唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略》《又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略》《又来唠一个另类异质量化策略：20后的Trendflex策略》《『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略》《K线标准化结构图：构建一个趋势策略，就是那么朴实无华》《CTA策略中的Alpha：期限结构之展期收益率策略》《量化本无妙手，背后都是坚实的本手：波动率不对称性RSJ量化策略》《兄弟家量化策略很多，拿一个『波动率收敛突破策略』盘一下》《兄弟家量化策略很多，又拿一个『操盘手策略』盘一下》《动物庄园：商品期货跨品种套利策略》《量化同质越来越严重，如何保持策略的长久优势？（附异质化另类量化策略）》《唠一唠指标之王MACD的另类用法：高低形态短线量化策略》《股指期货除了无脑吃贴水之外，还有更卷的量化操作策略吗？》二、量化基础这里面主要包含两大部分，一个是量化通识，另一个是编程基础。关于量化通识，看量化故事类的书籍都可以有所了解，以前我也列过一个书单。《量化投资书单推荐（20本）》如果没有那么多时间，想快速了解量化投资的方方面面，开始的时候只看这本就够了。《萌新量化投资入门的第一本书》关于编程基础，因为不同量化平台的编程语言都不一样，这里只好拿在量化界广泛使用的Python举例。对于Python的快速学习，墙裂推荐廖雪峰老师的Python教程，不仅免费写得非常简单易懂，而且每个小节之后，都有编程互动小题目给你即时反馈，非常有趣，不用再想着自己啃完编程大部头再去编写策略，教程链接：https://www.liaoxuefeng.com/wiki/1016959663602400廖老师的教程非常详尽，连Web开发都讲了，但是再次重申咱的快速入门学习原则：不贪多，够用就行。对于量化基础而言，学到“错误、调试和测试”章节就可以了，后面等有时间再看。遗憾的是，里面没有讲到量化常用的numpy和pandas模块，这个可以在学了廖老师课程之后，再单独度娘学习一下。三、量化平台对于量化初学者而言，不建议自己搭建量化框架/平台，应该以实现量化策略为主，把数据获取清洗、回测框架搭建和对接实盘接口等工作交给专业团队打理，因此强烈建议使用现成的第三方量化平台，这里给大家推荐一些。如果你打算做股票量化交易，可以选择以下5个量化平台，在他们的官网的“帮助中心”里面，都可以找到对应的上手教程和策略模板。聚宽JoinQuant：https://www.joinquant.com优矿Uqer：https://uqer.datayes.com米筐RiceQuant：https://www.ricequant.com掘金量化：https://www.myquant.cn迅投QMT：http://www.thinktrader.net如果你打算做期货/期权/大饼的量化交易，可以选择以下5个量化平台。交易开拓者TB：http://www.tradeblazer.netvn.py：https://www.vnpy.com文华：https://www.wenhua.com.cn金字塔：https://www.weistock.comMultiCharts：https://www.multicharts.cnTB研究策略和回测什么的都是免费，只有开启实盘时才会在基础手续费上加收一些，以个人观察，现存的很多系列源码，都是以TB居多。vn.py是一款基于Python的开源量化交易系统开发框架，后来更名为VeighNa，不过大伙儿还是习惯地称之为vn.py。由知乎量化大V『用Python的交易员』开发，定位是量化交易平台，提供从交易API对接到策略自动交易的完整解决方案，对接了国内外诸多不同类型的金融市场：证券、期货、期权、外汇、数字货币等。后面三个就都是收费的了，优点就是编程相对简单一些，缺点就是贵，大家也可以去看看。四、量化策略有了编程基础，又选定了量化平台，恭喜你，你终于有能力实现自己最初的投资想法了，量化策略是投资想法的逻辑化和程序化展现。由于每个人的投资想法不尽相同，只好举一个简单的双均线交易策略为例进行描述，因为“双均线”这是一个接触到投资交易，都基本会听过的词儿，“专家”告诉你在金叉的时候买，在死叉的时候卖，那实际效果到底是怎么样的呢？在聚宽JoinQuant量化平台上，拿茅台作为交易标的，咱定义5日均线和20日均线在出现金叉的时候，第二天一开盘就全仓买入，出现死叉时，就把所有持仓全部卖出，策略代码如下。如果已经看完廖老师的前几章课程，这代码就大概能看懂七七八八了，剩下的再结合平台的API说明就能全部弄清楚了。大概的实现流程就是，在初始化函数initialize中设置了交易标的、策略参数和交易费率，以及定义了一个每天在开盘运行的函数stock_trade，并且开启了“防未来函数”功能。在stock_trade函数里面，计算昨天和前天的5日均线和20日均线，如果金叉就买入，死叉就卖出。#导入函数库fromjqdataimport*#初始化函数，设定基准等等definitialize(context):#交易的股票g.stock='600519.XSHG'#长短均线参数g.short_len=5g.long_len=20#设定沪深300作为基准set_benchmark('000300.XSHG')#开启动态复权模式(真实价格)set_option('use_real_price',True)#过滤掉order系列API产生的比error级别低的loglog.set_level('order','error')#打开防未来函数set_option('avoid_future_data',True)#股票类每笔交易时的手续费是：买入时佣金万分之三，卖出时佣金万分之三加千分之一印花税,每笔交易佣金最低扣5块钱set_order_cost(OrderCost(close_tax=0.001,open_commission=0.0003,close_commission=0.0003,min_commission=5),type='stock')#开盘时运行run_daily(stock_trade,time='open',reference_security='000300.XSHG')##开盘时运行函数defstock_trade(context):stock=g.stockshort_len=g.short_lenlong_len=g.long_len#获取股票的收盘价#当取日线数据时,不包括当天的,即使是在收盘后，没有未来data=attribute_history(stock,long_len+1,'1d',['close'])#计算双均线数据data['ma5']=data['close'].rolling(short_len).mean()data['ma20']=data['close'].rolling(long_len).mean()#昨日MA5和MA20数值ma5=data['ma5'].iloc[-1]ma20=data['ma20'].iloc[-1]#前日MA5和MA20数值pre_ma5=data['ma5'].iloc[-2]pre_ma20=data['ma20'].iloc[-2]#取得当前的可使用的资金cash=context.portfolio.available_cash#如果昨日出现金叉，则今日开盘买入if(pre_ma5&lt;pre_ma20)and(ma5&gt;ma20)and(cash&gt;0):#用所有资金买入股票order_value(stock,cash)#输出买入信息log.info(\"&gt;&gt;&gt;%s买入%d股%s\"%(str(context.current_dt),context.portfolio.positions[stock].today_amount,stock))#如果昨日出现死叉，则今日开盘全部卖出elif(pre_ma5&gt;pre_ma20)and(ma5&lt;ma20)and(stockincontext.portfolio.positions.keys()):#输出卖出信息log.info(\"&lt;&lt;&lt;%s卖出%d股%s\"%(str(context.current_dt),context.portfolio.positions[stock].total_amount,stock))#卖出所有股票,使这只股票的最终持有量为0order_target(stock,0)运行策略，就会不断输出自定义的交易信息。并且在运行过程中，收益率曲线也在不断地生成。大家觉得这个回测绩效怎么样？双均线策略算有效吗？你可以自己贴代码跑回测试试，同时再调整交易标的和双均线参数试一试，一般情况下回测很快，不需要一个东的时间。虽然我这里以JoinQuant策略为例，但所有量化平台的实现逻辑都是想通的，你只需要定义自己的函数，告诉系统“你要在什么时间？交易什么标的？交易数量是多少？”，你只要解决这3个“什么”的问题，所有的量化平台你都可以玩得转了。如果你能完全理解并且复现这个双均线策略，可以说明量化已经初步入门了，接下来要转起“正向飞轮”，实现和玩转更多策略，把多标的交易加进去，把基本面数据加进去，把滑点设置加进去，把仓位控制加进去......等你回测出心仪的策略效果，接着上模拟盘跟踪，然后就是实盘，接着就是不断迭代优化，慢慢地就变成合格宽客，最后就变成量化大神了。更多相关资料请见：quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：推荐一本量化宝藏书籍，内含151个量化交易策略quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2924231082",
        "comment_count": 1,
        "voteup_count": 170,
        "question_title": "http://www.zhihu.com/api/v4/questions/268842359",
        "question_url": "如何制定一条量化交易的学习路线？"
    },
    "2918791257": {
        "created_time": 1677772910,
        "content": "如果想快速入门量化投资，并且时间不宽裕的话，那看这一本书应该够了。它就是《打开量化投资的黑箱(第二版)》（InsidetheBlackBox:ASimpleGuidetoQuantitativeandHighFrequencyTrading，SecondEdition），在你读完之后，你会对量化交易有一个基本的了解，虽然它通篇没有具体的策略，也没有复杂繁琐的数学公式，但是个人觉得，它涵盖了量化交易入门所必备的各式各样的常识。注意，这里特指的是第二版，原书英文版是在2009年出版，2012年翻译成中文引入国内，第二版是在2013年出版，2016年翻译成中文引入国内，第二版除了对第一版错误进行修正外，关键是加入了『高频交易』这一部分的内容，内容也从原来的13章扩展到了17章。这本书的作者是漂亮国的一个对冲基金经理，诗画乐三绝的文艺老炮，名字叫做里什·纳兰（RishiK.Narang），下文就亲切称呼他为“老纳”吧，他上个世纪90年代就进入量化领域了，一直深耕量化交易策略至今，妥妥的“黄埔出身正规军”，这本书就相当于是他职业生涯心得体会的阶段脱敏梳理了。这本书通篇可以分为5个部分。第一Part主要是介绍量化交易的背景知识和典型结构，啥是量化交易，啥是宽客；第二Part就开始拆解量化交易这个黑箱了，一个一个零件拆出来，摆在你的面前挨个介绍一番；第三Part主要是唠唠怎么评估宽客和量化策略，还反驳一些外人对量化的误解；第四Part就是说说高频交易和高频策略的类型；最后一Part就是展望一下量化的未来。可以看得出来，这本书的核心内容就是第二Part，横跨第3章到第9章，这里面核心的核心就是阿尔法(Alpha)模型，其他还讲了风险模型、交易成本模型、投资组合模型、订单执行模型和科学研究方法。我在这里多说几嘴关于阿尔法模型的吧，因为连阿尔法模型都没有的话，后面的策略步骤基本上就不用去做了。阿尔法模型就是量化策略当中超额收益的来源，也就是如何在交易市场中寻找盈利的机会，让自己获得超越市场基准的丰厚收益，这正是每个宽客魂牵梦萦的所在。虽然量化策略众多，纷繁复杂，老纳给你指明阿尔法模型类型方向，只分为两类，一类是理论驱动型，另一类就是数据驱动型。第一种理论驱动型，也是萌新入门经常选择的一种，宽客通过观察市场行为，寻找可以解释这些行为的普适性理论，然后再用数据检验（回测）是否有效，按照这个普适性理论交易是否能盈利。老纳根据个人经验，把趋势跟随（trend）、均值回复（reversion）、技术情绪（technicalsentiment）、价值/收益（value/yield）、成长（growth）和品质（quality）这6种策略都归为理论驱动型交易策略。另一种就是数据驱动型，宽客也是观察市场行为，然后通过技术手段分析这些行为数据中的模式，但只是找到这种潜在的模型就行了，不需要有理论解释和支撑，只需要知道A能到B，不需要知道A为什么能导致B。但老纳在书中说构建数据驱动型策略时，所使用的数学工具较为复杂，门槛比较高，在当时的业界使用还比较少，所以就不展开来讲了，主要还是集中在上面那6种策略类型。到现在就不一样了，硬件设备、算法算力和数据丰富度极大提升，人工智能AI已经深入到投资交易领域，特别擅长发现数据之间的非线性关系，专门干这种数据驱动的活儿，每个时代都有每个时代的局限性。更多相关资料：quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：量化投资书单推荐，20本拿走不谢！quantkoala：推荐一本量化宝藏书籍，内含151个量化交易策略quantkoala：261个策略/指标，萌新Quant群友在这本量化神作中学到的（书附源码）quantkoala：小白快速入门量化交易的推荐自学路径quantkoala：猜谜答案揭晓&amp;推荐一本“揭秘”全球最赚钱量化基金的书籍",
        "url": "http://www.zhihu.com/api/v4/answers/2918791257",
        "comment_count": 0,
        "voteup_count": 38,
        "question_title": "http://www.zhihu.com/api/v4/questions/435630531",
        "question_url": "求量化投资入门书籍或课程推介。？"
    },
    "2918783345": {
        "created_time": 1677772429,
        "content": "我给大家推荐20本量化投资佳作，根据个人习惯，将书籍们分为5大类，从故事类到失眠类都有。第一类是科普&amp;故事类，顾名思义，主要是帮量化萌新迅速了解量化&amp;宽客是什么，有个大体的感觉，偏故事向。第二类是股票量化类，主要讲了在股票量化领域有什么经典的策略，如何构建、实现和回测。第三类是期货量化类，讲的是期货量化的经典策略，大部分是趋势策略（例如海龟策略），也有套利策略。第四类就是期权量化类，一般书籍里面都是先科普一下期权是什么，然后就各种字母，接着就各种跨式、蝶式，最后我想把它归到失眠系列类。第五类就是失眠系列类，不是这类书让人失眠，而是适合失眠的时候看，例如那本量化红宝书，新手初看会觉得特别枯燥，公式繁多，助眠效果极佳。一、科普&amp;故事类01.《打开量化投资的黑箱》作者:里什·纳兰豆瓣评分：7.4出版时间:2012-3内容简介：作者是一位基金经理，在书中他站在一个非纯粹技术性的视角介绍了量化交易策略，用生动的文笔带领大家游历整个“黑箱”。涉猎了很多金融界丰富的真实案例和市场趣闻，描绘了华尔街的数量金融奇才们是如何工作的。02.《解读量化投资：西蒙斯用公式打败市场的故事》作者:忻海豆瓣评分：7.2出版时间:2010-1内容简介：作者用轻松、幽默的讲故事手法，解读了西蒙斯量化投资“黑箱”之内的秘密，带我们走近20年中平均每年总回报为80％的大奖章基金，看看它如何能将1万元变成1亿元。03.《宽客：华尔街顶级数量金融大师的另类人生》作者:斯科特·帕特森豆瓣评分：8.0出版时间:2011-7内容简介：这是一本讲述华尔街顶级数量金融大师的另类人生的书。背景是2007年金融危机爆发以后，作者对量化基金经理和顶尖经济学及金融学学者的各种采访。04.《宽客人生:华尔街的数量金融大师》作者:伊曼纽尔·德曼豆瓣评分：8.0出版时间:2007-7内容简介：作者本人就是华尔街的顶级宽客，至今仍享盛名，他分析了物理学与金融学之间的关联和不同，讲述了许多物理学巨匠和金融学大师的故事。05.《高频交易》作者：艾琳·奥尔德里奇豆瓣评分：7.8出版时间：2011-6内容简介：本书作者站在专业的高度，用平实的语言和丰富的图表，带我们走进量化投资的黑匣子，向我们展示了这台复杂的“金融仪器”是如何运作的。06.《高频交易员:华尔街的速度游戏》作者：迈克尔•刘易斯豆瓣评分：7.8出版时间:2015-5内容简介：本书作者其他著名的著作还有《说谎者的扑克牌》和《大空头》，本书叙事偏水浒风，人物逐个出场，背景丰满，性格突出，然后构建完整个拼图，结局有一抹亮色。二、股票量化07.《量化投资——策略与技术》作者：丁鹏豆瓣评分：6.5出版时间:2014-9内容简介：你可以把此书认为是金融工程研报的合订本，内含60多个案例，主要分为策略篇与理论篇两部分。策略篇主要包括：量化选股、量化择时、股指期货套利、商品期货套利、统计套利、期权套利、算法交易和资产配置等。理论篇主要包括：人工智能、数据挖掘、小波分析、支持向量机、分形理论、随机过程及IT技术等。08.《量化交易:如何建立自己的算法交易事业》作者：欧内斯特·陈豆瓣评分：7.5出版时间:2014-1内容简介：此书虽薄，但内容涵盖交易策略的发展、回测检验、风险管理、编程实现、交易系统研发和算法交易运行等关键领域，作者带你一步一步建立起一个最佳量化框架。09.《量化投资策略:如何实现超额收益Alpha》作者：理查德·托托里罗豆瓣评分：7.6出版时间:2013-5内容简介：作者在书中详尽地测试了超过1200种投资策略，归纳了七个投资维度：盈利性、估值、现金流、成长性、资产配置、价格动量以及危险信号，并告诉你如何有效结合单个投资因子或组件因子，如何构建多因子策略，从而构建更全面的选股模型。10.《量化投资：以Python为工具》作者：蔡立耑豆瓣评分：6.7出版时间:2017-2内容简介：主要讲解量化投资的思想和策略，并借助Python语言进行实战。首先对Python编程语言进行介绍；然后，向读者介绍量化投资的理论知识，主要讲解量化投资所需的数量基础和类型等方面；最后讲述如何在Python语言中构建量化投资策略。三、期货量化11.《海龟交易法则》作者：柯蒂斯·费思豆瓣评分：8.6出版时间:2013-5内容简介：伟大的期货交易者究竟是天生的，还是可以后天培养的？丹尼斯和埃克哈为此开始了一项试验，参与者被称为“海龟”。此书的内容就是关于这些海龟的：海龟们如何做交易，如何把握交易时机；海龟们如何衡量风险，如何管理资金；海龟们如何获得超过100%的年均回报率；为什么有些海龟大获成功，有些却赔个精光；如何将海龟交易法则运用于你自己的交易中；12.《期货市场计算机分析指南》作者：查尔斯·勒博豆瓣评分：7.9出版时间:2012-4内容简介：本书原版较老，主要讲解美国80年代各种技术指标的运用，内含了作者几十年的功力。13.《期货市场完全指南:技术分析、交易系统、基本面分析、期权、利差和交易原则》作者：杰克·施瓦格豆瓣评分：7.7出版时间:2017-11内容简介：本书侧重于商品期货市场价格预测，是目前全面的关于基本面分析和技术面分析的期货著作，内容涵盖期货、期权、分析、利差等。14.《统计套利》作者：安德鲁·波尔豆瓣评分：6.6出版时间:2011-1内容简介：本书论述了统计套利的历史，也诠释了统计套利如何运作的方式，以及为什么管用的原因，就是翻译让人吐槽~四、期权量化15.《期权投资策略》作者：劳伦斯G.麦克米伦豆瓣评分：7.9出版时间:2010-1内容简介：本书可认为是期权交易策略大全，包含全面的期权交易工具与各种策略方法。涵盖数百种经过时间与市场考验的交易技巧，承受最低的风险，实现既定的投资目标。16.《波动率交易：期权量化交易员指南》作者：尤安·辛克莱豆瓣评分：9.0出版时间:2017-5内容简介：本书梳理了基础的期权定价、波动率度量、对冲、资金管理以及交易评估等内容，并开发了基于布莱克-斯科尔斯-默顿的量化模型去度量波动率，这适用于几乎所有类型的金融工具。17.《波动率微笑:宽客大师教你建模》作者：伊曼纽尔·德曼豆瓣评分：9.1出版时间:2018-1内容简介：本书公式繁多，需要较强数学功底，绝对是一本期权量化的好书，但总想将其归为失眠系列。五、失眠系列18.《主动投资组合管理:创造高收益并控制风险的量化投资方法》作者：理查德C.格林诺德豆瓣评分：8.7出版时间:2014-9内容简介：本书以其数学上的严谨性和内容上的系统性成为量化组合投资领域的权威之作。该书描述了一套创新的方法：寻找资产收益率原始信号，将它们转化为精炼预测，以及根据这些预测构建具有超常收益率和最小风险的投资组合，即持续战胜市场的投资组合。公式多，助眠！19.《QuantitativeEquityPortfolioManagement:ModernTechniquesandApplications》作者：EdwardE.Qian豆瓣评分：8.9出版时间:2007-5内容简介：本书可以被看成对《主动投资组合管理:创造高收益并控制风险的量化投资方法》的补充。20.《QuantitativeEquityPortfolioManagement:AnActiveApproachtoPortfolioConstructionandManagement》作者：LudwigBChincarini豆瓣评分：8.0出版时间:2006-7内容简介：本书比较偏学术风格，主要讲factormodel，与《主动投资组合管理:创造高收益并控制风险的量化投资方法》相辅相成。更多相关资料quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：萌新量化投资入门的第一本书quantkoala：推荐一本量化宝藏书籍，内含151个量化交易策略quantkoala：261个策略/指标，萌新Quant群友在这本量化神作中学到的（书附源码）quantkoala：小白快速入门量化交易的推荐自学路径quantkoala：猜谜答案揭晓&amp;推荐一本“揭秘”全球最赚钱量化基金的书籍",
        "url": "http://www.zhihu.com/api/v4/answers/2918783345",
        "comment_count": 0,
        "voteup_count": 96,
        "question_title": "http://www.zhihu.com/api/v4/questions/23242421",
        "question_url": "有哪些优质的量化投资类书籍？"
    },
    "2916981222": {
        "created_time": 1677676374,
        "content": "我推荐两本书，这两本书上分门别类列举出了量化交易当中400+个策略和指标。第一本是ZuraKakushadze的《151TradingStrategies》，这本巨作当中包含了横跨股票、期货、期权、外汇、加密货币、ETF等多个投资领域的151个交易策略，其中不仅有传统的量化策略，还加入了一些人工智能/机器学习的策略（ANN、KNN、朴素贝叶斯），此外，还有样本外的的回测源代码、500个数学公式、900个术语定义以及和策略对应的2000篇参考文献。quantkoala：推荐一本量化宝藏书籍，内含151个量化交易策略最初是2018年8月发表在SSRN（国外公益性质的论文发布网站）上的同名论文，后来在同年年底整理成书，目前全网传播较多的是361页的论文版本，但个人感觉阅读效果较好的是480页的电子书版本，不仅标签完善，而且参考文献跳转非常顺滑，上面的文章卡片中有传送门。第二本是佩里•考夫曼的《交易系统与方法》（TradingSystemandMethods），说起这老爷子，国人可能觉得很陌生，但在量化圈子里，或多或少都听说过“考夫曼均线”，学名为“自适应移动均线”（AdaptiveMovingAverage，简称AMA），这就是他的杰作之一。quantkoala：261个策略/指标，萌新Quant群友在这本量化神作中学到的（书附源码）老爷子还是是前NASA登月科学家，在这本书当中，披露了老爷子260多个交易策略和技术指标，而且全部都有对应的源代码。这么多的量化策略和指标，够看了吧~",
        "url": "http://www.zhihu.com/api/v4/answers/2916981222",
        "comment_count": 8,
        "voteup_count": 321,
        "question_title": "http://www.zhihu.com/api/v4/questions/547896059",
        "question_url": "量化交易有哪些指标和策略？"
    },
    "2916961493": {
        "created_time": 1677675492,
        "content": "主要回答一下量化新手期经常碰到未来函数的4个坑吧，希望量化萌新们少掉头发少踩坑。新手向回答，大神请绕行~1.明显坑：使用前复权价格数据由于股票会存在分红送股的情形，价格会出现非交易回落，导致股票价格序列的不连续性，假设个股“10送10”，股价就腰斩了，双均线什么的马上就会出现“死叉”，所以为了指标计算的连续性和方便性，就会使用复权价格数据。一些量化萌新入门之前，在行情软件上一般是看前复权行情（很多股民都有这个习惯），因为前复权行情是保证现在的价格不变，根据分红送股的信息对之前的股票价格进行调整，看到现在K线的数值比较“正常”，如果是看后复权价格行情的话，很多上市时间比较长、分红送股比较多的股票后复权价格都是“成千上万”的了，不太“人性化”。酱香型科技公司的前复权价格比较符合股民习惯。后复权价格已然上万，很多人一开始不习惯也不喜欢。所以有一部分新手就会使用前复权价格数据，刚才已经说了，过去的股价数据是按照现在价格，根据分红送配的信息往过去推的，换句话来说，历史的价格数据包含了现在的信息，也就有了“未来信息”。如果是使用前复权价格数据，那最简单且收益高的量化策略就是，买上市时间早且前复权价格低的股票，回测收益率曲线保证不差。2.普通坑：当前K线出信号，当前K线成交这里特指的是：使用K线收盘价序列计算指标，出现信号后，以收盘价成交。其实这种情况已经比“最低价买入，最高价卖出”的偷价情形好很多了，除非是恶意设置，不然一般萌新凭直觉都会避免。但有时候看一些萌新的策略源码，会出现类似于“IFCrossover(MA5,MA20)THENBuy(Close，...)”（当前MA5均线上穿MA20均线时，按收盘价买入）的情形，其实这挺符合日常看盘的习惯，看到金叉死叉的时候，都会在脑子里面从当前时点开始判断之后的行情。但在量化里面，这其实也是包含了未来信息的，因为量化交易实盘是实时进行的，至少会出现以下两种不利的情况。（1）当前K线没走完，最高价就触发了金叉信号，按照最高价就买入了，可能收盘价和最高价之间就存在不小的滑点。（2）当前K线最高价可以触发金叉信号，但按照收盘价计算却触发不了金叉信号，这就造成了实盘当中能成交、回测当中无法成交的不对应情况。因此有经验的宽客一般都会设置为“当前K线出信号，下一根K线开盘价/限价成交”，例如上面的例子可以改为“IFCrossover(MA5[1],MA20[1])THENBuy(Open，...)”（根据上一根K线计算的MA5均线上穿MA20均线时，按照开盘价买入）。其实这样的设置还可能不够严谨，不过已经比之前的情形好很多了。更为严谨的是，买入价可以设为“Max(Open，LimitPrice)”（开盘价和心里目标价位的最大值），量化想做好就是要扣很多细节，路漫漫其修远兮，吾将上下而求索~3.进阶坑：无法判断最低价和最高价的出现顺序这种情况相对少见，造成的后果也比较薛定谔，举个例子来说明吧。假设一个股票/品种出现了天地板（大幅震荡同理），涨停会触发止盈，跌停会触发止损。如果是按照K线来回测的，用高低价判断是否触发止盈止损，这就要看在策略源码中，你把止损写在前头，还是把止盈写在前头，因为在这根K线上，止盈止损的条件同时都满足，谁写在前头谁就会被执行。但是在实盘当中，最高价和最低价必然有先后出场的顺序，假设先出现跌停，再出现涨停，而在代码当中是把止盈写在前头。这个时候就变相出现了未来信息，在回测当中出现了“苦尽甘来”的情况，在实盘当中要亏损10%的情况，在回测当中却盈利了10%。这个就有点儿类似于“幸存者偏差”，如同很多经典量化书籍都提到过的例子：在米国，买入困境当中的股票博反转，回测效果非常好，实盘效果却可能大相径庭，因为在早期，个股退市后数据就“消失”了，能回测到的股票都是从困境当中挺过来的幸存者，股价自然会迎来大涨，但如果在现实当中买到的是没有挺过来的不幸者，那就GG了。4.隐蔽坑：财报数据当中的未来信息这个财报当中的未来信息非常隐蔽，我初始做量化的时候也掉进过这个坑，不是自己\"粗心大意\"，而是没有经验、特别是没有财务相关知识的萌新容易掉坑。众所周知，A股上市公司的一季报、半年报、三季报和年报的披露截止时间分别在当年的4月底、8月底、10月底和次年4月底公布，一般很少有人在2021年1月就直接调用2020年报的，这个错误对普通股民都太过明显，今天要说的是比较\"隐蔽的\"。举个例子，有的童鞋就考虑到财报的延后披露，但各家上市公司的披露日期又没有规律，于是乎，在构建量化基本面模型时，就在披露截止日期的次月第一个交易日调取财报数据，比方说在2021年5月6日才调用2020年报数据。的确，这种方式能剔除绝大部分的未来信息，但是还是有些隐蔽的瑕疵，这个瑕疵的根源就是：部分公司会对之前的财报数据进行修正，最新值会替换掉旧值。举个真实的例子，某扇贝跑来跑去的上市公司XX岛由于2014、2015连续两年亏损被*ST，如果2016年再亏损就要进入退市流程了。2017年3月21日，XX岛公布了2016年的年报，净利润为7571个w，扭亏为盈，保壳成功。但在2019年7月被证监会最终查出虚增利润1.3个小目标，追溯调整后净利润为-5543个w。如果今天来回测，取到XX岛2016年的净利润就是-5543w，可以避开这个大雷，而实际上，2017年5月第一个交易日取到的净利润却是7571w，老老实实挨锤。XX岛2016年年报原始数据。如今查询到的XX岛财务数据。这种回测历史当中能取到、现实当中无法取到的财报数据，就是做基本面量化的萌新很容易掉进的坑，特别还是早期的时候。不过现在萌新们不用担心了，很多量化平台都做了非常贴心的设置，除了设定报告期外，还可以设定取数日期，只能取到在实际当中取数日期之前可见的财报数据，在取数日期之后的修正是取不到的，或者是其他落地的金融数据库，会同时存储原始财报数据和修改后的财报数据，并且有每条记录的公告日期，可以按照公告日期进行数据选择。在回测当中，要有效避免掉这些未来函数/未来信息，除了多听前人的掉坑经验外，就是彻底了解自己所用的指标、变量、模型、算法的计算流程和细节，在哪个环节上会拿到这个时点之外的未知信息，慢慢地打磨细节，这样会比较快。更多相关资料：quantkoala：为什么回测效果非常好的策略实盘却不行？quantkoala：量化回测本身就是一种过度拟合？quantkoala：推荐一本量化宝藏书籍，内含151个量化交易策略quantkoala：2022年量化文章合辑|量化投资从入门到不放弃",
        "url": "http://www.zhihu.com/api/v4/answers/2916961493",
        "comment_count": 1,
        "voteup_count": 39,
        "question_title": "http://www.zhihu.com/api/v4/questions/539717147",
        "question_url": "量化模型回测会遇到哪些坑？"
    },
    "2915407512": {
        "created_time": 1677591917,
        "content": "以前开发资金流项目时，顺道儿研究过能量潮OBV的一个改进版本WOBV，WOBV就是在原来OBV的计算细节上进行一点儿改进，更符合逻辑，构造出来的策略效果也相对好一些。先说说能量潮OBV指标的原始计算方式，它适用于股票、期货、外汇等领域，统称为“品种”吧。OBV可以被看成是一个累积量，OBV的初始值为0，在第一根Bar的时候，若价格是上涨的，OBV则加上这根Bar的成交量VOL，即OBV=VOL，若第一根Bar是下跌的，OBV就减去这根Bar的成交量VOL，即OBV=-VOL。以此类推，收盘价高于上一根Bar收盘价的话，OBV加上成交量VOL。收盘价低于上一根Bar收盘价的话，OBV减去成交量VOL。如果非得要用数学表达式明确写出来的话，那就如下表示：OBV[0]=0OBV[1]=sign(CLOSE&gt;OPEN)×VOLOBV[T]=OBV[T-1]+sign(CLOSE[T]&gt;CLOSE[T-1])×VOL[T]其中，CLOSE是收盘价，OPEN是开盘价，VOL是成交量，T表示第T时刻，T-1表示第T时刻的上一时刻。sign(x)是符号函数，当x&gt;0时，sign(x)=1；当x=0时，sign(x)=0；当x&lt;0时，sign(x)=-1。通俗地去理解OBV，它跟资金流很像，当价格上涨时，期间的成家量被认为是推动价格上涨的动力（类似于资金流当中的“流入”），因此OBV需要加上这部分成交量；当价格下跌的时候，期间成交量被认为是空方力量（类似于资金流当中的“流出”），因此OBV需要减去这部分成家量。OBV看绝对数量没有太大意义，各个品种间的OBV没有可比性，主要是看趋势走向，OBV持续走高，说明近期不断有资金流入，后市走强的概率也比较大。但OBV有一个缺陷，举个例子方便理解，假设有一根K线是巨量的十字星（假设收盘价比前一时刻收盘价高几分钱），这个时候这个巨大的成交量都被归入到OBV当中，这个是比较不符合常理的，其实K线的涨跌是多空博弈的结果，这种情况下多头只是比空头稍微强势一点点，被纳入的应该是“多头减去空头”的净流入数值。怎么去衡量多头和空头的力量之差呢？目前有一种解决方法就是“比例法”，不把单根K线上所有的成交量都包含进去，只包含其中一定的比例，这个比例就是当根K线的实体部分长度除以上影线上端到下影线下端的距离，即比例=(收盘价-开盘价)/(最高价-最低价)。由于一般情况下，当前K线开盘价跟上一根K线收盘价很接近，所以为了方便起见，用当前K线开盘价替换上一根K线收盘价，新OBV指标的计算式子表达为OBV[T]=OBV[T-1]+(CLOSE[T]-OPEN[T])/(HIGH[T]-LOW[T])×VOL[T]其中，CLOSE是收盘价，OPEN是开盘价，HIGH是最高价，LOW是最低价，VOL是成交量，T表示第T时刻，T-1表示第T时刻的上一时刻。由于“比例=(收盘价-开盘价)/(最高价-最低价)”类似于“加权(Weight)”的概念，于是乎，改进后的OBV就叫WOBV。WOBV在多数情况下要比原版OBV好用一点儿，如下图所示，在价格上涨趋势减弱，开始震荡的时候，WOBV(粗黑线)已经拐头向下走，而OBV(细蓝线)还没有明显减弱的迹象。WOBV的由来已经介绍得差不多了，就用它来构造一个小策略吧。WOBV的使用方法与OBV类似，不看绝对数值，看趋势，那趋势就用WOBV上穿/下穿WOBV均线来确定。为了提高胜率，采用策略Q01跨周期过滤的思路，在大周期上进行长期趋势的确认。于是策略的关键要素表达如下：多头开仓条件：WOBV上穿WOBV均线，并且价格在上一级别周期EMA均线之上。空头开仓条件：WOBV下穿WOBV均线，并且价格在上一级别周期EMA均线之下。出场条件：ATR跟踪止损止盈WOBV策略回测盈亏曲线如下所示。资金盈亏曲线不是很亮眼，没有45度硬刚向上那种坚挺，毕竟构建的策略很简单，只是为了测试单个WOBV指标的有效性，没有加入其他太多的指标进行辅助，抛砖引玉，有待各位大侠进行更深入的探究。回测所使用的策略源码：更多相关内容请见：quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：推荐一本量化宝藏书籍，内含151个量化交易策略quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2915407512",
        "comment_count": 2,
        "voteup_count": 37,
        "question_title": "http://www.zhihu.com/api/v4/questions/37947036",
        "question_url": "谁做过量化投资中的能量潮的回测？"
    },
    "2915392868": {
        "created_time": 1677591275,
        "content": "我觉得个人做A股量化挺靠谱的啊~可能在很多普通人的潜意识里，一提起机构就是镰刀，一提起个人就是韭菜，确实，机构相对于个人而言，会有资金人力、硬件设备和信息渠道等方面的优势，但个人量化交易者也并不是“一无是处”。君不见，大商超都存在这么久了，还有那么多小杂货铺，其中很多小店主都活得挺滋润。针是没有两头尖的，总会有大商超大厂顾及不到的地方，相对于大机构而言，个人做A股量化交易，至少还有这3个小确幸。本金小，跑得快。个人的资金量一般不是特别大（相对于机构而言），这就意味着对市场的影响比较小，咱们的交易行为对市场不会起到很大的影响，也就是冲击成本比较小。在这种情况下，开发的量化策略就倾向于更加有效，一般个人的资金不会因为个股的流动性差一点就滑点过大或成交不了，不会因为容量的限制而失效，有些小策略有正向盈利预期，但大机构也是不稀得做。这就是为啥很多高频做得好的机构，也要开始做中低频了，因为高频容量确实有限，承载不了这么多的资金。监管宽松，风险偏好灵活。风险偏好可以根据自身的需求定制，自己设定自己的盈利预期，只要法律法规允许，想买什么买什么，不像大机构很多时候，这个不能买，那个不能买，当证券价格下跌到一定程度的时候，还得立马平仓，不管这是不是黎明前的黑暗，个人就没有那么弯弯绕，“逆势死扛，再创辉煌”，你只要胆子够大眼光毒辣，机构不能碰的ST股准退市股，你都可以挨个玩一遍儿。时间和业绩限制少。无论是私募基金，还是公募基金，都是以产品形式运营的，每个产品都设有投资期限，虽然现在都全面禁止保本保收益了，但机构做不出好业绩的话，私募来年募不到钱，公募排名垫底，都是影响活计的。个人如果用闲余资金做量化交易，做得好了，可以到处嘚瑟，做不好，捂着闷声亏钱就行了，不会有投资者给你打电话寄刀片；没有交易机会可以躺平，不像一些产品有仓位限制，即使预测市场下跌了，还得买买买。刚才苦口婆心说(xia)了(bian)这3点个人量化投资者的优势，发现没有，一直都是对标着量化机构，但咱做量化交易的目标是什么呢？是一定要比量化机构更强吗？个人愚见，量化交易更多是一种投资交易的分析手段，在投资交易当中，一定要做出决策，买什么，什么时候买，买多少，就连不想决策躺平本身也是一种决策，量化交易基于金融逻辑和历史数据，发现和验证交易理念，提高决策的胜率，让交易策略趋向于正收益预期。个人做A股量化交易并不需要打败大机构，而是提高自己的盈利胜率，跑赢那些拍脑袋、靠感觉、听消息的散户就可以了。现在很多大私募，开始的时候，核心量化团队只有一两个人，也许是幸存者偏差，但不能否定个人量化的靠谱存在。其实，量化跟视频赛道很像，在过去，科班的影视团队才有专业的摄影器材，拍出好看的电影电视剧等视频，现如今由于科技的进步，手机、数码照相机进入千家万户，极大的降低了个人视频制作者的门槛，君不见小破站上有那么多有趣有料的UP主，分享着众多的优质视频。导演有好的摄像机也会拍出烂片，UP主只有手机也可以拍出受观众喜爱的vlog，第三方量化平台和开源软件的兴起，和金融数据的低价优质化，正在催生更多的个人量化交易者，个人和机构一样都可以做量化，但个人和机构是不是能做好，都是要看个人和团队的能力，小鸡不撒尿，各有各的道。更多相关内容请见：quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：推荐一本量化宝藏书籍，内含151个量化交易策略quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2915392868",
        "comment_count": 2,
        "voteup_count": 11,
        "question_title": "http://www.zhihu.com/api/v4/questions/447969837",
        "question_url": "个人做股票（A股）量化靠谱吗？"
    },
    "2913961683": {
        "created_time": 1677513086,
        "content": "是不是因为“信息茧房”的缘故啊，我在知乎里面看到A股量化的相关内容还是挺多的~那我就增加一些吧，以下是我一年多来研究过的且跟A股量化交易相关的内容，点击链接就可以查看具体的策略详情。《Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score》《ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞》《两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）》《跟踪『聪明钱』，巧用北向资金进行大盘择时》《量化萌新向ETF择时策略：当北上资金遇上布林带》《跟着“基金一哥”张坤量化选股的快乐，你想象不到！》《小市值因子已然凉凉，绩优小市值依旧狂浪》《中国版“漂亮50”量化策略》《鱼身策略懒人爱，量化内卷别乱买》《手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）》",
        "url": "http://www.zhihu.com/api/v4/answers/2913961683",
        "comment_count": 4,
        "voteup_count": 55,
        "question_title": "http://www.zhihu.com/api/v4/questions/51791767",
        "question_url": "为什么知乎上关于量化交易的话题中很少涉及中国A股？"
    },
    "2912400123": {
        "created_time": 1677426192,
        "content": "我不是大神更不是大佬，但我可以根据个人的量化学习经验，腆着脸给您推荐一条快速简洁的学习路径吧，认可的话可以参考一下，如下：投资想法-&gt;量化基础-&gt;量化平台-&gt;量化策略这是抽象的概括，下文会把每个步骤详细讲讲，这里需要确定快速入门的学习原则：适度学习，够用就行。2021版《新华字典》中，收录了13000多个汉字，而日常生活中只需要用到其中3000多个，也就是说，不用啃完编程书籍等大部头才可以开始，按常用按需学习就行。一、投资想法很多人做量化，都是因为自己有初始的投资想法，想验证正确性提高交易胜率，或想解放双手追求效率，全自动程序化盯盘交易，量化跟人工智能AI一样，都是手段，用来实现自己想要的目的，不是为了量化或AI本身而学习。有初始的投资想法，在开始学习的时候有一个好处，就是可以在学习量化时有的放矢，听到相关的知识点的时候，脑子就会在想，我想要的功能能不能这样实现。比如，你想实现均线交易策略，那么你在学习pandas模块时，听到rolling和mean函数，就会有“确认过眼神，找到对的人”的赶脚。如果在投资想法这边还是没有感觉，不介意的话可以看看我之前的文章，里面很多策略想法都是从交易书籍、研报论文和市场观察中发现的。股票&amp;ETF相关策略：《Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score》《ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞》《两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）》《跟踪『聪明钱』，巧用北向资金进行大盘择时》《量化萌新向ETF择时策略：当北上资金遇上布林带》《跟着“基金一哥”张坤量化选股的快乐，你想象不到！》《小市值因子已然凉凉，绩优小市值依旧狂浪》《中国版“漂亮50”量化策略》《鱼身策略懒人爱，量化内卷别乱买》《手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）》商品期货相关策略：《唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略》《又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略》《又来唠一个另类异质量化策略：20后的Trendflex策略》《『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略》《K线标准化结构图：构建一个趋势策略，就是那么朴实无华》《CTA策略中的Alpha：期限结构之展期收益率策略》《量化本无妙手，背后都是坚实的本手：波动率不对称性RSJ量化策略》《兄弟家量化策略很多，拿一个『波动率收敛突破策略』盘一下》《兄弟家量化策略很多，又拿一个『操盘手策略』盘一下》《动物庄园：商品期货跨品种套利策略》《量化同质越来越严重，如何保持策略的长久优势？（附异质化另类量化策略）》《唠一唠指标之王MACD的另类用法：高低形态短线量化策略》《股指期货除了无脑吃贴水之外，还有更卷的量化操作策略吗？》二、量化基础这里面主要包含两大部分，一个是量化通识，另一个是编程基础。关于量化通识，看量化故事类的书籍都可以有所了解，以前我也列过一个书单。《量化投资书单推荐（20本）》如果没有那么多时间，想快速了解量化投资的方方面面，开始的时候只看这本就够了。《萌新量化投资入门的第一本书》关于编程基础，因为不同量化平台的编程语言都不一样，这里只好拿在量化界广泛使用的Python举例。对于Python的快速学习，墙裂推荐廖雪峰老师的Python教程，不仅免费写得非常简单易懂，而且每个小节之后，都有编程互动小题目给你即时反馈，非常有趣，不用再想着自己啃完编程大部头再去编写策略，教程链接：https://www.liaoxuefeng.com/wiki/1016959663602400廖老师的教程非常详尽，连Web开发都讲了，但是再次重申咱的快速入门学习原则：不贪多，够用就行。对于量化基础而言，学到“错误、调试和测试”章节就可以了，后面等有时间再看。遗憾的是，里面没有讲到量化常用的numpy和pandas模块，这个可以在学了廖老师课程之后，再单独度娘学习一下。三、量化平台对于量化初学者而言，不建议自己搭建量化框架/平台，应该以实现量化策略为主，把数据获取清洗、回测框架搭建和对接实盘接口等工作交给专业团队打理，因此强烈建议使用现成的第三方量化平台，这里给大家推荐一些。如果你打算做股票量化交易，可以选择以下5个量化平台，在他们的官网的“帮助中心”里面，都可以找到对应的上手教程和策略模板。聚宽JoinQuant：https://www.joinquant.com优矿Uqer：https://uqer.datayes.com米筐RiceQuant：https://www.ricequant.com掘金量化：https://www.myquant.cn迅投QMT：http://www.thinktrader.net如果你打算做期货/期权/大饼的量化交易，可以选择以下5个量化平台。交易开拓者TB：http://www.tradeblazer.netvn.py：https://www.vnpy.com文华：https://www.wenhua.com.cn金字塔：https://www.weistock.comMultiCharts：https://www.multicharts.cnTB研究策略和回测什么的都是免费，只有开启实盘时才会在基础手续费上加收一些，以个人观察，现存的很多系列源码，都是以TB居多。vn.py是一款基于Python的开源量化交易系统开发框架，后来更名为VeighNa，不过大伙儿还是习惯地称之为vn.py。由知乎量化大V『用Python的交易员』开发，定位是量化交易平台，提供从交易API对接到策略自动交易的完整解决方案，对接了国内外诸多不同类型的金融市场：证券、期货、期权、外汇、数字货币等。后面三个就都是收费的了，优点就是编程相对简单一些，缺点就是贵，大家也可以去看看。四、量化策略有了编程基础，又选定了量化平台，恭喜你，你终于有能力实现自己最初的投资想法了，量化策略是投资想法的逻辑化和程序化展现。由于每个人的投资想法不尽相同，只好举一个简单的双均线交易策略为例进行描述，因为“双均线”这是一个接触到投资交易，都基本会听过的词儿，“专家”告诉你在金叉的时候买，在死叉的时候卖，那实际效果到底是怎么样的呢？在聚宽JoinQuant量化平台上，拿茅台作为交易标的，咱定义5日均线和20日均线在出现金叉的时候，第二天一开盘就全仓买入，出现死叉时，就把所有持仓全部卖出，策略代码如下。如果已经看完廖老师的前几章课程，这代码就大概能看懂七七八八了，剩下的再结合平台的API说明就能全部弄清楚了。大概的实现流程就是，在初始化函数initialize中设置了交易标的、策略参数和交易费率，以及定义了一个每天在开盘运行的函数stock_trade，并且开启了“防未来函数”功能。在stock_trade函数里面，计算昨天和前天的5日均线和20日均线，如果金叉就买入，死叉就卖出。#导入函数库fromjqdataimport*#初始化函数，设定基准等等definitialize(context):#交易的股票g.stock='600519.XSHG'#长短均线参数g.short_len=5g.long_len=20#设定沪深300作为基准set_benchmark('000300.XSHG')#开启动态复权模式(真实价格)set_option('use_real_price',True)#过滤掉order系列API产生的比error级别低的loglog.set_level('order','error')#打开防未来函数set_option('avoid_future_data',True)#股票类每笔交易时的手续费是：买入时佣金万分之三，卖出时佣金万分之三加千分之一印花税,每笔交易佣金最低扣5块钱set_order_cost(OrderCost(close_tax=0.001,open_commission=0.0003,close_commission=0.0003,min_commission=5),type='stock')#开盘时运行run_daily(stock_trade,time='open',reference_security='000300.XSHG')##开盘时运行函数defstock_trade(context):stock=g.stockshort_len=g.short_lenlong_len=g.long_len#获取股票的收盘价#当取日线数据时,不包括当天的,即使是在收盘后，没有未来data=attribute_history(stock,long_len+1,'1d',['close'])#计算双均线数据data['ma5']=data['close'].rolling(short_len).mean()data['ma20']=data['close'].rolling(long_len).mean()#昨日MA5和MA20数值ma5=data['ma5'].iloc[-1]ma20=data['ma20'].iloc[-1]#前日MA5和MA20数值pre_ma5=data['ma5'].iloc[-2]pre_ma20=data['ma20'].iloc[-2]#取得当前的可使用的资金cash=context.portfolio.available_cash#如果昨日出现金叉，则今日开盘买入if(pre_ma5&lt;pre_ma20)and(ma5&gt;ma20)and(cash&gt;0):#用所有资金买入股票order_value(stock,cash)#输出买入信息log.info(\"&gt;&gt;&gt;%s买入%d股%s\"%(str(context.current_dt),context.portfolio.positions[stock].today_amount,stock))#如果昨日出现死叉，则今日开盘全部卖出elif(pre_ma5&gt;pre_ma20)and(ma5&lt;ma20)and(stockincontext.portfolio.positions.keys()):#输出卖出信息log.info(\"&lt;&lt;&lt;%s卖出%d股%s\"%(str(context.current_dt),context.portfolio.positions[stock].total_amount,stock))#卖出所有股票,使这只股票的最终持有量为0order_target(stock,0)运行策略，就会不断输出自定义的交易信息。并且在运行过程中，收益率曲线也在不断地生成。大家觉得这个回测绩效怎么样？双均线策略算有效吗？你可以自己贴代码跑回测试试，同时再调整交易标的和双均线参数试一试，一般情况下回测很快，不需要一个东的时间。虽然我这里以JoinQuant策略为例，但所有量化平台的实现逻辑都是想通的，你只需要定义自己的函数，告诉系统“你要在什么时间？交易什么标的？交易数量是多少？”，你只要解决这3个“什么”的问题，所有的量化平台你都可以玩得转了。如果你能完全理解并且复现这个双均线策略，可以说明量化已经初步入门了，接下来要转起“正向飞轮”，实现和玩转更多策略，把多标的交易加进去，把基本面数据加进去，把滑点设置加进去，把仓位控制加进去......等你回测出心仪的策略效果，接着上模拟盘跟踪，然后就是实盘，接着就是不断迭代优化，慢慢地就变成合格宽客，最后就变成量化大神了。更多相关资料请见：quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：推荐一本量化宝藏书籍，内含151个量化交易策略quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2912400123",
        "comment_count": 2,
        "voteup_count": 47,
        "question_title": "http://www.zhihu.com/api/v4/questions/561155068",
        "question_url": "想从小白入门量化Quant交易，我需要从哪些方面开始学习？"
    },
    "2912377675": {
        "created_time": 1677425040,
        "content": "如果是小样本数据集（日线级别），在量化策略研究的时候，支持向量机SVM模型用得比较多，说一个之前做的简单例子。零.机器学习，浅尝一下机器学习和人类的思考过程非常相似，把历史数据输入到模型当中，训练出一个能完成特定任务的数学模型，等到有新的数据出现时，就把新数据输入到训练好的模型当中，这就会输出一个预测的结果，特别地，机器学习在识别非线性规律方面，相较于人脑更有优势。比如说，利用机器学习模型，预测沪深300指数第二天的涨跌情况，输入的数据就是沪深300指数的开高低收行情数据，将这些数据输入到支持向量机（SupportVectorMachine，SVM）当中进行模型训练，待SVM训练好之后，输入今天的行情数据，就能输出对第二天行情的预判。为什么选择SVM呢？因为咱这次使用的数据集是沪深300指数的日线行情数据，它自2005年上市以来，拢共才四千多个交易日，换句话说，也才四千多个样本点，相对于几百万上千万的“大数据”来说，这充其量才算一个“小样本”，这无疑是一个非常适合SVM的应用场景。因为在深度学习（一般需要大数据“投喂”）尚未全面兴起时，SVM由于其较高的小样本预测准确率，并且能够解决非线性分类问题，属于当时机器学习方法潮流圈中的扛把子。SVM很能打，但本身并不是非常复杂，今儿个不抠数学细节，大白话讲讲SVM是什么有什么用，以免没开始就把大伙儿劝退了。SVM最初的设计是用来解决二分类问题，后来扩展到多分类问题，“预测沪深300指数涨跌”就属于典型的二分类问题，“涨”是一个类别，“跌”就是另一个类别。它通过寻找一个最大间隔超平面（上图黑斜线）将两类样本线性区分开来，并且保证两侧样本的最近边缘点到这个平面的距离是最大的，由于最大间隔超平面仅取决于两个类别的边缘点，例如上图中被红线和蓝线穿过的红点和蓝点，这些点就被称为支持向量，这就是“支持向量机”名称的由来。但现实世界很奇妙，有线性可分的数据集，就有非线性可分的数据集，那遇到非线性可分的情况怎么办？那也有办法，SVM引入了核函数，可以将低维不可分的数据映射到高维线性可分，如上图，二维不可分就映射到三维，常用的核函数有线性核、多项式核、高斯核（RBF核）和Sigmoid核。但在现实当中，由于噪声和极端样本点的存在，数据集无论在低纬和高维都可能出现线性不可分的情况，于是乎，SVM当中引入了松弛变量的概念，允许了最大间隔超平面不用完美区分两个类别，允许错误分类的存在，SVM通过惩罚系数C控制这些错误分类的容忍程度，C值越高分类准确率越高，但数值过高容易导致过拟合，C值过低则会导致准确率受损。SVM唠完了，咱来说说一般机器学习建模的流程，一般分为6步走，按照先后顺序分别是收集数据、准备数据、选择/建立模型、训练模型、测试模型和调节参数。量化，没有白走的路，每一步都算数，下文咱一步一步地走一遍~一.准备数据巧妇难为无米之炊，第一步咱要获取到最原始的建模数据，对于指数的日线数据而言，有非常多的免费获取渠道，只要能获取到指数的日期（date）、开盘价（open）、最高价（high）、最低价（low）和收盘价（close）就可以了。在此处以tushare为例，获取沪深300指数自2005年4月8日上市以来的全部行情数据，它是一个免费、开源的python财经数据接口包，网址是：http://tushare.org/。导入tushare包之后，使用它的get_k_data函数，就可以获得沪深300指数的历史K线数据，返回的数据格式是dataframe，咱只选取开高低收数据，并将日期（字符串格式）设置为索引。importnumpyasnpimportpandasaspdimporttalibimportwarningswarnings.filterwarnings('ignore')importtushareastsdata=ts.get_k_data(code='hs300',start='2005-04-08',end='2022-11-08',ktype='D')data=data.set_index('date')data=data[['open','high','low','close']]print('样本数目：%d'%data.shape[0])print(data.head(10))print(45*'-')print(data.tail(10))二.数据准备有了原始数据之后，咱还要进一步进行加工和处理，主要工作是变量选择、确认标签和数据清洗。变量选择在量化投资当中叫“因子选择”，就是用哪些因子（factor）进行选股择时那些，在机器学习领域一般叫“特征选择”，指定用哪些特征（feature）来作为算法模型的输入。在这里咱用到因子分别是EMA值（ema）、价格波动率（stddev）、价格斜率（slope）、RSI值（rsi）和威廉指标值（wr），此处咱利用talib包丝滑地完成计算，它是一款量化圈驰名、彪悍强大的第三方技术分析指标计算包。data['ema']=talib.EMA(data['close'].values,timeperiod=20)data['stddev']=talib.STDDEV(data['close'].values,timeperiod=20,nbdev=1)data['slope']=talib.LINEARREG_SLOPE(data['close'].values,timeperiod=5)data['rsi']=talib.RSI(data['close'].values,timeperiod=14)data['wr']=talib.WILLR(data['high'].values,data['low'].values,data['close'].values,timeperiod=7)data.tail(10)确认标签呢，就是给这个样本点打上类别标签，由于咱是预测指数第二天的涨跌情况，于是，咱先计算出每个样本第二天的涨幅（pct），如果第二天上涨，则设置标签（rise）为1，反之为0。由于指数数据一般异常情况不是很多，如果有空值，咱把空值删除就好了。data['pct']=data['close'].shift(-1)/data['close']-1.0data['rise']=data['pct'].apply(lambdax:1ifx&gt;0else0)#删除缺失值data=data.dropna()data.tail(10)三.选择/建立模型选择/建立模型就是需要确定自己这次使用哪种机器学习模型，是支持向量机SVM呢，还是神经网络NN呢，亦或是随机森林RF呢，或者其他的模型。在之前已经说过了，咱是用SVM模型，原因和原理不再赘述，为了方(tou)便(lan)实现和建立模型，咱可以直接从Scikit-learn（简称sklearn）中导入，它是非常流行的Python免费机器学习库，具有各种分类、回归和聚类算法，一般配合numpy数据格式使用。四.训练模型在这里，咱需要把整个数据集分拆为训练集和测试集，因为除了训练模型之外，咱还要留出一部分数据来验证训练出来模型的优劣。一般来说，将完整数据集80%的样本作为训练集，剩余20%的样本作为测试集，要注意的是，这里要将dataframe中的因子数据转换成numpy的ndarray数组格式，因为这种数据类型更适配sklearn。#划分训练集和测试集num_train=round(len(data)*0.8)data_train=data.iloc[:num_train,:]data_test=data.iloc[num_train:,:]#训练集数据和标签X_train=data_train[['ema','stddev','slope','rsi','wr']].valuesy_train=data_train['rise']#测试集数据和标签X_test=data_test[['ema','stddev','slope','rsi','wr']].valuesy_test=data_test['rise']print(X_train[:10])print(45*'-')print(X_test[:10])在划分数据集之后，还有非常重要的一步，那就是对数据进行标准化处理，这是因为每个因子的数值量纲差别太大，例如指数EMA的均值是2919.6，而RSI的均值是52.7，这样会造成SVM对某些因子的“偏心”。在此处，采用“(原始值-均值)/标准差”的方法对数据进行标准化处理，处理过后，每个因子的均值都会变为0，标准差变为1.0。fromsklearn.preprocessingimportStandardScalerprint('---标准化之前---')print('训练集的均值：')print(X_train.mean(axis=0))print('训练集的标准差：')print(X_train.std(axis=0))#对数据进行标准化scaler=StandardScaler()X_train=scaler.fit_transform(X_train)X_test=scaler.transform(X_test)print('---标准化之后---')print('训练集的均值：')print(X_train.mean(axis=0))print('训练集的标准差：')print(X_train.std(axis=0))数据标准化处理之后，就可以将训练集数据输入SVM当中，代码实现很简单，从sklearn的svm模块当中导入SVM分类器SVC，创建实例对象后，将训练集因子数据和对应标签塞进fit函数就行了，SVM模型的惩罚系数使用默认值1.0，核函数也用默认的RBF核函数，训练过程非常快，不用一个东的时间，就把SVM分类器训练好了。fromsklearn.svmimportSVCclassifier=SVC(C=1.0,kernel='rbf')classifier.fit(X_train,y_train)print(classifier)五.测试模型至此，SVM分类器已经训练好了，把因子数据塞进predict函数，就能输出每个样本的预测值，咱分别把训练集和测试集的预测标签插回到原来的数据集当中，用来计算预测的准确率。y_train_pred=classifier.predict(X_train)y_test_pred=classifier.predict(X_test)data_train['pred']=y_train_preddata_test['pred']=y_test_predaccuracy_train=100*data_train[data_train.rise==data_train.pred].shape[0]/data_train.shape[0]accuracy_test=100*data_test[data_test.rise==data_test.pred].shape[0]/data_test.shape[0]print('训练集预测准确率：%.2f%%'%accuracy_train)print('测试集预测准确率：%.2f%%'%accuracy_test)输出结果：训练集预测准确率：57.52%测试集预测准确率：52.35%从结果当中看出，训练集的预测准确率明显比测试集的高，这是因为整个模型都是在训练集数据上训练出来的，对测试集数据则还很“陌生”，这就相当于高考数学考卷都是你们学校的数学老师出的，整体来看，你们的平均分就非常可能比其他同级别的学校高。光看准确率还不够直观，咱还要看一下如果纯粹按照这个择时模型的预测结果进行投资，能获得多少收益，此处只使用测试集进行模拟。假设指数可以多空交易，如果模型预测为1（上涨），第二天策略的收益率就是指数的涨幅，如果模型预测为0（下跌），第二天策略的收益率就是指数的涨幅的相反数，有了每天的日收益率之后，通过dataframe自带的累乘函数cumprod，就可以得到择时策略和沪深300指数的净值曲线，为了方(tou)便(lan)起见，不考虑交易费率，以及按照收盘价成交。importmatplotlib.pyplotasplt#策略日收益率data_test['strategy_pct']=data_test.apply(lambdax:x.pctifx.pred&gt;0else-x.pct,axis=1)#策略和沪深300的净值data_test['strategy']=(1.0+data_test['strategy_pct']).cumprod()data_test['hs300']=(1.0+data_test['pct']).cumprod()#粗略计算年化收益率annual_return=100*(pow(data_test['strategy'].iloc[-1],250/data_test.shape[0])-1.0)print('SVM沪深300指数择时策略的年化收益率：%.2f%%'%annual_return)#将索引从字符串转换为日期格式，方便展示data_test.index=pd.to_datetime(data_test.index)ax=data_test[['strategy','hs300']].plot(figsize=(16,9),color=['SteelBlue','Red'],title='SVM沪深300指数择时策略净值by量化君')plt.show()六.调节参数从上一步的测试当中看出，训练集和测试集的预测准确率只有57%和52%，不算理想，说明还有很大的提升空间，还可以对模型进行优化改进。比如说，现在使用的5个因子，还没有反应到价格波动的本质，还可以增改更多的因子。还比如说，SVM模型当中的惩罚系数C过小，对错误样本的容忍度过高，RBF核函数不适合作为这个数据集的映射转换函数。再比如说，甚至连SVM模型本身也是一个参数，也可以更改，比如说可以换成其他的机器学习分类模型。也就是说到这调节参数这一步，如果训练好的模型结果不能让自己满意，就可以重新将前5步走一遍。终于吭哧吭哧说完了，利用SVM构建量化择时策略的全流程，基于这个建模框架流程，将来的你可以玩得更花，可以采用更高频的数据、更鲁棒的模型、更多的交易标的、更有效的因子、更有趣的预测任务~~~参考资料周志华，2016年1月，书籍《机器学习》华泰金工，2017年8月，研报《人工智能选股之支持向量机模型》阿泽，2020年6月，知乎《【机器学习】支持向量机SVM（非常详细）》更多相关资料请见：quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2912377675",
        "comment_count": 1,
        "voteup_count": 90,
        "question_title": "http://www.zhihu.com/api/v4/questions/503975991",
        "question_url": "在进行量化策略研究的时候，常用的机器学习模型有哪些？"
    },
    "2907813199": {
        "created_time": 1677156699,
        "content": "之前几天，也和不少身边的朋友和群友讨论“注册制全面施行后，对量化交易有什么影响？”总结下来，主要的影响有5点，如下：纯小市值因子越来越无效打新收益下降，股指期货贴水收窄全面推行价格笼子，程序化交易优势凸显股票数目增多，基本面量化地位提高退市股票增多，注意幸存者偏差下面来逐一展开说明~这得先简单说一下什么是注册制。股票发行主要有3种制度，分别是审批制、核准制和注册制。我国A股在2001年之前，采用的是审批制，企业要想上市，除了满足各项硬性规定之外，还需要经过政府和主管部门的审批才能上市，属于上市游戏当中的地狱模式。股票发行的3种制度对比2001年之后，核准制替代审批制，企业按规定准备好各种各样的材料，经过证监会发审委充分核实材料真实准确性，过会之后就可以上市了，属于上市游戏当中的普通模式。注册制就是，企业按照要求提供材料，交易所做形式审核，不深究真实性（你敢写，别人就敢信，但欺诈的后果很严重），总体的原则就是把企业上市发行的权力，都交给市场，你满足要求想发就发，只要你发出去有人愿意买，没人愿意买就退市，这就属于上市游戏当中的新手模式了。简单来说，注册制就是企业上市的条件放宽了，上市的流程变短了，上市的效率加快了。在A股交易的沪市主板、科创板、深市主板、创业板和北交所这5大核心板块中，科创板在2019年7月开市并施行注册制，一年之后创业板也开启了注册制改革，2021年9月，北交所成立，实施的也是注册制，这次全面推行注册制就是把沪市主板和深市主板也捎带上，所以这次主要是影响沪深两市主板的股票。那结合这次全面注册制的新规，对量化交易而言有什么影响呢？先来看看在宏观政策面和交易细节面的修改，下面接着唠~全面注册制制度规则主要内容注册制新规交易层面的细节一、纯小市值因子越来越无效全面注册制实施，符合条件的企业都可以上市，也不用像以前那样长期排队，在这种企业越来越容易上市的情况下，那么上市公司的壳价值就会降低（注册一下就可以上市，谁还会去借壳），而壳价值往往在小盘股当中占比是较高的，因此小市值股票的估值必定受到不利影响，至少小盘股的估值将来必定是“去壳”之后的。将来市面上的股票多了，会逐渐出现很多不受人待见的垃圾股（类似港股里面的“仙股”），与上市发行价比可能是脚踝斩都说不定，这种股票价格越来越低，市值也越来越小，逐步进入小市值行列，如果炒到这样的小市值股票，坟头草估计比韭菜长得还快。综合这两点，纯粹的小市值因子绝大可能是越来越无效的，但绩优小市值另说。二、打新收益下降，股指期货贴水收窄在以前的核准制下，企业想上市A股有一套严格的财务要求标准，能过审上市比高考上清华还难，并且新股发行的市盈率PE值不能超过23倍，所以早期的时候，大伙儿都是无脑打新，中签就是中奖。而在科创板和创业板都实施注册制之后，市盈率要求就放开了，发行市盈率高估的股票很容易破发，一上市就跌破发行价，有段时间破发严重，网民调侃道”连亏钱都要抽签“，中签了也犹犹豫豫要不要交款，但这时主板依旧是核准制和23倍市盈率要求，依旧可以无脑打。现如今全面注册制，沪深主板上市的门槛也降低了，上市越来越容易，新股发行也会越来越多，新股不再稀缺，溢价就会降低，再叠加新股市盈率要求的放开，必定会导致新股破发率提升，打新收益明显下降，从下表中可以看出去年注册制的科创板、创业板和北交所3大板块破发率有多高，最高能到50%。我国A股近5年的破发率统计表很多做绝对收益策略和Alpha策略的量化基金，做多预期表现好的一篮子股票，做空股指期货对冲市场风险，赚取持仓股票超越对标股指的超额收益，在此期间会利用持有的市值来打新提高基金收益。如果破发率提高，打新收益率下降，那获利的空间就缩窄了，配置这些策略的意愿就会降低，配置权重也跟着降低，本来贴水就是多方支付给空方的做空成本，这下子做空需求少了，那在同等情况下，那贴水就会有所收窄。注意，这里强调是“同等情况下”，因为影响贴水的原因比较多，如后市共识强烈看多的话，贴水也会缩窄，而且还可能是升水。等贴水的缩窄幅度能弥补打新收益率的降幅时，也就是做空的成本降幅大于预期收益的降幅，估计做空需求又会起来，贴水扩大，如此动态循环往复。三、全面推行价格笼子，程序化交易优势凸显价格笼子机制，简单来说，就是在连续竞价时，买入委托挂单价不超过102%，卖出委托挂单价不低于98%，不能再像之前一样涨停价/跌停价都可以挂上去，此举主要是用来降低股价的异常波动，抑制拉抬/打压股价，也可以防止乌龙指的出现。此前科创板和创业板都已经实施价格笼子机制了，只是它俩还是有点区别。科创板采用的是“拒单模式”，超过挂单价格范围的，直接当做废单处理。创业板采用的是“缓存模式”，超过挂单价范围的，先放到交易主机缓存里面去，等到满足挂单范围时，就会激活发单。也就是说，假如现在买入基准价是10块，那买入挂单价格范围不能超过10.2元，如果你挂10.3元，在科创板直接就是无效废单，在创业板，就先给你缓存起来，万一之后到了10.1元，那这个委托单就会被从缓存池里拎出来发出去。等到注册制新规下首只主板股票上市后，就全部都按照科创板的拒单模式来，这就非常不利于开市时间没空盯盘的投资者了，以前还可以挂个涨停价/跌停价在那里等着，现在就不行了，买入还好说，看着市价合适买入就可以了，但是卖出的时候呢，不能挂一个低价在那里等止损，就需要不时地去看一下，价格是否下跌接近止损价了。相信这种窘境，券商会给配上智能单功能解决一部分不能盯盘的需求，但人工下单的效率和灵活度还是受到了限制，这时程序化交易的优势就凸显出来了，能全自动实时盯盘，紧跟实时价格灵活下单，再说手速没有机器速度快，在交易这个层面，量化交易的优势在扩大，鉴于A股的投资者结构，镰刀的光芒又耀眼了几分。四、股票数目增多，基本面量化地位提高全面注册制下，上市的股票逐渐增多，能投资的标的物就增多了，资金又不能充沛地流向所有股票，所以个股的投资难度会加大，散户的资金量少，能持有的股票数目不多，到时候选股真的是“万里挑一”了，相亲从24个里面选1个都能挑花了眼，更何况将来是从成千上万支股票里面选，散户选股难度在增加，量化机构的选股难度也同样在增加。在以前核准制严格的财务标准下，上市的好歹财务基本面都不错，现在全面注册制放宽了上市条件，同时相应的退市率也会有升高，如果还继续炒垃圾股、ST股那些，退市就欲哭无泪了。那个时候，无论是散户还是量化机构，做最基本的财务筛选还是要的吧，这时候基本面量化的作用就更加凸显了，可以用单期/多期财报数据，选出一个能令人放心安睡的基础股票池。五、退市股票增多，注意幸存者偏差全面注册制落地之后，退市制度也会完善起来，毕竟放宽了上市条件，股票数目不断增多，A股又不是貔貅，只进不出，差企业的壳又不值钱，留着也没什么用，也会加快排出去。采用注册制的美股，最近几年的退市率都在6%之上，而A股目前连1%都不到，怎么着将来也争气一点，逐渐提高到2~4%吧，也就是每年100~200支退市股的事情。我国A股退市率统计（2001~2022）我国A股退市率与其他成熟资本市场对比退市的股票多了，开发量化策略的时候就要特别注意“幸存者偏差”，有的数据库没有退市股票数据，或API里默认没开启获得退市股票数据的功能，那个时候可能就会发现，买某些之前业绩差的股票，会获得非常丰厚的收益，因为当时有一大批业绩差的股票，业绩继续恶化的就退市了，数据找不到，能找到的是业绩转好挺过来的幸存者（扭亏摘帽）。因此要小心处理退市股票的数据，特别是策略回测时，千万不要以交易时点获取上市可交易的股票列表，要以计算的序列数据的起始获取，不然就带有筛选幸存者的功能了。注册制全面推行后，对量化交易的5点影响说完了，以上内容纯属基于个人主观片面的逻(yi)辑(pai)猜(hu)想(yan)，如果预期相符，纯属运气，若预期不符打脸，只道是写文需要逻辑，现实不需要。参考资料华创证券，2023.2.6，《全面注册制：千呼万唤始出来》华西证券，2023.2.8，《衔枚疾进，全面注册制进度条拉满》光大证券，2023.2.9，《全面注册制（征求意见稿）深度解读：全面注册制的背景、改革亮点与市场影响》中泰证券，2023.2.9，《全面注册制改革对A股生态影响几何？》开源证券，2023.2.19，《全面注册制落地速度超预期，资本市场开启深化改革新时代》华泰证券，2023.2.20，《全面注册制启航，完善生态循环》更多相关资料请见：quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）93赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01174赞同·26评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2907813199",
        "comment_count": 2,
        "voteup_count": 9,
        "question_title": "http://www.zhihu.com/api/v4/questions/525059072",
        "question_url": "A股全面走向注册制，对量化有何影响？"
    },
    "2906186756": {
        "created_time": 1677070961,
        "content": "回测效果不错，但不一定代表实盘就好，至少得打个折扣，这个折扣是大是小，和回测当中的细节有非常大的关联。一、回测是否正确首先，回测效果非常好，实盘要复现出八九不离十的收益，那就要首先评估自己的回测是不是正确的。数据源、数据处理和计算方式是否正确呢？数据源是不是经过“清洗”干净了呢？停牌日期的数据是如何处理，计算MACD的时候是保留停牌日期的收盘价还是不保留，实盘的计算方式是否与之对应呢？股票原始价格有除权除息，一般会使用复权数据，如果使用了前复权数据的话，那就相当变相使用了未来数据，那实盘效果肯定要大打折扣。二、是否有未来函数其次，如果在数据源、数据处理和计算方式都正确和对应的情况下，要确保自己的策略没有引入未来函数，比如以下2种可能出现的情况。那在回测当中是否对涨跌停股票进行特殊处理呢？比如，涨停的股票无法买入，跌停的股票无法卖出。在回测当中使用的是收盘价计算策略信号，以此产生交易信号并以收盘价成交，这也是变相引入了未来函数，因为在实际当中无法知道收盘价，知道收盘价时已经收盘无法再以收盘价成交，这样相当于提前预知了收盘价。三、是否过度拟合再次，排除了未来函数的影响，就需要看看策略是否是过拟合了，过拟合也是量化策略回测当中非常容易犯的错误。假设策略本身带有4个可调节参数，假设每个参数有10个可能的值，那这个策略就可能有10000种参数组合，通过对4个参数的参数寻优，人性的贪婪往往只会选择其中看起来效果最好的参数，有可能这组参数恰好是参数平面上的孤岛。要排除这方面的过拟合，最少要做一个参数敏感性分析吧。四、真实交易环境的限制最后，经过重重的检查，保证回测的正确性和准确性，让实盘效果大打折扣的原因就是真实交易环境的限制。例如策略是趋势策略抓突破，股价可能处在一种快速上涨的过程当中，在回测当中能成交的价格，在实际交易当中由于行情延迟和流动性等因素的影响，要以更高的价格成交，产生非常大的滑点，削弱了收益。还有就是，回测当中的数据是“死的”，而在实盘当中数据是“活的”，自己的交易行为会反作用于市场，把股价推向更高位置，也会产生大滑点，这就是量化中常说的“冲击成本”。资金量不大，又是活跃股的话，这段就当我没说过，掐了吧。五、策略失效最后的最后，那就是咱都不想面对的情况了——策略失效。每一个策略都是有周期的，雷总说“站在风口上，猪都会飞”，当风停了之后，策略处在失效回撤期，磨人的时间开始了。回测没有错，策略也没有错，只是老天爷不赏饭吃了，“此天之亡我，非战之罪也”，收拾好心情，收拾好行囊，重新出发，优化改进让策略重新焕发生机活力。对了，别问我是怎么知道的~~~很多东西听起来都是很轻松，听过了也就过了，唯有真金白银的损失才会让自己回想反思，还是那句话说的好嘛，“人教人，教不会，事教人，一次就够了”。更多相关资料请见：quantkoala：年化收益577倍的量化策略，没有未来函数，却有这个致命Bugquantkoala：答应我，在量化策略回测里，避开未来函数这4个坑quantkoala：量化回测本身就是一种过度拟合？quantkoala：个人做量化交易一定不靠谱？quantkoala：2022年量化文章合辑|量化投资从入门到不放弃",
        "url": "http://www.zhihu.com/api/v4/answers/2906186756",
        "comment_count": 2,
        "voteup_count": 24,
        "question_title": "http://www.zhihu.com/api/v4/questions/582342709",
        "question_url": "量化投资的回测往往不错，但是实盘如何呢？"
    },
    "2906159440": {
        "created_time": 1677069815,
        "content": "我之前对chatGPT的选股能力做过一次测试，结论是“官方chatGPT选不了，镜像chatGPT选不好”，用来炒股的后果不一定是是凶多吉少，但应该不是很稳，以下请看测试的完整流程~因为之前老听说chatGPT能顶替一大堆职业工作，作为一名宽客（Quant），就也想看看是不是也把量化投资从业者的工作来顶替了，于是就想先测试一下这家伙的选股能力这么样。因为chatGPT的算法模型非常烧钱，训练一次的综合成本就要几百上千万美元，所以训练数据集就不会是每天增量迭代更新的，简单来说，chatGPT是一个“离线版本”，不是“实时版本”，在模型训练完成后的事情肯定是不知道的，咱就让它预测之后发生的事情，就知道它的预测的能力怎么样了。经过多次询问，chatGPT的训练集数据截止到2021年，确切是哪个日期就死活不肯说了，那咱就只好“想当然”认为是2021年12月31日了。这家伙不会说谎吧？慎重一点，巧妙试探一下，问一下它“是否知道俄罗斯和乌克兰爆发战争了”，虽然给了肯定的回复，但它知道的最近一场战争是发生在2014年，这说明它肯定不知道2022年的事情，这就放心了。那就让它给咱选股票，开上帝视角来验证一下它的选股能力，WTF，神奇的事情发生了，它死活不肯选股，在它眼前挂萝卜都没用。经过查阅资料得知，chatGPT是美国人工智能研究实验室OpenAI基于GPT-3.5（GenerativePre-Training，生成式预训练模型）生成的，较上一代版本有一个明显的改进就是，OpenAI提高了它的“安全性”，特别是禁止恐怖主义、暴力毒品、种族仇恨等言论相关的回应，看来投资这一块儿也被波及了，不让直接回应，开始慢慢吞吞说片汤话了。那只好往前倒了，看来要找到安全性低、警惕性不高的chatGPT才行了，这时就想到了OpenAI提供的GPT-3的API接口，简单来说，chatGPT=GPT-3改进优化+chat场景属性，如果说chatGPT是promax版本的话，那GPT-3就是semini版了，用人话不严谨来说就是，GPT-3是低配丐版chatGPT。来源：国泰君安《ChatGPT研究框架（2023）》国内的chatGPT镜像站刚好用的就是这个GPT-3接口（OpenAI还没有公开chatGPT的API接口），因为chatGPT在国内还不提供服务，要使用的话需要爬梯子和国外手机号接收注册验证码，非常滴麻烦，为方便国人使用，有些服务商就建立了chatGPT相关公众号/小程序给国人使用，接收用户的提问，然后调用这个接口，再把结果返回给用户，由于这0.5代之差，造成了很多人觉得国内的镜像站比官方chatGPT要笨一些。笨一些就笨一些，总比新版不能用强啊，于是找了一个能用这个接口的chatGPT镜像站（下文统称为“chatGPT(镜像)”），先来确认一下训练数据集的截止日期，是2020年12月31日，连2021年的数据都没用上，没事儿，不妨碍做选股能力验证。顺道儿核实一下有木有撒谎~于是我就问它：从2020年12月31日到2023年2月10日，中国A股未来涨幅最大的3支股票是什么？果真还是年轻同志实诚，一点都不来弯弯绕，一点都不扭捏，直接就给出了回复，这3支股票分别是中国平安、万科A和招商银行。到底选的股票咋样，把这3支股票和基准沪深300指数的收益曲线画出来对比一下，这里面只有招商银行跑赢了基准，其余两个都跑输了，如果期初等权买入并持有，最终收益率是-26.89%，沪深300指数期间收益率是-21.20%，连同期基准都没有跑赢。结果看上去令人失望啊，扩大到10支股票看看，它给咱选出了：中国平安、万科A、招商银行、中国石油、中国移动、浦发银行、建设银行、中国银行、中国建筑和中国人寿。统计一下期间的每支股票的收益率，看上去还行，除了top1和top2拉胯之外，后面的3~10名都跑赢了基准，相当于选股胜率是80%，如果当初等权买入并持有，最终收益率是1.46%，想对基准大概有20%出头的收益。细心的小伙伴可能发现了，在回复当中出现了股票名称和股票代码不对应的情况，中国石油括号中的代码是600028，而600028是中国石化的代码，中国石油的代码是601857，同样地，中国移动括号里的代码是00941，而00941是港股的代码，在A股的代码应该是600941（在提问当中已经强调了是“中国A股”）。中国移动是在2022年1月5日在A股上市的，如果要剔除新股的影响，剩余9支股票的最终收益率是-2.96%，也是大幅跑赢基准。看到股票名称和股票代码不对应的情况，这让我想到chatGPT是美国公司开发的模型，是一个老外模型，大部分数据应该都是英文语料，虽说是中国通吧，但应该更熟悉美股。于是，针对美股进行提问，选3支未来涨幅最大的股票，于是它回复了苹果、微软和谷歌这3支股票。忽然一想，不对哦，提问美股，应该是要用英文提问，于是将中文转为英文。还好，选出来的还是这3支美股，将它们和基准标普500指数的走势画出来，除了谷歌小幅跑输标普500外，其余2支股票都跑赢了基准，如果期初等权买入并持有，最终收益率是14.80%，标普500指数期间收益率是8.90%，大概跑赢6%。照例扩展到10支美股，它给咱选出了：苹果、微软、谷歌、亚马逊、特斯拉、英特尔、英伟达、美国银行、IBM和高盛。统计一下期间的每个美股的收益率，10支股票里有6支股票跑赢了基准，相当于选股胜率是60%，如果当初等权买入并持有，最终收益率是10.23%，只是略微跑赢了基准，都不到2%的超额收益。综合选股胜率和超额收益率，如果选3支股票，chatGPT(镜像)选股能力是美股好于A股，如果选10支股票，则是A股好于美股。其实无论是A股还是美股，chatGPT(镜像)在这次试验中的选股能力表现，并没有大家想象的那么厉害，其中股票收益率最高能达到60%，但是也有大跌40%的股票，收益率最终都没能狂飙起来，可惜了~最根本的原因，是因为GPT/chatGPT只是一个自然语言处理模型，一般只处理文本数据，例如文章、新闻、问答等，一般知名度、热度、讨论度越高的公司，模型可能就认为是越好，简单来说，GPT/chatGPT选股只参考了舆情层面，没有考虑到基本面和量价层面，因此会有偏颇，就如同炒股不能只看消息面。而且，一般越大涨的股票，讨论度和热度就越高，模型就可能认为是越好，越容易被选出来，追高挂旗杆的风险往往更大。因此，就目前来看，chatGPT的直接选股能力是缺陷比较大的，chatGPT官方选不了，chatGPT镜像站选不好，直接用来炒股的后果还是比较凶险。更多相关资料请见：quantkoala：在天朝A股，抄底和摸顶，哪个更加困难？quantkoala：MACD的默认参数为什么是12、26、9，现如今该如何设置？quantkoala：注册制全面推行后，对量化交易的5点影响quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：2022年量化文章合辑|量化投资从入门到不放弃",
        "url": "http://www.zhihu.com/api/v4/answers/2906159440",
        "comment_count": 16,
        "voteup_count": 49,
        "question_title": "http://www.zhihu.com/api/v4/questions/583294100",
        "question_url": "我打算用chatGPT来炒股是否可行？只需硬着头皮跟着chatGPT的建议来执行，应该会稳！？"
    },
    "2898556701": {
        "created_time": 1676648269,
        "content": "用到数理统计当中的『均值』：quantkoala：2个量化小技巧，双均线策略盈亏比从1.2提升到1.9（大神请绕行）用到数理统计当中的『均值』和『标准差』：quantkoala：动物庄园：商品期货跨品种套利策略用到数学当中的『多项式拟合』：quantkoala：基于低阶多项式拟合的日内趋势策略用到高中数学当中的『导数』：quantkoala：『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略用到高中数学当中的『概率密度』：quantkoala：探索利用价格概率密度函数，构建趋势突破策略用到高中数学当中的『最小二乘法』：quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）用到高等数学当中的『优化方法』：quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）还有很多数学和统计模型在策略当中的应用隐藏在这里：quantkoala：推荐一本量化宝藏书籍，内含151个量化交易策略",
        "url": "http://www.zhihu.com/api/v4/answers/2898556701",
        "comment_count": 1,
        "voteup_count": 42,
        "question_title": "http://www.zhihu.com/api/v4/questions/339286737",
        "question_url": "期货量化CTA策略中，一般会用到哪些数学和统计模型？"
    },
    "2896674568": {
        "created_time": 1676551778,
        "content": "既然题主是刚入职量化交易员，那就给你推荐量化相关的书单吧，一共20本，根据个人习惯，由浅入深，将它们分为5大类。第一类是科普&amp;故事类，顾名思义，主要是帮量化小白迅速了解量化&amp;宽客是什么，有个大体的感觉，偏故事向。第二类是股票量化类，主要讲了在股票量化领域有什么经典的策略，如何构建、实现和回测。第三类是期货量化类，讲的是期货量化的经典策略，大部分是趋势策略（例如海龟策略），也有套利策略。第四类就是期权量化类，一般书籍里面都是先科普一下期权是什么，然后就各种字母，接着就各种跨式、蝶式，最后我想把它归到失眠系列类。第五类就是失眠系列类，不是这类书让人失眠，而是适合失眠的时候看，例如那本量化红宝书，新手初看会觉得特别枯燥，公式繁多，助眠效果极佳。一、科普&amp;故事类01.《打开量化投资的黑箱》作者:里什·纳兰豆瓣评分：7.4出版时间:2012-3内容简介：作者是一位基金经理，在书中他站在一个非纯粹技术性的视角介绍了量化交易策略，用生动的文笔带领大家游历整个“黑箱”。涉猎了很多金融界丰富的真实案例和市场趣闻，描绘了华尔街的数量金融奇才们是如何工作的。02.《解读量化投资：西蒙斯用公式打败市场的故事》作者:忻海豆瓣评分：7.2出版时间:2010-1内容简介：作者用轻松、幽默的讲故事手法，解读了西蒙斯量化投资“黑箱”之内的秘密，带我们走近20年中平均每年总回报为80％的大奖章基金，看看它如何能将1万元变成1亿元。03.《宽客：华尔街顶级数量金融大师的另类人生》作者:斯科特·帕特森豆瓣评分：8.0出版时间:2011-7内容简介：这是一本讲述华尔街顶级数量金融大师的另类人生的书。背景是2007年金融危机爆发以后，作者对量化基金经理和顶尖经济学及金融学学者的各种采访。04.《宽客人生:华尔街的数量金融大师》作者:伊曼纽尔·德曼豆瓣评分：8.0出版时间:2007-7内容简介：作者本人就是华尔街的顶级宽客，至今仍享盛名，他分析了物理学与金融学之间的关联和不同，讲述了许多物理学巨匠和金融学大师的故事。05.《高频交易》作者：艾琳·奥尔德里奇豆瓣评分：7.8出版时间：2011-6内容简介：本书作者站在专业的高度，用平实的语言和丰富的图表，带我们走进量化投资的黑匣子，向我们展示了这台复杂的“金融仪器”是如何运作的。06.《高频交易员:华尔街的速度游戏》作者：迈克尔•刘易斯豆瓣评分：7.8出版时间:2015-5内容简介：本书作者其他著名的著作还有《说谎者的扑克牌》和《大空头》，本书叙事偏水浒风，人物逐个出场，背景丰满，性格突出，然后构建完整个拼图，结局有一抹亮色。二、股票量化07.《量化投资——策略与技术》作者：丁鹏豆瓣评分：6.5出版时间:2014-9内容简介：你可以把此书认为是金融工程研报的合订本，内含60多个案例，主要分为策略篇与理论篇两部分。策略篇主要包括：量化选股、量化择时、股指期货套利、商品期货套利、统计套利、期权套利、算法交易和资产配置等。理论篇主要包括：人工智能、数据挖掘、小波分析、支持向量机、分形理论、随机过程及IT技术等。08.《量化交易:如何建立自己的算法交易事业》作者：欧内斯特·陈豆瓣评分：7.5出版时间:2014-1内容简介：此书虽薄，但内容涵盖交易策略的发展、回测检验、风险管理、编程实现、交易系统研发和算法交易运行等关键领域，作者带你一步一步建立起一个最佳量化框架。09.《量化投资策略:如何实现超额收益Alpha》作者：理查德·托托里罗豆瓣评分：7.6出版时间:2013-5内容简介：作者在书中详尽地测试了超过1200种投资策略，归纳了七个投资维度：盈利性、估值、现金流、成长性、资产配置、价格动量以及危险信号，并告诉你如何有效结合单个投资因子或组件因子，如何构建多因子策略，从而构建更全面的选股模型。10.《量化投资：以Python为工具》作者：蔡立耑豆瓣评分：6.7出版时间:2017-2内容简介：主要讲解量化投资的思想和策略，并借助Python语言进行实战。首先对Python编程语言进行介绍；然后，向读者介绍量化投资的理论知识，主要讲解量化投资所需的数量基础和类型等方面；最后讲述如何在Python语言中构建量化投资策略。三、期货量化11.《海龟交易法则》作者：柯蒂斯·费思豆瓣评分：8.6出版时间:2013-5内容简介：伟大的期货交易者究竟是天生的，还是可以后天培养的？丹尼斯和埃克哈为此开始了一项试验，参与者被称为“海龟”。此书的内容就是关于这些海龟的：海龟们如何做交易，如何把握交易时机；海龟们如何衡量风险，如何管理资金；海龟们如何获得超过100%的年均回报率；为什么有些海龟大获成功，有些却赔个精光；如何将海龟交易法则运用于你自己的交易中；12.《期货市场计算机分析指南》作者：查尔斯·勒博豆瓣评分：7.9出版时间:2012-4内容简介：本书原版较老，主要讲解美国80年代各种技术指标的运用，内含了作者几十年的功力。13.《期货市场完全指南:技术分析、交易系统、基本面分析、期权、利差和交易原则》作者：杰克·施瓦格豆瓣评分：7.7出版时间:2017-11内容简介：本书侧重于商品期货市场价格预测，是目前全面的关于基本面分析和技术面分析的期货著作，内容涵盖期货、期权、分析、利差等。14.《统计套利》作者：安德鲁·波尔豆瓣评分：6.6出版时间:2011-1内容简介：本书论述了统计套利的历史，也诠释了统计套利如何运作的方式，以及为什么管用的原因，就是翻译让人吐槽~四、期权量化15.《期权投资策略》作者：劳伦斯G.麦克米伦豆瓣评分：7.9出版时间:2010-1内容简介：本书可认为是期权交易策略大全，包含全面的期权交易工具与各种策略方法。涵盖数百种经过时间与市场考验的交易技巧，承受最低的风险，实现既定的投资目标。16.《波动率交易：期权量化交易员指南》作者：尤安·辛克莱豆瓣评分：9.0出版时间:2017-5内容简介：本书梳理了基础的期权定价、波动率度量、对冲、资金管理以及交易评估等内容，并开发了基于布莱克-斯科尔斯-默顿的量化模型去度量波动率，这适用于几乎所有类型的金融工具。17.《波动率微笑:宽客大师教你建模》作者：伊曼纽尔·德曼豆瓣评分：9.1出版时间:2018-1内容简介：本书公式繁多，需要较强数学功底，绝对是一本期权量化的好书，但总想将其归为失眠系列。五、失眠系列18.《主动投资组合管理:创造高收益并控制风险的量化投资方法》作者：理查德C.格林诺德豆瓣评分：8.7出版时间:2014-9内容简介：本书以其数学上的严谨性和内容上的系统性成为量化组合投资领域的权威之作。该书描述了一套创新的方法：寻找资产收益率原始信号，将它们转化为精炼预测，以及根据这些预测构建具有超常收益率和最小风险的投资组合，即持续战胜市场的投资组合。公式多，助眠！19.《QuantitativeEquityPortfolioManagement:ModernTechniquesandApplications》作者：EdwardE.Qian豆瓣评分：8.9出版时间:2007-5内容简介：本书可以被看成对《主动投资组合管理:创造高收益并控制风险的量化投资方法》的补充。20.《QuantitativeEquityPortfolioManagement:AnActiveApproachtoPortfolioConstructionandManagement》作者：LudwigBChincarini豆瓣评分：8.0出版时间:2006-7内容简介：本书比较偏学术风格，主要讲factormodel，与《主动投资组合管理:创造高收益并控制风险的量化投资方法》相辅相成。更多相关内容：quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：推荐一本量化宝藏书籍，内含151个量化交易策略quantkoala：261个策略/指标，萌新Quant群友在这本量化神作中学到的（书附源码）quantkoala：萌新量化投资入门的第一本书quantkoala：猜谜答案揭晓&amp;推荐一本“揭秘”全球最赚钱量化基金的书籍",
        "url": "http://www.zhihu.com/api/v4/answers/2896674568",
        "comment_count": 3,
        "voteup_count": 168,
        "question_title": "http://www.zhihu.com/api/v4/questions/449875063",
        "question_url": "大佬们，有适合量化交易员看的书单推荐吗?"
    },
    "2896661013": {
        "created_time": 1676551175,
        "content": "十本书太多，就先说一本量化宝藏书籍吧，其中涵盖了股票、期货、期权、外汇、加密货币、ETF等投资领域的151个交易策略。这本书就跟鹿鼎记里面韦小宝刚入会时，陈近南交给他那本武功秘籍一样，只是一堆绝世武功秘籍的目录，可惜目前这本接近500页的书籍，还没有引进国内，都是全英文版本，需要静下心来慢慢才能读下去。“这一本只是绝世武功的目录，那一堆才是绝世武功的秘籍”这本书就是ZuraKakushadze的《151TradingStrategies》，最初是2018年8月发表在SSRN（国外公益性质的论文发布网站）上的同名论文，后来在同年年底整理成书，目前全网传播较多的是361页的论文版本，但个人感觉阅读效果较好的是480页的电子书版本，不仅标签完善，而且参考文献跳转非常顺滑，文末有传送门。说起ZuraKakushadze，很多人觉得很陌生，但是一说起他就是《101FormulaicAlphas》（坊间俗称“Alpha101”）的作者，是不是就觉得熟悉了一些，牛人一如既往都是牛人，101个Alpha因子已经很多了，又搞出了151个策略。这本巨作当中包含了横跨股票、期货、期权、外汇、加密货币、ETF等多个投资领域的151个交易策略，其中不仅有传统的量化策略，还加入了一些人工智能/机器学习的策略（ANN、KNN、朴素贝叶斯），此外，还有样本外的的回测源代码、500个数学公式、900个术语定义以及和策略对应的2000篇参考文献。正是由于此书内容如此繁多，而且非母语，要初心耐心静心才能在其中徜徉。书中内容的组织形式是，每一个小节对应一个量化策略，开头会三言两语引入策略，然后概括出核心规则/公式，最后给出策略的构建方法，其间会穿插很多参考文献，告诉你策略idea的来源和为什么这样设置，所以很多人说这本书只是一个目录，那2000个参考文献才是本体。下面还是举个具体的例子来说明吧，请翻到书中第41页（PDF的第57页）的3.1小节“Strategy:Price-Momentum”，这里主要讲述股票的价格动量策略。其中给出了股票累计收益率R_cum、平均收益率R_mean和风险调整平均收益率R_risk.adj的计算公式，用这些公式可以衡量股票的动量，价格动量策略的构建就是按动量大小降序排列（也就是数值越大越靠前），做多高动量的分组，同时做空低动量的分组。在阅读的过程中，点击蓝色的参考文献引用，就可以直接跳转到对应的参考文献信息，如果想了解更多的策略细节，就可以下载阅读这些参考文献，这就是我建议看电子书版的原因，看论文版的需要自己在附录当中手动查找，相当费神。到这里就说得七七八八了，大伙儿此刻应该有了一个轮廓性的了解，依然想看的朋友可在GZH后台回复暗号：zura，就可以保存下载了，论文版和电子书版都有，enjoy~",
        "url": "http://www.zhihu.com/api/v4/answers/2896661013",
        "comment_count": 0,
        "voteup_count": 5,
        "question_title": "http://www.zhihu.com/api/v4/questions/23857983",
        "question_url": "近十年量化交易领域最重要的十本参考书是哪些？"
    },
    "2896613646": {
        "created_time": 1676548994,
        "content": "之前复现过这个JohnEhlers大神的一个策略，其中头一步就是利用数字信号处理（DSP）技术对价格时序序列去噪（SuperSmoother低通滤波），用在国内的品种上效果还可以，下面可以展开唠一唠。这是在交易杂志《股票与商品技术分析》（《TechnicalAnalysisofStocksandCommodities》，业内简称“S&amp;C”）上，约翰•埃勒斯（JohnF.Ehlers）在2020年2月刊文章《Reflex:ANewZero-LagIndicator》当中提出的两个指标，分别是Reflex和Trendflex。咱先来唠唠这个Reflex~先说第一个指标为啥叫这名儿。纯粹因为作者曾经也爱好玩弓耍箭，这个指标构造出来也很像一张弓，reflex在英文里就是“反曲弓”的意思，这是一种弓箭类型，与直拉弓相对，在复仇者联盟里面，鹰眼使用的就是一张反曲弓，于是乎，老约翰拍大腿觉得这名儿酷毙了，让他回想起那青葱的岁月，连文章的配图也是一张拉满弦的弓。原文：Inamedthisnewindicator“reflex”becauseIusedtobeanarcher,andthecreationoftheindicatorremindedmeofabowandarrow.Reflexisakindofbowwithacoolname.扯过闲篇儿，正儿八经说说Reflex这个指标怎么构造吧，跟把大象塞进冰箱流程一个样，总共分3步走。Step1：首先对原始价格序列进行平滑处理，采用的是SuperSmoother过滤器。老约翰也是漂亮国量化界当中的翘楚了，非常善于用数字信号处理（DSP）技术对证券价格序列去伪存真，咱可以把SuperSmoother当成是一个低通滤波器就可以了，”过滤高频噪声，保留低频趋势“。他在2014年1月刊的文章《PredictiveAndSuccessfulIndicators》披露过SuperSmoother的计算细节，并通过试验证明SuperSmoother的去噪效果，比传统的指数移动均线EMA要好了不止一丢丢。Step2：从当前点位到N个周期的点位画一条直线，计算价格曲线上的点到直线上距离，然后计算出它们的平均值，记为S。学过微积分的小伙伴都清楚，这个将距离汇总的过程，就类似于积分求面积，跟我以前说的『K线面积交易法』很像，对总面积求均值，就相当于是求每个点到直线的平均距离。Step3：然后计算平均距离S平方的指数移动平滑值MS，最后将平均距离S除以平滑值的平方根，MS平滑的意图就是保证分母每日变化不要过大。T日MS=0.04*S*S+0.96*T-1日MSReflex=S/sqrt(MS)文章当中公布的Reflex完整版源码如下，量化平台是TradeStation，配套的编程语言是EasyLanguage，从名字就可以看出来，这款编程语言soeasy，TS平台在国外用的人还是很多的，之前介绍过的量化书籍，里面的指标和策略也都是基于这个平台。Reflex指标画出来的效果如下，当价格从低点上升的过程中，Reflex值是逐渐变大的，但是过了临界点之后，即使是价格仍处在上涨趋势当中，Reflex值也会变小，这个临界点的判断，简单来说，就是在step2当中，与N个周期前那个点的连线，是否和K线围成了更大的面积。了解完Reflex之后，弄清楚Trendflex那就是很简单的事情了，因为Trendflex是Reflex的兄弟版本，它们之间计算是相似的，最大的差别就在step2中平均距离的计算上，也就是红框当中的代码。Reflex是在当前点跟N周期之前的点连一条直线，而Trendflex是直接以当前点的价位画一条直线，从step2的计算细节来说，一般情况下，Trendflex的直线会与价格序列之间围出来更大的面积，而且直线的前N个点都是当前价位，随着价格的持续上涨，相对来说面积的变化程度没有Reflex那么大，特别是过了临界点之后，对趋势的保留更为明显。Trendflex指标画出来的效果如下，通过跟Reflex对比，可以看出，Trendflex在过了Reflex的临界点后，指标数值还是会随着价格上涨而增大，并且在之后会维持一个较为高位的数值。不过针没有两头尖的，有利就有弊，Trendflex相对来说比Reflex滞后。由于Trendflex对趋势的衡量较优，所以在股票期货和大饼圈等领域，使用Trendflex的人会相对多一点。老约翰在文章中只是详细阐明了这两个指标的来龙去脉，但没有说具体用法，各路宽客也只好八仙过海，各显神通了，没有先天约束，想怎么用就怎么用。我就举个用法栗子，说个策略大伙儿参考一下，从Trendflex与价格走势图可以看出来，在上涨阶段，Trendflex在上涨初期，数值是随着价格上涨不断增大的，但上涨的中后段数值可能是不升反降；下跌阶段也是如此，在下跌初期，Trendflex数值是随着价格下跌不断减小，但下跌的中后段数值可能是不降反升。因此，Trendflex非常适合作为趋势初期的捕捉指标，在Trendflex创区间新高时做多，创区间新低时做空，出场咱就使用动态止盈止损就可以了。新鲜的食材，往往只需要(chun)简(cui)单(shi)的(xiang)做(tou)法(lan)，咱就拿期货市场上，经常被折腾的小(R)白(B)鼠测试一下，净值曲线如下。PS：本策略源码已分享至『量化藏经阁』和『量化藏经阁Max』社群内，群友请在社群量化兵器库原路径中自取。看上去不是很惊艳，不是那种45度斜向上稳稳的曲线，但作为单品种单周期的朴素粗线条策略，我在上面还是看到了很多待挖掘的可能性，留待各位大神探索。更多量化相关资料请见：quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：推荐一本量化宝藏书籍，内含151个量化交易策略quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）",
        "url": "http://www.zhihu.com/api/v4/answers/2896613646",
        "comment_count": 6,
        "voteup_count": 296,
        "question_title": "http://www.zhihu.com/api/v4/questions/286764690",
        "question_url": "有没有用数字信号处理的方法做量化交易策略的？"
    },
    "2894979459": {
        "created_time": 1676465070,
        "content": "对于没有编程基础的量化萌新，如果想快速入门，马上能开发一个量化策略进行回测，我劝你先别买一本本的Python编程书来看，不然看着看着就昏昏欲睡了，从快速入门到马上放弃。这个很正常，这的确很无趣，因为这只是为了学习而学习，记住了很多知识，却感觉无法落地。就跟很多国人从小学到大学学了十几年的英语一样，记住语法单词只是为了考试，觉得很无趣，要是说你附近有一群漂亮的外国妹子，你要用英语去勾搭她们，是不是就来劲了。一开始，你只能一个一个单词往外蹦，什么\"helllo\"啊，什么\"welcome\"啊，什么\"beautiful\"啊，可能一个主谓宾的整句都说不了，加上肢体语言，不妨碍你们的大体沟通。跟她们混久了，听着相互之间的沟通，慢慢就会短句了，再过久一些，不仅长句复合句会了，连口语发音味道儿都正了。你瞧瞧，同样是学英语，为什么一个是无趣至极，一个是相当来劲呢，他们之间的差别主要在哪里？我个人觉得主要是两点：一是目的动机，二是即时反馈。高效率做事讲究\"以终为始\"，要紧扣目标，不要走弯路跑偏了，以考试为目的，notcool，因为大部分人感觉自己都是被动应付考试，勾搭妹子，verycool，因为你觉得自己在做一件自己认可且有趣的事情。你以提高考试分数作为学习目标，但是努力学习到分数明显提高之间有非常大的时间间隔，也就是你要在这段长时间里面忍受无趣，而跟外国友人学英语，学了马上就能用，别人提了一个新词儿\"pretty\"，你转头就能对妹子说\"youlooksoprettytoday\"，换来莞尔一笑，也就是这种即时反馈，将无趣碎片化了，从忍受变为享受。用高大上的话来说就是\"正向飞轮\"，在这个学习的过程中，你学了一个知识点，然后学以致用完成了一件小事儿，完成这个行为给你带来了满足感和正反馈，激励你乐乐呵呵学新的知识点，如此反复循环，像滚雪球一样，滚着滚着你就不知不觉入门了。那学量化交易也是如此，首先要想清楚自己为什么要学量化。是看到媒体宣传量化对冲基金赚钱，自己也想从事该行业？看到身边有人学习量化交易，自己也想学习一下？自己有投资想法，想形成交易系统，并用量化分析方法验证其准确性？自己已经有稳定的盈利系统，想解放双手和坚持纪律性，用程序化自动交易？学量化的动机和目的是什么都可以，关键是看自己的渴望掌握这项技能的程度，为自己的学习赋予自己认可的意义。比如说，你学量化纯粹是为了赚钱，入门量化需要学100个知识点，你预计将来可以提高交易胜率，多赚或少亏10w，这样一个知识点就相当于多赚或少亏1000块钱，这样一换算，是不是学习动力就足一点了。学习量化，为了投资赚钱可以，为了谈资装X也可以，为了勾搭宽客也可以，只要自己足够认可足够渴求就可以了，这样咱就能保持着未来燎原的星星之火。接下来，最重要的就是营造能有即时正反馈的学习过程，形成正向飞轮，入门量化就跟滑滑梯似的。上面都是虚头巴脑的大道理，都是自己浅薄的想法，以下正式唠唠具体的快速学习路径：投资想法-&gt;量化基础-&gt;量化平台-&gt;量化策略这是抽象的概括，下文会把每个步骤详细讲讲，这里需要确定快速入门的学习原则：适度学习，够用就行。2021版《新华字典》中，收录了13000多个汉字，而日常生活中只需要用到其中3000多个，也就是说，不用啃完编程书籍等大部头才可以开始，按常用按需学习就行。一、投资想法很多人做量化，都是因为自己有初始的投资想法，想验证正确性提高交易胜率，或想解放双手追求效率，全自动程序化盯盘交易，量化跟人工智能AI一样，都是手段，用来实现自己想要的目的，不是为了量化或AI本身而学习。有初始的投资想法，在开始学习的时候有一个好处，就是可以在学习量化时有的放矢，听到相关的知识点的时候，脑子就会在想，我想要的功能能不能这样实现。比如，你想实现均线交易策略，那么你在学习pandas模块时，听到rolling和mean函数，就会有“确认过眼神，找到对的人”的赶脚。如果在投资想法这边还是没有感觉，不介意的话可以看看我之前的文章，里面很多策略想法都是从交易书籍、研报论文和市场观察中发现的。股票&amp;ETF相关策略：《手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）》《Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score》《ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞》《两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）》《跟踪『聪明钱』，巧用北向资金进行大盘择时》《量化萌新向ETF择时策略：当北上资金遇上布林带》《跟着“基金一哥”张坤量化选股的快乐，你想象不到！》《小市值因子已然凉凉，绩优小市值依旧狂浪》《中国版“漂亮50”量化策略》《鱼身策略懒人爱，量化内卷别乱买》《手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）》商品期货相关策略：《唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略》《又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略》《又来唠一个另类异质量化策略：20后的Trendflex策略》《『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略》《K线标准化结构图：构建一个趋势策略，就是那么朴实无华》《CTA策略中的Alpha：期限结构之展期收益率策略》《量化本无妙手，背后都是坚实的本手：波动率不对称性RSJ量化策略》《兄弟家量化策略很多，拿一个『波动率收敛突破策略』盘一下》《兄弟家量化策略很多，又拿一个『操盘手策略』盘一下》《动物庄园：商品期货跨品种套利策略》《量化同质越来越严重，如何保持策略的长久优势？（附异质化另类量化策略）》《唠一唠指标之王MACD的另类用法：高低形态短线量化策略》《股指期货除了无脑吃贴水之外，还有更卷的量化操作策略吗？》二、量化基础这里面主要包含两大部分，一个是量化通识，另一个是编程基础。关于量化通识，看量化故事类的书籍都可以有所了解，以前我也列过一个书单。《量化投资书单推荐（20本）》如果没有那么多时间，想快速了解量化投资的方方面面，开始的时候只看这本就够了。《萌新量化投资入门的第一本书》关于编程基础，因为不同量化平台的编程语言都不一样，这里只好拿在量化界广泛使用的Python举例。对于Python的快速学习，墙裂推荐廖雪峰老师的Python教程，不仅免费写得非常简单易懂，而且每个小节之后，都有编程互动小题目给你即时反馈，非常有趣，不用再想着自己啃完编程大部头再去编写策略，教程链接：https://www.liaoxuefeng.com/wiki/1016959663602400廖老师的教程非常详尽，连Web开发都讲了，但是再次重申咱的快速入门学习原则：不贪多，够用就行。对于量化基础而言，学到“错误、调试和测试”章节就可以了，后面等有时间再看。遗憾的是，里面没有讲到量化常用的numpy和pandas模块，这个可以在学了廖老师课程之后，再单独度娘学习一下。三、量化平台对于量化初学者而言，不建议自己搭建量化框架/平台，应该以实现量化策略为主，把数据获取清洗、回测框架搭建和对接实盘接口等工作交给专业团队打理，因此强烈建议使用现成的第三方量化平台，这里给大家推荐一些Python量化平台，以下几个量化平台，在他们的官网的“帮助中心”里面，都可以找到对应的上手教程和策略模板。聚宽JoinQuant：https://www.joinquant.com优矿Uqer：https://uqer.datayes.com米筐RiceQuant：https://www.ricequant.com掘金量化：https://www.myquant.cn迅投QMT：http://www.thinktrader.netvn.py：https://www.vnpy.com四、量化策略有了编程基础，又选定了量化平台，恭喜你，你终于有能力实现自己最初的投资想法了，量化策略是投资想法的逻辑化和程序化展现。由于每个人的投资想法不尽相同，只好举一个简单的双均线交易策略为例进行描述，因为“双均线”这是一个接触到投资交易，都基本会听过的词儿，“专家”告诉你在金叉的时候买，在死叉的时候卖，那实际效果到底是怎么样的呢？在聚宽JoinQuant量化平台上，拿茅台作为交易标的，咱定义5日均线和20日均线在出现金叉的时候，第二天一开盘就全仓买入，出现死叉时，就把所有持仓全部卖出，策略代码如下。如果已经看完廖老师的前几章课程，这代码就大概能看懂七七八八了，剩下的再结合平台的API说明就能全部弄清楚了。大概的实现流程就是，在初始化函数initialize中设置了交易标的、策略参数和交易费率，以及定义了一个每天在开盘运行的函数stock_trade，并且开启了“防未来函数”功能。在stock_trade函数里面，计算昨天和前天的5日均线和20日均线，如果金叉就买入，死叉就卖出。#导入函数库fromjqdataimport*#初始化函数，设定基准等等definitialize(context):#交易的股票g.stock='600519.XSHG'#长短均线参数g.short_len=5g.long_len=20#设定沪深300作为基准set_benchmark('000300.XSHG')#开启动态复权模式(真实价格)set_option('use_real_price',True)#过滤掉order系列API产生的比error级别低的loglog.set_level('order','error')#打开防未来函数set_option('avoid_future_data',True)#股票类每笔交易时的手续费是：买入时佣金万分之三，卖出时佣金万分之三加千分之一印花税,每笔交易佣金最低扣5块钱set_order_cost(OrderCost(close_tax=0.001,open_commission=0.0003,close_commission=0.0003,min_commission=5),type='stock')#开盘时运行run_daily(stock_trade,time='open',reference_security='000300.XSHG')##开盘时运行函数defstock_trade(context):stock=g.stockshort_len=g.short_lenlong_len=g.long_len#获取股票的收盘价#当取日线数据时,不包括当天的,即使是在收盘后，没有未来data=attribute_history(stock,long_len+1,'1d',['close'])#计算双均线数据data['ma5']=data['close'].rolling(short_len).mean()data['ma20']=data['close'].rolling(long_len).mean()#昨日MA5和MA20数值ma5=data['ma5'].iloc[-1]ma20=data['ma20'].iloc[-1]#前日MA5和MA20数值pre_ma5=data['ma5'].iloc[-2]pre_ma20=data['ma20'].iloc[-2]#取得当前的可使用的资金cash=context.portfolio.available_cash#如果昨日出现金叉，则今日开盘买入if(pre_ma5&lt;pre_ma20)and(ma5&gt;ma20)and(cash&gt;0):#用所有资金买入股票order_value(stock,cash)#输出买入信息log.info(\"&gt;&gt;&gt;%s买入%d股%s\"%(str(context.current_dt),context.portfolio.positions[stock].today_amount,stock))#如果昨日出现死叉，则今日开盘全部卖出elif(pre_ma5&gt;pre_ma20)and(ma5&lt;ma20)and(stockincontext.portfolio.positions.keys()):#输出卖出信息log.info(\"&lt;&lt;&lt;%s卖出%d股%s\"%(str(context.current_dt),context.portfolio.positions[stock].total_amount,stock))#卖出所有股票,使这只股票的最终持有量为0order_target(stock,0)运行策略，就会不断输出自定义的交易信息。并且在运行过程中，收益率曲线也在不断地生成。虽然我这里以JoinQuant策略为例，但所有量化平台的实现逻辑都是想通的，你只需要定义自己的函数，告诉系统“你要在什么时间？交易什么标的？交易数量是多少？”，你只要解决这3个“什么”的问题，所有的量化平台你都可以玩得转了。如果你能完全理解并且复现这个双均线策略，可以说明量化已经初步入门了，接下来要转起“正向飞轮”，实现和玩转更多策略，把多标的交易加进去，把基本面数据加进去，把滑点设置加进去，把仓位控制加进去......等你回测出心仪的策略效果，接着上模拟盘跟踪，然后就是实盘，接着就是不断迭代优化，慢慢地就变成合格宽客，最后就变成量化大神了。量化入门，早成大神！！！更多量化相关资料请见：quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略",
        "url": "http://www.zhihu.com/api/v4/answers/2894979459",
        "comment_count": 6,
        "voteup_count": 29,
        "question_title": "http://www.zhihu.com/api/v4/questions/48614524",
        "question_url": "从零开始学python，想做一个量化策略的回测，请问怎样可以快速上手？"
    },
    "2894954007": {
        "created_time": 1676463941,
        "content": "以下是我近一年多以来研究过的量化策略，已经按大概的类别划分一一列举出来，点击链接就可以查看策略大致原理/思想。股票&amp;ETF相关策略：《萌新量化投资入门的第一个策略，仅用Excel便可完成~》《手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）》《Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score》《ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞》《两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）》《跟踪『聪明钱』，巧用北向资金进行大盘择时》《量化萌新向ETF择时策略：当北上资金遇上布林带》《跟着“基金一哥”张坤量化选股的快乐，你想象不到！》《小市值因子已然凉凉，绩优小市值依旧狂浪》《中国版“漂亮50”量化策略》《鱼身策略懒人爱，量化内卷别乱买》商品期货相关策略：《唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略》《又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略》《又来唠一个另类异质量化策略：20后的Trendflex策略》《『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略》《K线标准化结构图：构建一个趋势策略，就是那么朴实无华》《CTA策略中的Alpha：期限结构之展期收益率策略》《量化本无妙手，背后都是坚实的本手：波动率不对称性RSJ量化策略》《兄弟家量化策略很多，拿一个『波动率收敛突破策略』盘一下》《兄弟家量化策略很多，又拿一个『操盘手策略』盘一下》《动物庄园：商品期货跨品种套利策略》《量化同质越来越严重，如何保持策略的长久优势？（附异质化另类量化策略）》《唠一唠指标之王MACD的另类用法：高低形态短线量化策略》《股指期货除了无脑吃贴水之外，还有更卷的量化操作策略吗？》",
        "url": "http://www.zhihu.com/api/v4/answers/2894954007",
        "comment_count": 0,
        "voteup_count": 91,
        "question_title": "http://www.zhihu.com/api/v4/questions/557569603",
        "question_url": "你们研究过的量化策略有哪些？"
    },
    "2894943417": {
        "created_time": 1676463461,
        "content": "我不是大神，但以前用过机器学习方法做过指数择时，择时的效果要比buy&amp;hold要好一些，今天得空，可以唠唠当时的整个开发全流程。零.机器学习，浅尝一下人类发现规律一般采用的是归纳演绎法，对观察到的大量现象进行归纳，在心中形成规律，然后再遇到类似的情况，就可以迅速做出预测和判断，比如说“朝霞不出门，晚霞行千里”、“瑞雪兆丰年”、“狗打喷嚏天要晴”，这都是老祖先归纳演绎法的结晶，可能不是每回都灵验。机器学习和人类的思考过程非常相似，把历史数据输入到模型当中，训练出一个能完成特定任务的数学模型，等到有新的数据出现时，就把新数据输入到训练好的模型当中，这就会输出一个预测的结果，特别地，机器学习在识别非线性规律方面，相较于人脑更有优势。具体结合开发目标进行说明，目标就是利用机器学习模型，预测沪深300指数第二天的涨跌情况，输入的数据就是沪深300指数的开高低收行情数据，将这些数据输入到支持向量机（SupportVectorMachine，SVM）当中进行模型训练，待SVM训练好之后，输入今天的行情数据，就能输出对第二天行情的预判。为什么选择SVM呢？因为咱这次使用的数据集是沪深300指数的日线行情数据，它自2005年上市以来，拢共才四千多个交易日，换句话说，也才四千多个样本点，相对于几百万上千万的“大数据”来说，这充其量才算一个“小样本”，这无疑是一个非常适合SVM的应用场景。因为在深度学习（一般需要大数据“投喂”）尚未全面兴起时，SVM由于其较高的小样本预测准确率，并且能够解决非线性分类问题，属于当时机器学习方法潮流圈中的扛把子。SVM很能打，但本身并不是非常复杂，今儿个不抠数学细节，大白话讲讲SVM是什么有什么用，以免没开始就把大伙儿劝退了。SVM最初的设计是用来解决二分类问题，后来扩展到多分类问题，“预测沪深300指数涨跌”就属于典型的二分类问题，“涨”是一个类别，“跌”就是另一个类别。它通过寻找一个最大间隔超平面（上图黑斜线）将两类样本线性区分开来，并且保证两侧样本的最近边缘点到这个平面的距离是最大的，由于最大间隔超平面仅取决于两个类别的边缘点，例如上图中被红线和蓝线穿过的红点和蓝点，这些点就被称为支持向量，这就是“支持向量机”名称的由来。但现实世界很奇妙，有线性可分的数据集，就有非线性可分的数据集，那遇到非线性可分的情况怎么办？那也有办法，SVM引入了核函数，可以将低维不可分的数据映射到高维线性可分，如上图，二维不可分就映射到三维，常用的核函数有线性核、多项式核、高斯核（RBF核）和Sigmoid核。但在现实当中，由于噪声和极端样本点的存在，数据集无论在低纬和高维都可能出现线性不可分的情况，于是乎，SVM当中引入了松弛变量的概念，允许了最大间隔超平面不用完美区分两个类别，允许错误分类的存在，SVM通过惩罚系数C控制这些错误分类的容忍程度，C值越高分类准确率越高，但数值过高容易导致过拟合，C值过低则会导致准确率受损。SVM唠完了，咱来说说一般机器学习建模的流程，一般分为6步走，按照先后顺序分别是收集数据、准备数据、选择/建立模型、训练模型、测试模型和调节参数。量化，没有白走的路，每一步都算数，下文咱一步一步地走一遍~一.准备数据巧妇难为无米之炊，第一步咱要获取到最原始的建模数据，对于指数的日线数据而言，有非常多的免费获取渠道，只要能获取到指数的日期（date）、开盘价（open）、最高价（high）、最低价（low）和收盘价（close）就可以了。在此处以tushare为例，获取沪深300指数自2005年4月8日上市以来的全部行情数据，它是一个免费、开源的python财经数据接口包，网址是：http://tushare.org/。导入tushare包之后，使用它的get_k_data函数，就可以获得沪深300指数的历史K线数据，返回的数据格式是dataframe，咱只选取开高低收数据，并将日期（字符串格式）设置为索引。importnumpyasnpimportpandasaspdimporttalibimportwarningswarnings.filterwarnings('ignore')importtushareastsdata=ts.get_k_data(code='hs300',start='2005-04-08',end='2022-11-08',ktype='D')data=data.set_index('date')data=data[['open','high','low','close']]print('样本数目：%d'%data.shape[0])print(data.head(10))print(45*'-')print(data.tail(10))二.数据准备有了原始数据之后，咱还要进一步进行加工和处理，主要工作是变量选择、确认标签和数据清洗。变量选择在量化投资当中叫“因子选择”，就是用哪些因子（factor）进行选股择时那些，在机器学习领域一般叫“特征选择”，指定用哪些特征（feature）来作为算法模型的输入。在这里咱用到因子分别是EMA值（ema）、价格波动率（stddev）、价格斜率（slope）、RSI值（rsi）和威廉指标值（wr），此处咱利用talib包丝滑地完成计算，它是一款量化圈驰名、彪悍强大的第三方技术分析指标计算包。data['ema']=talib.EMA(data['close'].values,timeperiod=20)data['stddev']=talib.STDDEV(data['close'].values,timeperiod=20,nbdev=1)data['slope']=talib.LINEARREG_SLOPE(data['close'].values,timeperiod=5)data['rsi']=talib.RSI(data['close'].values,timeperiod=14)data['wr']=talib.WILLR(data['high'].values,data['low'].values,data['close'].values,timeperiod=7)data.tail(10)确认标签呢，就是给这个样本点打上类别标签，由于咱是预测指数第二天的涨跌情况，于是，咱先计算出每个样本第二天的涨幅（pct），如果第二天上涨，则设置标签（rise）为1，反之为0。由于指数数据一般异常情况不是很多，如果有空值，咱把空值删除就好了。data['pct']=data['close'].shift(-1)/data['close']-1.0data['rise']=data['pct'].apply(lambdax:1ifx&gt;0else0)#删除缺失值data=data.dropna()data.tail(10)三.选择/建立模型选择/建立模型就是需要确定自己这次使用哪种机器学习模型，是支持向量机SVM呢，还是神经网络NN呢，亦或是随机森林RF呢，或者其他的模型。在之前已经说过了，咱是用SVM模型，原因和原理不再赘述，为了方(tou)便(lan)实现和建立模型，咱可以直接从Scikit-learn（简称sklearn）中导入，它是非常流行的Python免费机器学习库，具有各种分类、回归和聚类算法，一般配合numpy数据格式使用。四.训练模型在这里，咱需要把整个数据集分拆为训练集和测试集，因为除了训练模型之外，咱还要留出一部分数据来验证训练出来模型的优劣。一般来说，将完整数据集80%的样本作为训练集，剩余20%的样本作为测试集，要注意的是，这里要将dataframe中的因子数据转换成numpy的ndarray数组格式，因为这种数据类型更适配sklearn。#划分训练集和测试集num_train=round(len(data)*0.8)data_train=data.iloc[:num_train,:]data_test=data.iloc[num_train:,:]#训练集数据和标签X_train=data_train[['ema','stddev','slope','rsi','wr']].valuesy_train=data_train['rise']#测试集数据和标签X_test=data_test[['ema','stddev','slope','rsi','wr']].valuesy_test=data_test['rise']print(X_train[:10])print(45*'-')print(X_test[:10])在划分数据集之后，还有非常重要的一步，那就是对数据进行标准化处理，这是因为每个因子的数值量纲差别太大，例如指数EMA的均值是2919.6，而RSI的均值是52.7，这样会造成SVM对某些因子的“偏心”。在此处，采用“(原始值-均值)/标准差”的方法对数据进行标准化处理，处理过后，每个因子的均值都会变为0，标准差变为1.0。fromsklearn.preprocessingimportStandardScalerprint('---标准化之前---')print('训练集的均值：')print(X_train.mean(axis=0))print('训练集的标准差：')print(X_train.std(axis=0))#对数据进行标准化scaler=StandardScaler()X_train=scaler.fit_transform(X_train)X_test=scaler.transform(X_test)print('---标准化之后---')print('训练集的均值：')print(X_train.mean(axis=0))print('训练集的标准差：')print(X_train.std(axis=0))数据标准化处理之后，就可以将训练集数据输入SVM当中，代码实现很简单，从sklearn的svm模块当中导入SVM分类器SVC，创建实例对象后，将训练集因子数据和对应标签塞进fit函数就行了，SVM模型的惩罚系数使用默认值1.0，核函数也用默认的RBF核函数，训练过程非常快，不用一个东的时间，就把SVM分类器训练好了。fromsklearn.svmimportSVCclassifier=SVC(C=1.0,kernel='rbf')classifier.fit(X_train,y_train)print(classifier)五.测试模型至此，SVM分类器已经训练好了，把因子数据塞进predict函数，就能输出每个样本的预测值，咱分别把训练集和测试集的预测标签插回到原来的数据集当中，用来计算预测的准确率。y_train_pred=classifier.predict(X_train)y_test_pred=classifier.predict(X_test)data_train['pred']=y_train_preddata_test['pred']=y_test_predaccuracy_train=100*data_train[data_train.rise==data_train.pred].shape[0]/data_train.shape[0]accuracy_test=100*data_test[data_test.rise==data_test.pred].shape[0]/data_test.shape[0]print('训练集预测准确率：%.2f%%'%accuracy_train)print('测试集预测准确率：%.2f%%'%accuracy_test)输出结果：训练集预测准确率：57.52%测试集预测准确率：52.35%从结果当中看出，训练集的预测准确率明显比测试集的高，这是因为整个模型都是在训练集数据上训练出来的，对测试集数据则还很“陌生”，这就相当于高考数学考卷都是你们学校的数学老师出的，整体来看，你们的平均分就非常可能比其他同级别的学校高。光看准确率还不够直观，咱还要看一下如果纯粹按照这个择时模型的预测结果进行投资，能获得多少收益，此处只使用测试集进行模拟。假设指数可以多空交易，如果模型预测为1（上涨），第二天策略的收益率就是指数的涨幅，如果模型预测为0（下跌），第二天策略的收益率就是指数的涨幅的相反数，有了每天的日收益率之后，通过dataframe自带的累乘函数cumprod，就可以得到择时策略和沪深300指数的净值曲线，为了方(tou)便(lan)起见，不考虑交易费率，以及按照收盘价成交。importmatplotlib.pyplotasplt#策略日收益率data_test['strategy_pct']=data_test.apply(lambdax:x.pctifx.pred&gt;0else-x.pct,axis=1)#策略和沪深300的净值data_test['strategy']=(1.0+data_test['strategy_pct']).cumprod()data_test['hs300']=(1.0+data_test['pct']).cumprod()#粗略计算年化收益率annual_return=100*(pow(data_test['strategy'].iloc[-1],250/data_test.shape[0])-1.0)print('SVM沪深300指数择时策略的年化收益率：%.2f%%'%annual_return)#将索引从字符串转换为日期格式，方便展示data_test.index=pd.to_datetime(data_test.index)ax=data_test[['strategy','hs300']].plot(figsize=(16,9),color=['SteelBlue','Red'],title='SVM沪深300指数择时策略净值by量化君')plt.show()六.调节参数从上一步的测试当中看出，训练集和测试集的预测准确率只有57%和52%，不算理想，说明还有很大的提升空间，还可以对模型进行优化改进。比如说，现在使用的5个因子，还没有反应到价格波动的本质，还可以增改更多的因子。还比如说，SVM模型当中的惩罚系数C过小，对错误样本的容忍度过高，RBF核函数不适合作为这个数据集的映射转换函数。再比如说，甚至连SVM模型本身也是一个参数，也可以更改，比如说可以换成其他的机器学习分类模型。也就是说到这调节参数这一步，如果训练好的模型结果不能让自己满意，就可以重新将前5步走一遍。终于吭哧吭哧讲完了，利用机器学习构建量化择时策略的全流程，相信大伙儿对机器学习相关概念和建模流程也有了初步的了解，基于这个建模框架流程，将来的你也可以玩得更花，可以采用更高频的数据、更鲁棒的模型、更多的交易标的、更有效的因子、更有趣的预测任务，以及~~~遇见更好的自己。参考资料周志华，2016年1月，书籍《机器学习》华泰金工，2017年8月，研报《人工智能选股之支持向量机模型》阿泽，2020年6月，知乎《【机器学习】支持向量机SVM（非常详细）》更多量化相关资料请见：quantkoala：2022年量化文章合辑|量化投资从入门到不放弃quantkoala：小白快速入门量化交易的推荐自学路径quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章quantkoala：探索利用价格概率密度函数，构建趋势突破策略quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略",
        "url": "http://www.zhihu.com/api/v4/answers/2894943417",
        "comment_count": 12,
        "voteup_count": 42,
        "question_title": "http://www.zhihu.com/api/v4/questions/38835490",
        "question_url": "请问有没有哪位大神使用机器学习方法进行量化策略的回测，结果怎么样？"
    },
    "2885271457": {
        "created_time": 1675953809,
        "content": "根据自己学习量化交易的实际经历，唠唠一些浅薄的想法，小白如果想快速入门量化交易的话，推荐的学习路径如下，共分为4个步骤。投资想法-&gt;量化基础-&gt;量化平台-&gt;量化策略这里是抽象的概括，下文会把每个步骤详细讲讲，这里需要确定快速入门的学习原则：适度学习，够用就行。2021版《新华字典》中，收录了13000多个汉字，而日常生活中只需要用到其中3000多个，也就是说，不用啃完编程书籍等大部头才可以开始，按常用按需学习就行。一、投资想法很多人做量化，都是因为自己有初始的投资想法，想验证正确性提高交易胜率，或想解放双手追求效率，全自动程序化盯盘交易，量化跟人工智能AI一样，都是手段，用来实现自己想要的目的，不是为了量化或AI本身而学习。有初始的投资想法，在开始学习的时候有一个好处，就是可以在学习量化时有的放矢，听到相关的知识点的时候，脑子就会在想，我想要的功能能不能这样实现。比如，你想实现均线交易策略，那么你在学习pandas模块时，听到rolling和mean函数，就会有“确认过眼神，找到对的人”的赶脚。如果在投资想法这边还是没有感觉，不介意的话可以看看我之前的文章，里面很多策略想法都是从交易书籍、研报论文和市场观察中发现的。股票&amp;ETF相关策略：《手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）》《Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score》《ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞》《两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）》《跟踪『聪明钱』，巧用北向资金进行大盘择时》《量化萌新向ETF择时策略：当北上资金遇上布林带》《跟着“基金一哥”张坤量化选股的快乐，你想象不到！》《小市值因子已然凉凉，绩优小市值依旧狂浪》《中国版“漂亮50”量化策略》《鱼身策略懒人爱，量化内卷别乱买》《手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）》商品期货相关策略：《唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略》《又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略》《又来唠一个另类异质量化策略：20后的Trendflex策略》《『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略》《K线标准化结构图：构建一个趋势策略，就是那么朴实无华》《CTA策略中的Alpha：期限结构之展期收益率策略》《量化本无妙手，背后都是坚实的本手：波动率不对称性RSJ量化策略》《兄弟家量化策略很多，拿一个『波动率收敛突破策略』盘一下》《兄弟家量化策略很多，又拿一个『操盘手策略』盘一下》《动物庄园：商品期货跨品种套利策略》《量化同质越来越严重，如何保持策略的长久优势？（附异质化另类量化策略）》《唠一唠指标之王MACD的另类用法：高低形态短线量化策略》《股指期货除了无脑吃贴水之外，还有更卷的量化操作策略吗？》二、量化基础这里面主要包含两大部分，一个是量化通识，另一个是编程基础。关于量化通识，看量化故事类的书籍都可以有所了解，以前我也列过一个书单。《量化投资书单推荐（20本）》如果没有那么多时间，想快速了解量化投资的方方面面，开始的时候只看这本就够了。《萌新量化投资入门的第一本书》关于编程基础，因为不同量化平台的编程语言都不一样，这里只好拿在量化界广泛使用的Python举例。对于Python的快速学习，墙裂推荐廖雪峰老师的Python教程，不仅免费写得非常简单易懂，而且每个小节之后，都有编程互动小题目给你即时反馈，非常有趣，不用再想着自己啃完编程大部头再去编写策略，教程链接：https://www.liaoxuefeng.com/wiki/1016959663602400廖老师的教程非常详尽，连Web开发都讲了，但是再次重申咱的快速入门学习原则：不贪多，够用就行。对于量化基础而言，学到“错误、调试和测试”章节就可以了，后面等有时间再看。遗憾的是，里面没有讲到量化常用的numpy和pandas模块，这个可以在学了廖老师课程之后，再单独度娘学习一下。三、量化平台对于量化初学者而言，不建议自己搭建量化框架/平台，应该以实现量化策略为主，把数据获取清洗、回测框架搭建和对接实盘接口等工作交给专业团队打理，因此强烈建议使用现成的第三方量化平台，这里给大家推荐一些。如果你打算做股票量化交易，可以选择以下5个量化平台，在他们的官网的“帮助中心”里面，都可以找到对应的上手教程和策略模板。聚宽JoinQuant：https://www.joinquant.com优矿Uqer：https://uqer.datayes.com米筐RiceQuant：https://www.ricequant.com掘金量化：https://www.myquant.cn迅投QMT：http://www.thinktrader.net如果你打算做期货/期权/大饼的量化交易，可以选择以下5个量化平台。交易开拓者TB：http://www.tradeblazer.netvn.py：https://www.vnpy.com文华：https://www.wenhua.com.cn金字塔：https://www.weistock.comMultiCharts：https://www.multicharts.cnTB研究策略和回测什么的都是免费，只有开启实盘时才会在基础手续费上加收一些，以个人观察，现存的CTA策略很多系列源码，都是以TB居多。vn.py是一款基于Python的开源量化交易系统开发框架，后来更名为VeighNa，不过大伙儿还是习惯地称之为vn.py。由知乎量化大V『用Python的交易员』开发，定位是量化交易平台，提供从交易API对接到策略自动交易的完整解决方案，对接了国内外诸多不同类型的金融市场：证券、期货、期权、外汇、数字货币等。后面三个就都是收费的了，优点就是编程相对简单一些，缺点就是贵，大家也可以去看看。四、量化策略有了编程基础，又选定了量化平台，恭喜你，你终于有能力实现自己最初的投资想法了，量化策略是投资想法的逻辑化和程序化展现。由于每个人的投资想法不尽相同，只好举一个简单的双均线交易策略为例进行描述，因为“双均线”这是一个接触到投资交易，都基本会听过的词儿，“专家”告诉你在金叉的时候买，在死叉的时候卖，那实际效果到底是怎么样的呢？在聚宽JoinQuant量化平台上，拿茅台作为交易标的，咱定义5日均线和20日均线在出现金叉的时候，第二天一开盘就全仓买入，出现死叉时，就把所有持仓全部卖出，策略代码如下。如果已经看完廖老师的前几章课程，这代码就大概能看懂七七八八了，剩下的再结合平台的API说明就能全部弄清楚了。大概的实现流程就是，在初始化函数initialize中设置了交易标的、策略参数和交易费率，以及定义了一个每天在开盘运行的函数stock_trade，并且开启了“防未来函数”功能。在stock_trade函数里面，计算昨天和前天的5日均线和20日均线，如果金叉就买入，死叉就卖出。#导入函数库fromjqdataimport*#初始化函数，设定基准等等definitialize(context):#交易的股票g.stock='600519.XSHG'#长短均线参数g.short_len=5g.long_len=20#设定沪深300作为基准set_benchmark('000300.XSHG')#开启动态复权模式(真实价格)set_option('use_real_price',True)#过滤掉order系列API产生的比error级别低的loglog.set_level('order','error')#打开防未来函数set_option('avoid_future_data',True)#股票类每笔交易时的手续费是：买入时佣金万分之三，卖出时佣金万分之三加千分之一印花税,每笔交易佣金最低扣5块钱set_order_cost(OrderCost(close_tax=0.001,open_commission=0.0003,close_commission=0.0003,min_commission=5),type='stock')#开盘时运行run_daily(stock_trade,time='open',reference_security='000300.XSHG')##开盘时运行函数defstock_trade(context):stock=g.stockshort_len=g.short_lenlong_len=g.long_len#获取股票的收盘价#当取日线数据时,不包括当天的,即使是在收盘后，没有未来data=attribute_history(stock,long_len+1,'1d',['close'])#计算双均线数据data['ma5']=data['close'].rolling(short_len).mean()data['ma20']=data['close'].rolling(long_len).mean()#昨日MA5和MA20数值ma5=data['ma5'].iloc[-1]ma20=data['ma20'].iloc[-1]#前日MA5和MA20数值pre_ma5=data['ma5'].iloc[-2]pre_ma20=data['ma20'].iloc[-2]#取得当前的可使用的资金cash=context.portfolio.available_cash#如果昨日出现金叉，则今日开盘买入if(pre_ma5&lt;pre_ma20)and(ma5&gt;ma20)and(cash&gt;0):#用所有资金买入股票order_value(stock,cash)#输出买入信息log.info(\"&gt;&gt;&gt;%s买入%d股%s\"%(str(context.current_dt),context.portfolio.positions[stock].today_amount,stock))#如果昨日出现死叉，则今日开盘全部卖出elif(pre_ma5&gt;pre_ma20)and(ma5&lt;ma20)and(stockincontext.portfolio.positions.keys()):#输出卖出信息log.info(\"&lt;&lt;&lt;%s卖出%d股%s\"%(str(context.current_dt),context.portfolio.positions[stock].total_amount,stock))#卖出所有股票,使这只股票的最终持有量为0order_target(stock,0)运行策略，就会不断输出自定义的交易信息。并且在运行过程中，收益率曲线也在不断地生成。大家觉得这个回测绩效怎么样？双均线策略算有效吗？你可以自己贴代码跑回测试试，同时再调整交易标的和双均线参数试一试，一般情况下回测很快，不需要一个东的时间。虽然我这里以JoinQuant策略为例，但所有量化平台的实现逻辑都是想通的，你只需要定义自己的函数，告诉系统“你要在什么时间？交易什么标的？交易数量是多少？”，你只要解决这3个“什么”的问题，所有的量化平台你都可以玩得转了。如果你能完全理解并且复现这个双均线策略，可以说明量化已经初步入门了，接下来要转起“正向飞轮”，实现和玩转更多策略，把多标的交易加进去，把基本面数据加进去，把滑点设置加进去，把仓位控制加进去......等你回测出心仪的策略效果，接着上模拟盘跟踪，然后就是实盘，接着就是不断迭代优化，慢慢地就变成合格宽客，最后就变成量化大神了。2023，量化入门，早成大神！！！更多相关内容请见：quantkoala：2022年量化文章合辑|量化投资从入门到不放弃",
        "url": "http://www.zhihu.com/api/v4/answers/2885271457",
        "comment_count": 1,
        "voteup_count": 41,
        "question_title": "http://www.zhihu.com/api/v4/questions/22211032",
        "question_url": "学习量化交易如何入门？"
    },
    "2880196234": {
        "created_time": 1675699699,
        "content": "既然是去量化投资公司实习，那我给你推荐20本量化投资的相关书籍吧，根据个人习惯，由浅入深，将它们分为5大类。第一类是科普&amp;故事类，顾名思义，主要是帮量化小白迅速了解量化&amp;宽客是什么，有个大体的感觉，偏故事向。第二类是股票量化类，主要讲了在股票量化领域有什么经典的策略，如何构建、实现和回测。第三类是期货量化类，讲的是期货量化的经典策略，大部分是趋势策略（例如海龟策略），也有套利策略。第四类就是期权量化类，一般书籍里面都是先科普一下期权是什么，然后就各种字母，接着就各种跨式、蝶式，最后我想把它归到失眠系列类。第五类就是失眠系列类，不是这类书让人失眠，而是适合失眠的时候看，例如那本量化红宝书，新手初看会觉得特别枯燥，公式繁多，助眠效果极佳。一、科普&amp;故事类01.《打开量化投资的黑箱》作者:里什·纳兰豆瓣评分：7.4出版时间:2012-3内容简介：作者是一位基金经理，在书中他站在一个非纯粹技术性的视角介绍了量化交易策略，用生动的文笔带领大家游历整个“黑箱”。涉猎了很多金融界丰富的真实案例和市场趣闻，描绘了华尔街的数量金融奇才们是如何工作的。02.《解读量化投资：西蒙斯用公式打败市场的故事》作者:忻海豆瓣评分：7.2出版时间:2010-1内容简介：作者用轻松、幽默的讲故事手法，解读了西蒙斯量化投资“黑箱”之内的秘密，带我们走近20年中平均每年总回报为80％的大奖章基金，看看它如何能将1万元变成1亿元。03.《宽客：华尔街顶级数量金融大师的另类人生》作者:斯科特·帕特森豆瓣评分：8.0出版时间:2011-7内容简介：这是一本讲述华尔街顶级数量金融大师的另类人生的书。背景是2007年金融危机爆发以后，作者对量化基金经理和顶尖经济学及金融学学者的各种采访。04.《宽客人生:华尔街的数量金融大师》作者:伊曼纽尔·德曼豆瓣评分：8.0出版时间:2007-7内容简介：作者本人就是华尔街的顶级宽客，至今仍享盛名，他分析了物理学与金融学之间的关联和不同，讲述了许多物理学巨匠和金融学大师的故事。05.《高频交易》作者：艾琳·奥尔德里奇豆瓣评分：7.8出版时间：2011-6内容简介：本书作者站在专业的高度，用平实的语言和丰富的图表，带我们走进量化投资的黑匣子，向我们展示了这台复杂的“金融仪器”是如何运作的。06.《高频交易员:华尔街的速度游戏》作者：迈克尔•刘易斯豆瓣评分：7.8出版时间:2015-5内容简介：本书作者其他著名的著作还有《说谎者的扑克牌》和《大空头》，本书叙事偏水浒风，人物逐个出场，背景丰满，性格突出，然后构建完整个拼图，结局有一抹亮色。二、股票量化07.《量化投资——策略与技术》作者：丁鹏豆瓣评分：6.5出版时间:2014-9内容简介：你可以把此书认为是金融工程研报的合订本，内含60多个案例，主要分为策略篇与理论篇两部分。策略篇主要包括：量化选股、量化择时、股指期货套利、商品期货套利、统计套利、期权套利、算法交易和资产配置等。理论篇主要包括：人工智能、数据挖掘、小波分析、支持向量机、分形理论、随机过程及IT技术等。08.《量化交易:如何建立自己的算法交易事业》作者：欧内斯特·陈豆瓣评分：7.5出版时间:2014-1内容简介：此书虽薄，但内容涵盖交易策略的发展、回测检验、风险管理、编程实现、交易系统研发和算法交易运行等关键领域，作者带你一步一步建立起一个最佳量化框架。09.《量化投资策略:如何实现超额收益Alpha》作者：理查德·托托里罗豆瓣评分：7.6出版时间:2013-5内容简介：作者在书中详尽地测试了超过1200种投资策略，归纳了七个投资维度：盈利性、估值、现金流、成长性、资产配置、价格动量以及危险信号，并告诉你如何有效结合单个投资因子或组件因子，如何构建多因子策略，从而构建更全面的选股模型。10.《量化投资：以Python为工具》作者：蔡立耑豆瓣评分：6.7出版时间:2017-2内容简介：主要讲解量化投资的思想和策略，并借助Python语言进行实战。首先对Python编程语言进行介绍；然后，向读者介绍量化投资的理论知识，主要讲解量化投资所需的数量基础和类型等方面；最后讲述如何在Python语言中构建量化投资策略。三、期货量化11.《海龟交易法则》作者：柯蒂斯·费思豆瓣评分：8.6出版时间:2013-5内容简介：伟大的期货交易者究竟是天生的，还是可以后天培养的？丹尼斯和埃克哈为此开始了一项试验，参与者被称为“海龟”。此书的内容就是关于这些海龟的：海龟们如何做交易，如何把握交易时机；海龟们如何衡量风险，如何管理资金；海龟们如何获得超过100%的年均回报率；为什么有些海龟大获成功，有些却赔个精光；如何将海龟交易法则运用于你自己的交易中；12.《期货市场计算机分析指南》作者：查尔斯·勒博豆瓣评分：7.9出版时间:2012-4内容简介：本书原版较老，主要讲解美国80年代各种技术指标的运用，内含了作者几十年的功力。13.《期货市场完全指南:技术分析、交易系统、基本面分析、期权、利差和交易原则》作者：杰克·施瓦格豆瓣评分：7.7出版时间:2017-11内容简介：本书侧重于商品期货市场价格预测，是目前全面的关于基本面分析和技术面分析的期货著作，内容涵盖期货、期权、分析、利差等。14.《统计套利》作者：安德鲁·波尔豆瓣评分：6.6出版时间:2011-1内容简介：本书论述了统计套利的历史，也诠释了统计套利如何运作的方式，以及为什么管用的原因，就是翻译让人吐槽~四、期权量化15.《期权投资策略》作者：劳伦斯G.麦克米伦豆瓣评分：7.9出版时间:2010-1内容简介：本书可认为是期权交易策略大全，包含全面的期权交易工具与各种策略方法。涵盖数百种经过时间与市场考验的交易技巧，承受最低的风险，实现既定的投资目标。16.《波动率交易：期权量化交易员指南》作者：尤安·辛克莱豆瓣评分：9.0出版时间:2017-5内容简介：本书梳理了基础的期权定价、波动率度量、对冲、资金管理以及交易评估等内容，并开发了基于布莱克-斯科尔斯-默顿的量化模型去度量波动率，这适用于几乎所有类型的金融工具。17.《波动率微笑:宽客大师教你建模》作者：伊曼纽尔·德曼豆瓣评分：9.1出版时间:2018-1内容简介：本书公式繁多，需要较强数学功底，绝对是一本期权量化的好书，但总想将其归为失眠系列。五、失眠系列18.《主动投资组合管理:创造高收益并控制风险的量化投资方法》作者：理查德C.格林诺德豆瓣评分：8.7出版时间:2014-9内容简介：本书以其数学上的严谨性和内容上的系统性成为量化组合投资领域的权威之作。该书描述了一套创新的方法：寻找资产收益率原始信号，将它们转化为精炼预测，以及根据这些预测构建具有超常收益率和最小风险的投资组合，即持续战胜市场的投资组合。公式多，助眠！19.《QuantitativeEquityPortfolioManagement:ModernTechniquesandApplications》作者：EdwardE.Qian豆瓣评分：8.9出版时间:2007-5内容简介：本书可以被看成对《主动投资组合管理:创造高收益并控制风险的量化投资方法》的补充。20.《QuantitativeEquityPortfolioManagement:AnActiveApproachtoPortfolioConstructionandManagement》作者：LudwigBChincarini豆瓣评分：8.0出版时间:2006-7内容简介：本书比较偏学术风格，主要讲factormodel，与《主动投资组合管理:创造高收益并控制风险的量化投资方法》相辅相成。参考资料https://book.douban.com/subject/10528799/https://book.douban.com/subject/4149140/https://book.douban.com/subject/6712293/https://book.douban.com/subject/2139493/https://book.douban.com/subject/6516233/https://book.douban.com/subject/26361652/https://book.douban.com/subject/25984057/https://book.douban.com/subject/25878150/https://book.douban.com/subject/24698948/https://book.douban.com/subject/26945535/https://book.douban.com/subject/24325274/https://book.douban.com/subject/10606243/https://book.douban.com/subject/27604426/https://book.douban.com/subject/5384911/https://book.douban.com/subject/4200660/https://book.douban.com/subject/27057344/https://book.douban.com/subject/27611792/https://book.douban.com/subject/25984361/https://book.douban.com/subject/2863060/https://book.douban.com/subject/2799221/",
        "url": "http://www.zhihu.com/api/v4/answers/2880196234",
        "comment_count": 0,
        "voteup_count": 85,
        "question_title": "http://www.zhihu.com/api/v4/questions/328425170",
        "question_url": "马上要去量化投资公司实习了，对金融啥的还一点概念没有，有什么推荐的书么？"
    },
    "2880167089": {
        "created_time": 1675698204,
        "content": "用旧文给大家介绍一个商品期货跨品种套利策略，收益不高，亮点是比较稳健，萌新向回答，大神可绕行。为了交代后文的背景，开头会啰嗦一点儿，先忍忍，往后就好了，不当之处，权当胡诌，正文开始~在辽阔的七合大草原上，分布着各个庄园，每个庄园都盛产不同的“特产”，有的盛产大豆，有的盛产玉米，还有的盛产螺纹钢，还有黄金白银、焦炭、铁矿石、橡胶等等。每天，庄园里的大小动物们，都会把它们庄生产的东西背到草原上的中心市场进行售卖，可以换得庄币（草原上公认的交易媒介，简称『ZB』），用来购买其他庄里需要的生活生产物资。由于季节更替、环境气候等因素的变化，这些特产的价格也在不断变化。比如说，旱季的时候，粮食生长缓慢，玉米啊，大豆啊，价格就蹭蹭地往上涨，到了雨季，食物充沛了，价格就又下来了。所以啊，在旱季到来之前，很多庄园小动物都喜欢囤自己喜欢吃的粮食，但是有些小动物，由于自己的窝太小、存储技术不过关、地方还没腾出来等缘故，不敢囤太多的粮食，但又害怕旱季到来的时候粮价太高，怎么办呢？同时烦恼的还有另外一拨动物，它们就是专门生产粮食的庄园作坊主，不同季节和气候的粮食价格不一样，波动太大，导致销售回款波动大，现金流紧张的时候还要拖欠动物员工的工资，还是希望稳稳的幸福。为了解决这两拨动物的烦恼，草原的长老们就想出了用『庄票』的方法，庄票上面约定了在未来什么时候交易什么粮食品种多少斤，庄票一式两份，分为买方（多方）和卖方（空方）。买方（多方）一般就是那些害怕到旱季粮食价格上涨的小动物们，在雨季的时候就可以锁定旱季的粮食价格（可承受范围内），而且还可以先不用把粮食囤在家里，到了旱季的时候再去卖方（空方）那里把粮食搬回来就可以了。成为庄票当中买家的行为俗称“做多”。卖方（空方）一般就是那些作坊主们，只求稳健经营，害怕价格大幅波动，利用庄票锁定长期的价格，可能比市场价格低，也可能比市场价格高，但在自己的成本价之上就可以了。成为庄票当中卖方的行为俗称“做空”。就拿玉米庄票来说，庄票上面写着“作坊主阿熊要在今年冬至以1.3ZB/斤价格卖给阿猪100斤玉米”，意思就是，在今年冬至这天，阿猪花130ZB就可以买回来100斤玉米，以前那个时候买100斤玉米可能要花180ZB，作坊主阿熊也可以提前收到货款。到了庄票上的约定时间，卖方（空方）就会把对应的粮食（品种和数量跟庄票一样）拉到市场边的空地上，买方（多方）就去把粮食给拉回来。但是呢，如果成为了庄票的买方，也不一定要把粮食拿回来，可以转手给别的小动物。因为庄票每天都会产生，每天的价格由于各种因素也会不一样，所以导致转手的价格也会不一样。举个栗子，阿猪有一张“作坊主阿熊要在今年冬至以1.3ZB/斤价格卖给阿猪100斤玉米”的庄票，但是呢，阿猪过生日的时候，亲戚们送了很多玉米给它，阿猪就觉得玉米太多了，就把这张庄票转给了邻居阿鸡，但是呢，由于大家都觉得今年玉米可能歉收，现在签的庄票玉米要1.4ZB/斤了，于是乎，阿猪在转手庄票给阿鸡（平仓）的过程中赚了10ZB。同样滴，跟买方（多方）类似，卖方（空方）手里的庄票也是可以转手滴。除了各种粮食，像各种矿产、金属等庄园特产都是可以用庄票约定在未来交易的，有交易需要的各种动物们会聚集在草原中心市场旁的大梧桐树下，进行着各式各样的庄票交易。终于交代完这片大草原的庄票交易背景，现在轮到聪明的套利动物出场了。由于各种特产的庄票，可以在到期之前随时转让，转让的过程中存在价差，这就构成了庄票转让交易的盈利基础。有的动物预测今年粮食大丰收，于是先高价做空，然后再低价转让庄票（平仓），赚得窝满巢满，也有的预测错误，爬到梧桐树天台的。有的动物也想从庄票交易中分一杯羹，但是觉得单方向预测价格风险太大，只想找到市场上不正常的定价价差，在等待价差恢复正常的时候获利，它们就是大草原当中的套利动物。套利动物在不断找寻着庄票背后特产的规律，偶然间，它们发现螺纹庄园和铁矿庄园、焦炭庄园的关系。螺纹庄园主要生产螺纹钢，生产螺纹钢的主要原材料主要是铁矿石和焦炭，这两种原材料则主要从铁矿庄园和焦炭庄园购得。一般情况下，生产1吨螺纹钢则需要1.6吨铁矿石和0.5吨焦炭，当然啦，还有其他的材料。于是乎，螺纹庄园生产1吨螺纹钢的利润是“螺纹钢价格-1.6×铁矿石价格-0.5×焦炭价格-其他成本(含人工)”，如果换算成庄票，那就是：利润=螺纹庄票价格-1.6×铁矿石庄票价格-0.5×焦炭庄票价格-其他成本(含人工)当利润过高的时候，螺纹庄园里面的作坊会拼命开工，买入更多的铁矿石和焦炭，这两种原材料的价格就会跟着上升，当产能过剩后螺纹的价格就会回调。因此，当利润过高的时候，套利动物们就会做空螺纹庄票，同时做多铁矿石和焦炭庄票。当利润过低的时候，螺纹庄园里面的作坊就不那么积极生产了，对原材料的需求就没有以前那么大了，原材料的价格也会跟着下跌，螺纹的产量就逐渐下降，供需失衡的情况下，螺纹的价格就又开始上涨了。因此，当利润过低的时候，套利动物就会做多螺纹庄票，同时做空铁矿石和焦炭庄票。那利润的过高和过低怎么界定呢？不同动物的看法不一样啊。于是乎，聪明的套利动物，摒弃了设置绝对阈值的观念，搞起了自适应的布林带，当利润高于“利润N日均线+M倍标准差”时，那就是利润过高，做多螺纹做空铁矿焦炭；当利润低于“利润N日均线-M倍标准差”时，那就是利润过低，做空螺纹做多铁矿焦炭；无论哪种操作，利润回归正常值就平仓。N数值小敏感，数值大钝化；M数值小开仓次数多，数值大开仓次数少。套利动物们回测了一下它们的套利想法，效果不赖，虽然收益不高，胜在稳健。但它们并没有因此大喜过望，因为在这片草原上，除了黑天鹅，还有灰犀牛。参考资料：东方证券，2017.01，《衍生品系列研究之五：商品期货套利策略实证》更多相关内容请见：quantkoala：2022年量化文章合辑|量化投资从入门到不放弃",
        "url": "http://www.zhihu.com/api/v4/answers/2880167089",
        "comment_count": 0,
        "voteup_count": 48,
        "question_title": "http://www.zhihu.com/api/v4/questions/271757236",
        "question_url": "期货中跨期限套利和跨品种套利，跪求详细阐述一下？"
    },
    "2842433342": {
        "created_time": 1673529858,
        "content": "机构量化有机构的优势，个人量化有个人的确幸，个人照样可以做好量化投资。君不见，大商超都存在这么久了，还有那么多小杂货铺，其中很多小店主都活得挺滋润。在普通人的潜意识里，一提起机构就是镰刀，一提起个人就是韭菜，确实，机构相对于个人而言，会有资金人力、硬件设备和信息渠道等方面的优势，但个人量化交易者也并不是“一无是处”。针是没有两头尖的，总会有大商超大厂顾及不到的地方，相对于大机构而言，个人做量化交易，至少还有这3个小确幸。本金小，跑得快。个人的资金量一般不是特别大（相对于机构而言），这就意味着对市场的影响比较小，咱们的交易行为对市场不会起到很大的影响，也就是冲击成本比较小。在这种情况下，开发的量化策略就倾向于更加有效，不会因为容量的限制而失效，有些小策略有正向盈利预期，但大机构也是不稀得做。这就是为啥很多高频做得好的机构，也要开始做中低频了，因为高频容量确实有限，承载不了这么多的资金。监管宽松，风险偏好灵活。风险偏好可以根据自身的需求定制，自己设定自己的盈利预期，只要法律法规允许，想买什么买什么，不像大机构很多时候，这个不能买，那个不能买，当证券价格下跌到一定程度的时候，还得立马平仓，不管这是不是黎明前的黑暗，个人就没有那么弯弯绕，“逆势死扛，再创辉煌”。时间和业绩限制少。无论是私募基金，还是公募基金，都是以产品形式运营的，每个产品都设有投资期限，虽然现在都全面禁止保本保收益了，但机构做不出好业绩的话，私募来年募不到钱，公募排名垫底，都是影响活计的。个人如果用闲余资金做量化交易，做得好了，可以到处嘚瑟，做不好，捂着闷声亏钱就行了，不会有投资者给你打电话寄刀片；没有交易机会可以躺平，不像一些产品有仓位限制，即使预测市场下跌了，还得买买买。刚才苦口婆心说(xia)了(bian)这3点个人量化投资者的优势，发现没有，一直都是对标着量化机构，但咱做量化交易的目标是什么呢？是一定要比量化机构更强吗？收益率更高吗？个人愚见，量化交易更多是一种投资交易的分析手段，在投资交易当中，一定要做出决策，买什么，什么时候买，买多少，就连不想决策躺平本身也是一种决策，量化交易基于金融逻辑和历史数据，发现和验证交易理念，提高决策的胜率，让交易策略趋向于正收益预期。个人做量化交易并不需要打败大机构，而是提高自己的盈利胜率，跑赢那些拍脑袋、靠感觉、听消息的散户就可以了。现在很多大私募，开始的时候，核心量化团队只有一两个人，也许是幸存者偏差，但不能否定个人量化的靠谱存在。其实，量化跟视频赛道很像，在过去，科班的影视团队才有专业的摄影器材，拍出好看的电影电视剧等视频，现如今由于科技的进步，手机、数码照相机进入千家万户，极大的降低了个人视频制作者的门槛，君不见小破站上有那么多有趣有料的UP主，分享着众多的优质视频。导演有好的摄像机也会拍出烂片，UP主只有手机也可以拍出受观众喜爱的vlog，第三方量化平台和开源软件的兴起，和金融数据的低价优质化，正在催生更多的个人量化交易者，个人和机构一样都可以做量化，但个人和机构是不是能做好，都是要看个人和团队的能力，小鸡不撒尿，各有各的道。更多相关内容：quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）quantkoala：两个简单的GARP因子，帮这位量化基金经理，跻身同类Top10（含复现）",
        "url": "http://www.zhihu.com/api/v4/answers/2842433342",
        "comment_count": 0,
        "voteup_count": 18,
        "question_title": "http://www.zhihu.com/api/v4/questions/267897652",
        "question_url": "个人量化投资的可能性？"
    },
    "2838982411": {
        "created_time": 1673351956,
        "content": "数学不用很好，策略收益好就可以了，卡学历的公募不敢说，唯收益论的中小私募随便进。策略的核心是背后的交易思想，数学模型只是交易思想的数量化表达，如果交易思想错了，那再复杂高深的数学也于事无补。由于经营量化社群的原因，能看到的量化圈子稍微比萌新们大一些，我真的看过很多量化大神的实盘策略，涉及到的数学都没有超过高中范畴，但策略成功的原因并不完全在数学本身，而在于宽客将数学理论与交易实际相结合的能力，也就是要把“数学”用到刀刃上。打个比方，很多人都看过电影《三个白痴》，其中有个名场面，学长让男主角兰彻脱掉裤子（别想歪~原因请看原片），兰彻不从，躲进了宿舍，学长扬言再不出来就在门口嘘嘘，兰彻就把电线接在铁勺子上，把铁勺子夹在木尺上，接着开电闸，学长后来就直接嘘了上去，那酸爽~~~室友就评价道：盐水可以作为电的导体，初中生都知道，我们只学了课本，他却学以致用！道理大家都懂（无论高深还是浅显），关键是要学以致用。抛砖引玉，就拿之前量化大神的两个策略出来溜溜，它们的共同点就是都涉及到一个基础的数学概念，高中就学习过的，那就是“导数”，看看大神是怎么把“导数”玩出花儿来。策略1：日内波动极值策略第一个要介绍的策略就是『日内波动极值策略』，它起源于广发金工在11年前发布的研报《基于日内波动极值的股指期货趋势跟随系统》，最初是用在股指期货的量化交易上。对于交易者而言，有波动才有价差（无论是向上还是向下），有价差才有低买高卖，才有投资收益。正如原文中所言，投机人只有溶于波动的市场中才有机会博取高额收益，平静无奇的市场只能是一潭死水，若市场波动很小，更极端一点，在一条近乎直线走势的市场中，无论何种策略、无论采用何种模型，都是无法赚钱的，神仙亦乏术。那我们如何拥抱波动，抓取波段呢？其中一个方法就是利用日内波动极值的思想实现趋势跟随。随着市场的单边趋势运行，价格波动极值会逐步被突破，而这种突破又是上下两个方向均可的。如果价格向上突破极值点，那么我们认为随后的价格波动继续向上的可能是偏大的，同理如果价格向下突破极值点，那么我们认为随后的价格波动继续向下的可能会偏大，从而形成趋势跟随策略。价格起伏就像波浪，后面的价格突破了前浪的高点，很可能孕育着一次比前浪更汹涌的后浪。接着来定义和计算价格波动极值，原文中是基于日内行情的价格进行计算，具体来讲，日内某个时点的极值，就是自当日开盘以来截止至当前时点，市场创出的最高值或者最低值，前者称为日内极高值，后者称为日内极低值。这就形成了一个很朴素的量化策略，首先选取某一信号观察频率周期（如5分钟K线），当价格向上穿越日内波动极高值时发出买入信号，当价格向下穿越极低值时发出卖出信号，关于“日内极值计算细节”、“开仓后如何来跟踪持有的头寸”、“何时平仓离场的问题”、“回测费率设置”等方面，请详见研报原文。研报发布时披露的回测交易资金曲线如下所示。当时这个日内波动极值策略只是应用在了股指期货品种上，后来被某私募量化大神发现该策略的挖掘潜力，觉得极值的确定还可以利用高中数学课学过的“导数”，将改进后的策略分别移植到了商品期货和股票上，并有偿地进行了小范围的分享。众所周知，若一元函数可导，则在极大值或极小值处，导数为0。使用求导的方式确定波动极值，进而衡量K线的形态和走势，还是利用之前的策略的大体思想进行策略构建，不过细节上有所变化。百度百科中关于“极值求导”的说明：函数在其整个定义域内可能有许多极大值或极小值，而且某个极大值不一定大于某个极小值。函数的极值通过其一阶和二阶导数来确定。对于一元可微函数f(x)，它在某点x0有极值的充分必要条件是f(x)在x0的某邻域上一阶可导，在x0处二阶可导，且f'(X0)=0，f\"(x0)≠0，那么：1）若f\"（x0）&lt;0，则f在x0取得极大值；2）若f\"（x0）&gt;0，则f在x0取得极小值。私募量化大神改进后的商品期货策略盈亏曲线：私募量化大神改进后的股票策略盈亏曲线：策略2：基于低阶多项式拟合的日内趋势策略这第二个策略就是『基于低阶多项式拟合的日内趋势策略』，这个日内策略与第一个策略师出同门，它的策略思想出自于广发金工的另外一篇研报《基于低阶多项式拟合的股指期货趋势交易(LPTT)策略》传统金融理论认为在高效率市场中，股票、期货等金融产品的价格变化服从马尔科夫随机过程，即具有无记忆特征，也就谈不上价格变动的趋势。但是在市场效率不高的情况下，由于信息流动存在不平衡性，股票或期货的价格变动常常会形成单边趋势，此时若能够顺势交易，则有可能获得有效的趋势价差收益。那如何捕捉这个价格趋势呢？该研报中的交易策略采用的理论基础是离散数据的多项式拟合。别被这么专业的名词唬住了，其实啊，只要高中数学课认真上过，我一说你就明白了。研报标题中提到的“低阶多项式拟合”，其实指的就是一阶多项式拟合和二阶多项式拟合，一阶多项式拟合指的就是把离散的价格序列拟合成线性函数y1=a·x+b，二阶多项式拟合就是拟合成二次函数y2=a·x^2+b·x+c。看吧，高中数学课上都学过吧~若对一阶线性函数求一阶导数，也就是平常所说的斜率，若导数dy/dt&gt;0，说明价格正处于上升趋势；若导数dy/dt&lt;0，则为下跌趋势。若对二阶线性函数求二阶导数，若二阶导数d2y/dt2&gt;0，价格曲线为凹（开口向上）；若二阶导数d2y/dt2&lt;0，价格曲线为凸（开口向下）。做个类比，价格曲线就像汽车行走的距离轨迹，对距离（位移）求一阶导数就是速度，速度大于0说明朝正方向开，小于0说明朝反方向开。求二阶导数就是加速度，假设此时汽车为正向行驶，加速度大于0说明在汽车速度还在增加的状态当中，在不断加速，反之则是处在减速的过程当中。因此，结合线性函数的一阶导数和二次函数的二阶导数，可以把价格序列划分为如下四种状态。朴素的策略思想这就跟着来了，假设线性函数的一阶导数和二次函数的二阶导数分别为g1和g2，当g1*g2&gt;0时，说明出现了加速上涨或加速下跌的情况，便可以根据价格方向顺势开仓。当g1正负号发生改变时，说明价格趋势改变，该种情况需要进行平仓。当g2正负号发生改变时，说明于上涨或下跌趋势由加速变为减速，趋势有结束迹象，该种情况也需要进行平仓。还有就是在尾盘进行强制平仓，日内策略不持仓过夜。在研报当中，交易标的是股指期货，回测的累计收益率曲线如下所示。还是这位私募量化大神，将其研报中的策略精髓移植到商品期货和股票之上，实现了交易开拓者TB、文华财经、金字塔、MultiCharts和TradeStation多个版本的源码，移植到商品期货多品种上的回测累计收益率曲线如下所示。总结一下从上面介绍的两个量化策略看出，核心思路就是要抓到大价差和大波段，第一个策略关键是找到极值点，第二个策略关键是做一、二阶拟合，看上去手段形式不一样，实质上都可以用“导数”来解决。“导数”只是高中数学当中的一个基础概念，不算高深，但策略能成功，靠的是宽客对数学概念学以致用的能力，以上两个策略例子只是给大伙儿做个启发，起到抛砖引玉的作用。据我路边社小道不靠谱消息透露，类似于“导数”用于量化策略的数学概念还有：偏度、峰度、协方差......数学好不好不是关键，关键是能不能有好的交易思想，其次才是把数学用到“刀刃”上。Bequant，havefun！更多相关内容：quantkoala：手把手教你，利用机器学习模型，构建量化择时策略（附全流程代码）如何打造「量化策略兵器库」，策略开发效率提高10倍？342赞同·12评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）又来唠一个另类异质量化策略：20后的Trendflex策略78赞同·3评论文章ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）105赞同·10评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略",
        "url": "http://www.zhihu.com/api/v4/answers/2838982411",
        "comment_count": 10,
        "voteup_count": 118,
        "question_title": "http://www.zhihu.com/api/v4/questions/37284117",
        "question_url": "数学不是很好，可以从事量化交易相关的工作吗？"
    },
    "2837618691": {
        "created_time": 1673277210,
        "content": "我腆着脸来推荐一些量化交易的入门书籍吧，根据个人习惯，从量化故事类到失眠系列的都有，一共20本，enjoy~第一类是科普&amp;故事类，顾名思义，主要是帮量化萌新迅速了解量化&amp;宽客是什么，有个大体的感觉，偏故事向。第二类是股票量化类，主要讲了在股票量化领域有什么经典的策略，如何构建、实现和回测。第三类是期货量化类，讲的是期货量化的经典策略，大部分是趋势策略（例如海龟策略），也有套利策略。第四类就是期权量化类，一般书籍里面都是先科普一下期权是什么，然后就各种字母，接着就各种跨式、蝶式，最后我想把它归到失眠系列类。第五类就是失眠系列类，不是这类书让人失眠，而是适合失眠的时候看，例如那本量化红宝书，新手初看会觉得特别枯燥，公式繁多，助眠效果极佳。一、科普&amp;故事类01.《打开量化投资的黑箱》作者:里什·纳兰豆瓣评分：7.4出版时间:2012-3内容简介：作者是一位基金经理，在书中他站在一个非纯粹技术性的视角介绍了量化交易策略，用生动的文笔带领大家游历整个“黑箱”。涉猎了很多金融界丰富的真实案例和市场趣闻，描绘了华尔街的数量金融奇才们是如何工作的。02.《解读量化投资：西蒙斯用公式打败市场的故事》作者:忻海豆瓣评分：7.2出版时间:2010-1内容简介：作者用轻松、幽默的讲故事手法，解读了西蒙斯量化投资“黑箱”之内的秘密，带我们走近20年中平均每年总回报为80％的大奖章基金，看看它如何能将1万元变成1亿元。03.《宽客：华尔街顶级数量金融大师的另类人生》作者:斯科特·帕特森豆瓣评分：8.0出版时间:2011-7内容简介：这是一本讲述华尔街顶级数量金融大师的另类人生的书。背景是2007年金融危机爆发以后，作者对量化基金经理和顶尖经济学及金融学学者的各种采访。04.《宽客人生:华尔街的数量金融大师》作者:伊曼纽尔·德曼豆瓣评分：8.0出版时间:2007-7内容简介：作者本人就是华尔街的顶级宽客，至今仍享盛名，他分析了物理学与金融学之间的关联和不同，讲述了许多物理学巨匠和金融学大师的故事。05.《高频交易》作者：艾琳·奥尔德里奇豆瓣评分：7.8出版时间：2011-6内容简介：本书作者站在专业的高度，用平实的语言和丰富的图表，带我们走进量化投资的黑匣子，向我们展示了这台复杂的“金融仪器”是如何运作的。06.《高频交易员:华尔街的速度游戏》作者：迈克尔•刘易斯豆瓣评分：7.8出版时间:2015-5内容简介：本书作者其他著名的著作还有《说谎者的扑克牌》和《大空头》，本书叙事偏水浒风，人物逐个出场，背景丰满，性格突出，然后构建完整个拼图，结局有一抹亮色。二、股票量化07.《量化投资——策略与技术》作者：丁鹏豆瓣评分：6.5出版时间:2014-9内容简介：你可以把此书认为是金融工程研报的合订本，内含60多个案例，主要分为策略篇与理论篇两部分。策略篇主要包括：量化选股、量化择时、股指期货套利、商品期货套利、统计套利、期权套利、算法交易和资产配置等。理论篇主要包括：人工智能、数据挖掘、小波分析、支持向量机、分形理论、随机过程及IT技术等。08.《量化交易:如何建立自己的算法交易事业》作者：欧内斯特·陈豆瓣评分：7.5出版时间:2014-1内容简介：此书虽薄，但内容涵盖交易策略的发展、回测检验、风险管理、编程实现、交易系统研发和算法交易运行等关键领域，作者带你一步一步建立起一个最佳量化框架。09.《量化投资策略:如何实现超额收益Alpha》作者：理查德·托托里罗豆瓣评分：7.6出版时间:2013-5内容简介：作者在书中详尽地测试了超过1200种投资策略，归纳了七个投资维度：盈利性、估值、现金流、成长性、资产配置、价格动量以及危险信号，并告诉你如何有效结合单个投资因子或组件因子，如何构建多因子策略，从而构建更全面的选股模型。10.《量化投资：以Python为工具》作者：蔡立耑豆瓣评分：6.7出版时间:2017-2内容简介：主要讲解量化投资的思想和策略，并借助Python语言进行实战。首先对Python编程语言进行介绍；然后，向读者介绍量化投资的理论知识，主要讲解量化投资所需的数量基础和类型等方面；最后讲述如何在Python语言中构建量化投资策略。三、期货量化11.《海龟交易法则》作者：柯蒂斯·费思豆瓣评分：8.6出版时间:2013-5内容简介：伟大的期货交易者究竟是天生的，还是可以后天培养的？丹尼斯和埃克哈为此开始了一项试验，参与者被称为“海龟”。此书的内容就是关于这些海龟的：海龟们如何做交易，如何把握交易时机；海龟们如何衡量风险，如何管理资金；海龟们如何获得超过100%的年均回报率；为什么有些海龟大获成功，有些却赔个精光；如何将海龟交易法则运用于你自己的交易中；12.《期货市场计算机分析指南》作者：查尔斯·勒博豆瓣评分：7.9出版时间:2012-4内容简介：本书原版较老，主要讲解美国80年代各种技术指标的运用，内含了作者几十年的功力。13.《期货市场完全指南:技术分析、交易系统、基本面分析、期权、利差和交易原则》作者：杰克·施瓦格豆瓣评分：7.7出版时间:2017-11内容简介：本书侧重于商品期货市场价格预测，是目前全面的关于基本面分析和技术面分析的期货著作，内容涵盖期货、期权、分析、利差等。14.《统计套利》作者：安德鲁·波尔豆瓣评分：6.6出版时间:2011-1内容简介：本书论述了统计套利的历史，也诠释了统计套利如何运作的方式，以及为什么管用的原因，就是翻译让人吐槽~四、期权量化15.《期权投资策略》作者：劳伦斯G.麦克米伦豆瓣评分：7.9出版时间:2010-1内容简介：本书可认为是期权交易策略大全，包含全面的期权交易工具与各种策略方法。涵盖数百种经过时间与市场考验的交易技巧，承受最低的风险，实现既定的投资目标。16.《波动率交易：期权量化交易员指南》作者：尤安·辛克莱豆瓣评分：9.0出版时间:2017-5内容简介：本书梳理了基础的期权定价、波动率度量、对冲、资金管理以及交易评估等内容，并开发了基于布莱克-斯科尔斯-默顿的量化模型去度量波动率，这适用于几乎所有类型的金融工具。17.《波动率微笑:宽客大师教你建模》作者：伊曼纽尔·德曼豆瓣评分：9.1出版时间:2018-1内容简介：本书公式繁多，需要较强数学功底，绝对是一本期权量化的好书，但总想将其归为失眠系列。五、失眠系列18.《主动投资组合管理:创造高收益并控制风险的量化投资方法》作者：理查德C.格林诺德豆瓣评分：8.7出版时间:2014-9内容简介：本书以其数学上的严谨性和内容上的系统性成为量化组合投资领域的权威之作。该书描述了一套创新的方法：寻找资产收益率原始信号，将它们转化为精炼预测，以及根据这些预测构建具有超常收益率和最小风险的投资组合，即持续战胜市场的投资组合。公式多，助眠！19.《QuantitativeEquityPortfolioManagement:ModernTechniquesandApplications》作者：EdwardE.Qian豆瓣评分：8.9出版时间:2007-5内容简介：本书可以被看成对《主动投资组合管理:创造高收益并控制风险的量化投资方法》的补充。20.《QuantitativeEquityPortfolioManagement:AnActiveApproachtoPortfolioConstructionandManagement》作者：LudwigBChincarini豆瓣评分：8.0出版时间:2006-7内容简介：本书比较偏学术风格，主要讲factormodel，与《主动投资组合管理:创造高收益并控制风险的量化投资方法》相辅相成。",
        "url": "http://www.zhihu.com/api/v4/answers/2837618691",
        "comment_count": 2,
        "voteup_count": 95,
        "question_title": "http://www.zhihu.com/api/v4/questions/336599424",
        "question_url": "量化交易有哪些入门的书、课程或者学习渠道？"
    },
    "2835967011": {
        "created_time": 1673189616,
        "content": "当然不可以，量化交易里面除了包含技术面之外，也是可以只包含基本面的，比如说你把巴菲特、张坤等人的投资思路转化为量化交易模型，里面可以一点技术面的玩意儿都没有，这就是业内常说的“基本面量化投资”。在量化圈子里，Quant们非常善于向有成果的投资大神学习，因此有着这样一项优良的传统——“欣赏你，我就量化你”，目的一是想抓住大神的投资内核，二是想向历史/市场扩展，检验这种投资思想是否仍然有效。“量化巴菲特”的行动早有人付诸实践，目前关于“量化巴菲特”的公开论文热度较高的有两篇，第一篇是2013年底AndreaFrazzini发布的《Buffett’sAlpha》(巴菲特的阿尔法)，第二篇就是胡熠博士在2018年发表的《巴菲特的alpha：来自中国股票市场的实证研究》，论文的实证结果都非常喜人。以我之前做的张坤选股思路的量化模型为例，先对张坤的投资选股理念进行一个简单的介绍，市面上关于张坤的访谈和解读的文章/视频等资料有很多，大家可以自行查阅。目前我看到的总结比较全面到位的文章如下，全文一万余字，干货度很高，能让你迅速对张坤的投资理念方法有大概的了解。网叔：张坤，有点意思（张坤投资思想系统整理）目前比较好量化的内容就是对全部A股进行粗筛的部分，以此来构建初步的策略。第一步：筛选投资回报率ROIC五年以上都超过10%的公司投资回报率ROIC=经营性税后净利润/（投入资本+有息负债）以前的选股因子常用净资产收益率ROE，但是ROE有一个缺陷就是，如果企业猛加杠杆，再碰到“顺周期”，ROE值会非常高，但这样的经营是潜在巨大风险的，此处用ROIC衡量企业的盈利能力相对合理一些。第二步：自由资金流强劲，有息负债率低自由资金流＝息税前利润－税金+折旧与摊销－资本支出－营运资本追加为了使“自由现金流”每个股票可比，除以“总资产”，转化为“自由资金流率”。有息负债率=有息负债/总资产第三步：行业地位高、上下游议价能力强、运营资本低的的企业。这条量化起来有点儿“玄学”，暂时用“毛利率高”作为代理指标吧。毛利率=（营业收入–营业成本）/营业收入策略调仓频率为月度，策略年化收益率为39.91%，由于是纯多头策略，策略回撤最高达到45%，因此高波动导致夏普率偏低，仅有1.11，但盈亏比还是不错的，达到了3.0。策略源码如下：从中可以看出，整个量化交易模型当中，一点儿技术面分析的内容都没有，都是基本面相关的财务指标，连一条均线都木有用到，至少能说明，量化交易的本质里面不仅仅包括技术面分析。",
        "url": "http://www.zhihu.com/api/v4/answers/2835967011",
        "comment_count": 10,
        "voteup_count": 65,
        "question_title": "http://www.zhihu.com/api/v4/questions/356510672",
        "question_url": "量化交易的本质可以理解为技术面分析吗？"
    },
    "2835868192": {
        "created_time": 1673185505,
        "content": "如果只推荐一本量化投资入门书，在读完之后，你可以快速地对量化投资有一个基本的了解，我会毫不犹豫地推荐《打开量化投资的黑箱(第二版)》（InsidetheBlackBox:ASimpleGuidetoQuantitativeandHighFrequencyTrading，SecondEdition）。虽然它通篇没有具体的策略，也没有复杂繁琐的数学公式，但是个人觉得，它涵盖了量化交易入门所必备的各式各样的常识。要注意的是，这里特指的是第二版，原书英文版是在2009年出版，2012年翻译成中文引入国内，第二版是在2013年出版，2016年翻译成中文引入国内，第二版除了对第一版错误进行修正外，关键是加入了『高频交易』这一部分的内容，内容也从原来的13章扩展到了17章。这本书的作者是漂亮国的一个对冲基金经理，诗画乐三绝的文艺老炮，名字叫做里什·纳兰（RishiK.Narang），下文就亲切称呼他为“老纳”吧，他上个世纪90年代就进入量化领域了，一直深耕量化交易策略至今，妥妥的“黄埔出身正规军”，这本书就相当于是他职业生涯心得体会的阶段脱敏梳理了。这本书通篇可以分为5个部分。第一Part主要是介绍量化交易的背景知识和典型结构，啥是量化交易，啥是宽客；第二Part就开始拆解量化交易这个黑箱了，一个一个零件拆出来，摆在你的面前挨个介绍一番；第三Part主要是唠唠怎么评估宽客和量化策略，还反驳一些外人对量化的误解；第四Part就是说说高频交易和高频策略的类型；最后一Part就是展望一下量化的未来。可以看得出来，这本书的核心内容就是第二Part，横跨第3章到第9章，这里面核心的核心就是阿尔法(Alpha)模型，其他还讲了风险模型、交易成本模型、投资组合模型、订单执行模型和科学研究方法。我在这里多说几嘴关于阿尔法模型的吧，因为连阿尔法模型都没有的话，后面的策略步骤基本上就不用去做了。阿尔法模型就是量化策略当中超额收益的来源，也就是如何在交易市场中寻找盈利的机会，让自己获得超越市场基准的丰厚收益，这正是每个宽客魂牵梦萦的所在。虽然量化策略众多，纷繁复杂，老纳给你指明阿尔法模型类型方向，只分为两类，一类是理论驱动型，另一类就是数据驱动型。第一种理论驱动型，也是萌新入门经常选择的一种，宽客通过观察市场行为，寻找可以解释这些行为的普适性理论，然后再用数据检验（回测）是否有效，按照这个普适性理论交易是否能盈利。老纳根据个人经验，把趋势跟随（trend）、均值回复（reversion）、技术情绪（technicalsentiment）、价值/收益（value/yield）、成长（growth）和品质（quality）这6种策略都归为理论驱动型交易策略。另一种就是数据驱动型，宽客也是观察市场行为，然后通过技术手段分析这些行为数据中的模式，但只是找到这种潜在的模型就行了，不需要有理论解释和支撑，只需要知道A能到B，不需要知道A为什么能导致B。但老纳在书中说构建数据驱动型策略时，所使用的数学工具较为复杂，门槛比较高，在当时的业界使用还比较少，所以就不展开来讲了，主要还是集中在上面那6种策略类型。到现在就不一样了，硬件设备、算法算力和数据丰富度极大提升，人工智能AI已经深入到投资交易领域，特别擅长发现数据之间的非线性关系，专门干这种数据驱动的活儿，每个时代都有每个时代的局限性。更多相关推荐：quantkoala：量化投资书单推荐，20本拿走不谢！quantkoala：261个策略/指标，萌新Quant群友在这本量化神作中学到的（书附源码）quantkoala：猜谜答案揭晓&amp;推荐一本“揭秘”全球最赚钱量化基金的书籍",
        "url": "http://www.zhihu.com/api/v4/answers/2835868192",
        "comment_count": 1,
        "voteup_count": 106,
        "question_title": "http://www.zhihu.com/api/v4/questions/27533396",
        "question_url": "求一本量化投资入门书？"
    },
    "2829929528": {
        "created_time": 1672841842,
        "content": "我自己的不分享，但可以腆着脸来分享一个宝藏量化基金经理的交易方法，去年大盘表现不佳的情况下仍然能实盘盈利，跻身同类Top10~不卖关子了，这个基金经理就是公募招商基金的王平（以下就尊称为“王总”，respect~），早在2006年就校招进招商基金了，从助理数量分析师开始做起，在2010年6月开始担任基金经理，现在是招商基金来那个花投资部副总监，至今证券从业16年，可以说是见证了公募量化基金的整个发展过程，是一位不折不扣的老牌公募量化基金经理。目前在管理的基金有10余只，管理规模超50亿元，其中代表作就是『招商量化精选股票型发起式证券投资基金』，是不是特别拗口难记呢，一般是简称『招商量化精选』，A类和C类份额（主要是费率差别）加起来，基金规模大概有6亿，咱就以A类为例吧。对了，为了审慎尽责勤勉，本文中出现的所有基金名称和代码，都是为了举例说明，不构成任何投资建议哈，股市有风险，投资需谨慎~『招商量化精选A』从2016年3月成立至今，6年多时间累计收益126.22%，同期沪深300指数的收益为30.03%，大幅跑赢96.19%，同时也大幅超越同类基金的平均收益62.39%。在年初至今大盘下跌19%的情况下，该基金依然取得了5.58%的正收益，并且在最近一段时间，更是跻身同类基金Top10排行榜，保持优秀能打的作风。这么亮眼的业绩背后，很多人都会觉得，这后头肯定是大公募的复杂量化模型吧，这一点我很难确认或否认，估计只有该量化基金的团队成员才知道了。不过，从公开资料来看，如果资料都是真实的话，该量化基金投资策略的核心思想却不复杂，简单概括出来就是“PB-ROE”，不信的话，可以用“王平PBROE”作为关键字，在度娘/WX中搜索。PB（Price-to-BookRatio）就是人们常说的市净率，市净率=每股股价/每股净资产，这是一个常用的估值指标，数值越小就说明股票的估值越低，它有个亲戚也是咱的熟客，那就是市盈率PE。ROE（ReturnonEquity）是净资产收益率，净资产收益率=净利润/净资产，这是一个常用的盈利指标，数值越大说明企业的盈利能力越强，它在财务学上也有一个近亲，那就是资产收益率ROA，不过ROA在这里都用不上，只是顺道提一嘴。根据王总的自述，选股模型主要就是依靠“PB-ROE框架”，简单来说，就是在估值中枢（以PB衡量）相对稳定的行业当中，筛选具有一定成长性（以ROE衡量）的股票进行投资，并且由于市场对大市值公司研究已经较为深入，定价已经非常内卷充分，更偏向于选择市值偏小的股票，并要求个股集中度要低（持仓分散），尽量不考虑周期股。需要注意的是，“PB-ROE框架”中的ROE指的不是盈利因子ROE本身，而是“ROE增长率”，表示盈利能力的成长，属于成长因子，为了方便表述，简称为ROE，下同。通过Sharpe和Barra的基金风格分析，体现出偏小盘、价值兼顾成长的特点；看最近的一期持仓，持仓占比最高的股票占比仅有1.72%，前10大重仓股合计仅有15.27%，体现出足够的持仓分散，这在一定程度上印证了王总的投资逻辑。“PB-ROE”这种投资策略框架不是很突兀地被提出来的，是来源于很经典的一类投资策略思想，那便是GARP策略，全称是“GrowthataReasonablePrice”，以合理价格买入成长性的股票，价值策略和成长策略都是国内外投资者很熟知的两种选股策略，GARP是两者思想的融合。早在上个世纪的二十年代，本杰明·格雷厄姆(BenjaminGraham)就已经提出了价值投资的选股逻辑，其核心思想就是寻找基本面更好的公司，并且股票价格要低于内在价值。价值策略就是打算通过买入估值偏低的好基本面股票，长期持有以期获得超越大盘的稳定超额收益。它的另外一个典型代表就是沃伦·巴菲特(WarrenBuffett)，在他数十年的投资生涯中，平均年化收益率达到了20%以上，国内投资者尊称其为“股神”。相较于价值策略关注股票的过去和现在，成长策略更关注公司的潜在未来，它希望筛选出营业收入额、利润额等持续增长、且速度快于整个国家和行业的增长的股票。特别是伴随科技型公司的兴起和繁荣，成长策略逐渐成为很多投资者的心头好，其中典型的代表有美国著名的成长型基金经理詹姆斯·欧斯拉格(JamesOelschlager)。GARP策略则是同时将价值策略和成长策略融合在一起，它的典型代表是投资大师彼得·林奇（PeterLynch），他利用GARP策略在1977~1990的13年里，实现了高达29%的平均年化收益，这段传奇业绩让他坐上了基金投资业绩同业排名第一的宝座。GARP由于选股的时候同时考虑了价值和成长，投资风险则相对适中，可以获得较高的风险调整后收益，且逻辑清晰易于实现，因此非常受量化投资者的青睐。前文讲的PB-ROE框架中，PB就是对应了GARP中的价值指标，ROE对应了GARP当中的成长指标，再次提示，此处的ROE表示的是“ROE增长率”（下同），两者兼顾，目标就是寻找被市场低估、又同时有较强的持续稳定增长潜力的股票。需要说明的是，GARP策略当中的价值指标，除了PB之外，常用的还有市盈率PE、市现率PCF、市销率PS等；成长指标当中，除了ROE之外，还有净利润、销售净利率、主营业务收入等增长率指标，PB-ROE框架只是GARP策略中一个非常典型有效的实例。看着王总亮眼的实盘业绩，不禁心痒痒地想复现一个，沉下心来一琢磨，框架看似简单，但细节可是千头万绪。先说这两个因子的组合框架，在不引入机器学习复杂模型的情况下，常见的至少有3种组合方式。第一种，先针对PB和ROE因子进行单独处理，比如说进行横截面打分，PB从大到小的得分范围为1~100分，ROE从小到大的得分范围为1~100分，最后再按照每个因子的得分和设定的权重加总在一起，筛选出综合得分最高的股票。第二种，先剔除股票池当中PB值为负的股票，然后对剩余的股票池，根据PB因子从小到大进行排列，筛选出靠前N%的股票，最后在这N%的股票当中，根据ROE从大到小排序，筛选出心仪的前M支股票。第三种，跟第二种“在低估当中选高成长”顺序相反，先使用ROE因子进行过滤，然后再用PB因子进行筛选，相当于是“在高成长当中选低估”，要注意的是，需要对“负值PB”这种异常值进行特殊处理，不然PB从小(低估)到大(高估)进行排序，“资不抵债”的股票就跑到前面去了。说完因子组合框架的多样性，因子计算的可选性也不少，就拿ROE因子来说吧，它需要计算出股票ROE的增长率，成长的增幅是选择环比还是同比呢，数据是选择最新一期财报数据，还是TTM（TrailingTwelveMonths，滚动12个月）数据呢，亦或是最近N期财报数据的综合呢，这样组合在一起，光一个ROE因子的计算方式就不少于6种。好吧，要复现测试的工作量太大了，身子虚，不是很扛得住，只好根据以往的开发经验浅尝一下了，就以个人宽客的开发路径为例吧，咱一步一步梳理这个复现流程。这里打算采用第二种因子组合的方式，也就是在全市场当中先筛选出PB值最低的前N%的股票，然后再根据ROE成长因子的数值从大到小排序，最终选出靠前的M只股票，当然了，在做这些筛选之前，需要先剔除次新股、ST股、净资产为负等“奇奇怪怪”的股票”。ROE成长因子的计算方式则采用多期复合的形式计算环比数据，对根据每期财报计算出的ROE原始数值按照时间衰减加权，也就是越靠近现在时间的财报数据权重越高，这样说起来不够直观，用公式来表示吧。T-1期复合ROE=（a×T-4期ROE+b×T-3期ROE+c×T-2期ROE+d×T-1期ROE）/(a+b+c+d)T期复合ROE=（a×T-3期ROE+b×T-2期ROE+c×T-1期ROE+d×T期ROE）/(a+b+c+d)T期ROE成长因子=T期复合ROE-T-1期复合ROE其中，a、b、c、d的数值大小顺序是a&lt;b&lt;c&lt;d，时间越近，权重数值越大。是骡子是马，就要牵出来遛遛了，一边写代码，一边调bug，牺牲了两次与女神约会（若有），终于搞好策略，跑出回测，目前成品如下所示。从2010年回测到现在，将近13年时间，年化收益有40.8%，还算可以的，说明选股能力还行，怪不得王总的实盘业绩那么亮眼，再单独测试一下今年的收益看看。虽然净值曲线没那么昂扬，收益也没有往年平均的高，好歹在今年这种大盘下跌接近20%的情况下，还取得了31.8%的正收益，说明这两个GARP因子虽然简单，但是往年今年的收益还可以，还要啥自行车~~~最后还想补充3点：第一点，王总在采访当中非常强调PB-ROE框架的作用，但并不是只依赖于PB和ROE这俩因子，还会用到其他因子指标的辅助。第二点，PB-ROE框架的核心是，“在估值中枢（以PB衡量）相对稳定的行业当中，筛选具有一定成长性（以ROE衡量）的股票进行投资”，里面强调了“估值中枢相对稳定”，再加上PB和ROE因子计算的特性，需要剔除掉一些高杠杆、周期不稳定的那些行业，本次复现的策略当中也考虑到了这一点。第三点，回测模拟的效果要比王总的实盘效果好不少，一是策略的不同，二是回测与实盘的不同，三就是王总为了降低风险，持仓非常分散，这个复现的策略因为是按照个人宽客的思路，持股数目不多，而且还主动暴露市值风险，因此容易博取高收益。参考资料：华西证券，2021.03，《招商量化精选投资价值分析》首创证券，2022.04，《招商量化精选A（001917）基金投资价值分析》国泰君安，2011.09，《基于全市场的GARP选股研究》国信证券，2012.06，《基于GARP的价值投资选股策略》国信证券，2012.08，《基于GARP的Alpha选股指数增强策略》",
        "url": "http://www.zhihu.com/api/v4/answers/2829929528",
        "comment_count": 2,
        "voteup_count": 28,
        "question_title": "http://www.zhihu.com/api/v4/questions/344216737",
        "question_url": "我知道您现在的交易策略很厉害，您也不会分享，那可不可以分享一个您以前用过能盈利的交易方法呢？"
    },
    "2829823325": {
        "created_time": 1672837081,
        "content": "价值投资+量化=基本面量化投资价值投资和量化投资不是互斥的，宽客们可以根据价值投资的核心思想，开发出基本面量化策略进行实盘交易，它们的交集就是近些年兴起的基本面量化投资。就拿之前开发过的基本面选股策略F-Score模型为例，它是出自Piotroski的论文《ValueInvesting:TheUseofHistoricalFinancialStatementInformationtoSeparateWinnersfromLosers》，在华创金工的研报《双重筹码集中的基本面选股策略》中也被重点推荐过。F-Score模型构建非常简单，基于的投资交易逻辑都是价值投资里的财务指标，使用的是0-1变量，因此对异常值的容忍度非常高，不需要特地清洗数据。不信啊，我们一起来揭开F-Score模型的面纱~愿意看原文探究细节的小伙伴，可以点击下方卡片阅读或下载，只想抓住内核框架的，听我唠一唠就能了解个大概了，herewego~http://citeseerx.ist.psu.edu/viewdoc/download;jsessionid=0306A4C4E259CB6FE132162F09CECD1C?doi=10.1.1.141.5533&amp;rep=rep1&amp;type=pdf格雷厄姆和巴菲特等价值投资大师，每天挂在口头上的就是“用合理价格买优质股票”，“合理价格”看估值或风险承受能力，那股票的优质与否用什么衡量呢？这时候就轮到F-Score模型闪亮登场了。简单来说呢，F-Score就是一个利用9个因子对股票基本面进行评分的模型，得分越高，股票就约优质，这9个因子呢，都是可以基于财报数据计算出来的，因子清单和计算方式如下表所示。大概浏览一下上表，每个因子的取值只有0或1，当满足条件时，取值为1，反之为0。每满足一个条件得1分，满足N个条件得N分，因此，F-Score模型的最高评分就是9分。再详细看到每个因子~【资产收益率】用来衡量这个企业的盈利能力，“扣非”是为了剔除类似于卖房子设备、炒股投资带来的盈利，大于零表示企业处于盈利状态。【经营活动产生的现金流量净额比总资产】表示经营业务给企业带来的实际现金流入，因为利润里面是可能包含应收票据或应收账款的，类似于你去小卖部买东西赊账，小卖部账面盈利，但实际没有收到钱，大于零表示有实际的现金流入，企业真金白银的盈利。【资产收益率变化】表示企业盈利能力变化，大于零表示企业盈利加速，处于扩张状态。【应计收益率】比第二个因子更进一步地衡量企业真金白银的盈利能力，大于零表示企业盈利更为真实。【长期负债率变化】用来衡量企业偿债能力的变化，长期负债率=非流动负债/资产总额，小于零表示企业偿债能力增强。【流动比率变化】用来衡量企业变现能力的变化，流动比率=流通资产/流动负债，流动比率数值越大，企业的变现能力就越强，流动比率大于零表示企业的变现能力在增强。【股票是否增发】表示企业是否向股市再融资圈钱，不融资则表示企业依靠自身可以造血，有健康的现金流。【毛利率变化】衡量企业的竞争力变化，众所周知，如果企业没有行业壁垒护城河，则随着竞争者的融入，企业的毛利率会降低，大于零表示企业的竞争力在变强。【资产周转率变化】用来衡量企业的营运效率和管理质量，资产周转率=总营业额/总资产，资产周转率越高则表示企业能很好地利用自身资产生产商品/服务并销售出去，大于零则表示企业的营运效率和管理质量在提升。那这来自海外的F-Score基本面评分模型在中国A股是否有效呢，华创金工做了一个试验，将F-Score得分在0~3之间的股票归为Low组，4~6分的为Middle组，7~9份的为High组，进行分组回测，结果如下。从分组回测结果中看出，净值曲线是明显分层的，说明F-Score模型能起到一定的区分能力。对于个人而言，不需要投资那么多的股票，那我们就直接筛选F-Score得分为9的股票进行投资。依照这个简单朴素的思想，回测一下从2014年至今这个策略的绩效，如下所示。方便PC端观看的横版图：方便手机端观看的竖版图：从回测当中看出，相对于大盘的超额收益率不错，有23.4%，但同时也可以看出，由于是纯多头策略，部分时间收益率曲线也是横盘的，需要耐得住寂寞才能执行下去。从这个简单的策略案例可以看出，价值投资和量化投资并不是孤立互斥的，当深入理解过后，它们之间也可以完美地融合在一起~F-Score策略源码如下：参考资料：Piotroski，2002-01，《ValueInvesting:TheUseofHistoricalFinancialStatementInformationtoSeparateWinnersfromLosers》华创证券，2019-08，《双重筹码集中的基本面选股策略》",
        "url": "http://www.zhihu.com/api/v4/answers/2829823325",
        "comment_count": 2,
        "voteup_count": 35,
        "question_title": "http://www.zhihu.com/api/v4/questions/39994649",
        "question_url": "价值投资和量化有哪些交集？在哪些方面量化方法可以辅助基本面分析？"
    },
    "2828371237": {
        "created_time": 1672759339,
        "content": "无论是Alpha因子，还是风险因子，它们都是『因子』，为什么有『因子』这一说呢？那是经济学家金融学家们研究发现出来的关键元素，这些元素对股票价格涨跌有显著的影响作用，从资本资产定价模型CAPM中的市场收益率，再到Fama-French三因子和五因子模型，这些因子都是用来解释个股收益率的，Barra当中的因子就更多了。也就是说，Alpha因子也好，风险因子也罢，这些因子在横截面上对股价的涨跌都有良好的解释能力，更具体地用数学描述，就是当期因子值与股票下期收益率之间呈现强相关关系（IC值显著不为0）。横截面上，Alpha因子和风险因子是相同的，它们不同之处就在于时间序列上，Alpha因子方向和收益稳定，能源源不断带来投资收益，风险因子方向和收益不确定，有非常大的不确定性，给投资带来风险。这里的『因子收益』指的是个股收益对因子值进行线性回归后的回归系数，以下公式当中r是个股收益率，x是因子值，f就是因子收益，表示1单位的因子暴露能给个股带来多少收益，每个月（其他周期也可以）都可以计算一次，就能形成因子收益的时间序列。最理想的Alpha因子长什么样呢？它的因子收益的时间序列长得跟下图一样，因子的方向和收益率都非常稳定，每一期的因子方向和收益都是可以预测的，根据这个因子正向选股就可以了，就跟有内幕消息一样，钱哗啦啦地流进口袋。但是现实当中哪有这么完美嘛，方向大部分时间稳定就可以了，因子收益不要太小就可以了，因子收益序列如下所示，只要长期坚持根据这个因子正向选股，还是可以获得不菲的投资收益。BTW，Alpha因子方向稳定就可以了，不一定是要正的，稳定的负向也是可以的，这就是常说的“负Alpha因子”，就好比说你知道一个因子，根据它来选股，这个股票价格一定是下跌的，只要能够融券做空，一样可以哗哗赚钱。风险因子就跟Alpha因子在时间序列上有很大的不同，最主要的差别就是因子方向飘忽不定，令人难以捉摸，无法预测，你都不知道该根据因子值正向选股呢，还是反向选股呢，因子收益序列大概长这样。这样的因子可以用来解释股价，说说这个时间段个股为什么上涨，那个时间段为什么下跌，但很难用来预测，赚取超额收益。Alpha因子和风险因子的区别说完了，那为什么这两类因子出现混用呢？也就是题主说的“看到barra里面有size，liquid等因子，这些因子同样出现在很多人的alpha模型里面，请问alpha模型里面该不该放风险因子？”这就涉及到因子的演化了，因为曾经的Alpha因子会失效，沦落为风险因子；风险因子也可以在某个时间段比较支棱给力，呈现出Alpha打鸡血的状态，被人放进Alpha模型当中。我给大家贴一个2003年时候的美国股市的Alpha因子列表，上面赫然写有“小市值”，跟我国A股2017之前一样，小市值历来都是Alpha因子，只是后来失效了，成为了风险因子，但是最近又支棱起来了。Alpha模型当中当然可以放风险因子，就如同现在很多选股模型当中依然有小市值因子一样，一个因子是否被放入选股模型当中，并不取决于它是Alpha因子，还是风险因子，只取决于自己是否能“掌控”它？掌控，那又是另一个很长的故事~参考资料：石川、李腾、flyerye等，知乎问题《怎么区分alpha因子和风险因子？》的回答BerryCox，2003.11，《EquityFactorsandPortfolioManagement:AlphaGenerationVersusRiskControl》冯佳睿，2017.08，《引入风险管理后的多因子选股框架与指数增强策略》",
        "url": "http://www.zhihu.com/api/v4/answers/2828371237",
        "comment_count": 5,
        "voteup_count": 78,
        "question_title": "http://www.zhihu.com/api/v4/questions/35383465",
        "question_url": "怎么区分 alpha 因子和风险因子？"
    },
    "2803109219": {
        "created_time": 1671116442,
        "content": "题主，我帮你问了，根据目前的chatGPT行情来看，初级量化投资人员的月薪应该在10w人民币，而资深量化投资人员的月薪则是在20w人民币以上~",
        "url": "http://www.zhihu.com/api/v4/answers/2803109219",
        "comment_count": 6,
        "voteup_count": 4,
        "question_title": "http://www.zhihu.com/api/v4/questions/314642898",
        "question_url": "做量化投资薪酬和待遇如何？"
    },
    "2791809158": {
        "created_time": 1670416532,
        "content": "我腆着脸来打个样，唠唠机器学习在量化择时方面的应用，而且还得是走心坦白局，手把手带大伙儿剥开策略底层的内衣，从零开始走通基于机器学习的量化择时模型的开发全流程。零.机器学习，浅尝一下人类发现规律一般采用的是归纳演绎法，对观察到的大量现象进行归纳，在心中形成规律，然后再遇到类似的情况，就可以迅速做出预测和判断，比如说“朝霞不出门，晚霞行千里”、“瑞雪兆丰年”、“狗打喷嚏天要晴”，这都是老祖先归纳演绎法的结晶，可能不是每回都灵验。机器学习和人类的思考过程非常相似，把历史数据输入到模型当中，训练出一个能完成特定任务的数学模型，等到有新的数据出现时，就把新数据输入到训练好的模型当中，这就会输出一个预测的结果，特别地，机器学习在识别非线性规律方面，相较于人脑更有优势。具体结合咱这次的目标进行说明，咱这次的任务就是利用机器学习模型，预测沪深300指数第二天的涨跌情况，输入的数据就是沪深300指数的开高低收行情数据，将这些数据输入到支持向量机（SupportVectorMachine，SVM）当中进行模型训练，待SVM训练好之后，输入今天的行情数据，就能输出对第二天行情的预判。为什么选择SVM呢？因为咱这次使用的数据集是沪深300指数的日线行情数据，它自2005年上市以来，拢共才四千多个交易日，换句话说，也才四千多个样本点，相对于几百万上千万的“大数据”来说，这充其量才算一个“小样本”，这无疑是一个非常适合SVM的应用场景。因为在深度学习（一般需要大数据“投喂”）尚未全面兴起时，SVM由于其较高的小样本预测准确率，并且能够解决非线性分类问题，属于当时机器学习方法潮流圈中的扛把子。SVM很能打，但本身并不是非常复杂，今儿个不抠数学细节，大白话讲讲SVM是什么有什么用，以免没开始就把大伙儿劝退了。SVM最初的设计是用来解决二分类问题，后来扩展到多分类问题，“预测沪深300指数涨跌”就属于典型的二分类问题，“涨”是一个类别，“跌”就是另一个类别。它通过寻找一个最大间隔超平面（上图黑斜线）将两类样本线性区分开来，并且保证两侧样本的最近边缘点到这个平面的距离是最大的，由于最大间隔超平面仅取决于两个类别的边缘点，例如上图中被红线和蓝线穿过的红点和蓝点，这些点就被称为支持向量，这就是“支持向量机”名称的由来。但现实世界很奇妙，有线性可分的数据集，就有非线性可分的数据集，那遇到非线性可分的情况怎么办？那也有办法，SVM引入了核函数，可以将低维不可分的数据映射到高维线性可分，如上图，二维不可分就映射到三维，常用的核函数有线性核、多项式核、高斯核（RBF核）和Sigmoid核。但在现实当中，由于噪声和极端样本点的存在，数据集无论在低纬和高维都可能出现线性不可分的情况，于是乎，SVM当中引入了松弛变量的概念，允许了最大间隔超平面不用完美区分两个类别，允许错误分类的存在，SVM通过惩罚系数C控制这些错误分类的容忍程度，C值越高分类准确率越高，但数值过高容易导致过拟合，C值过低则会导致准确率受损。SVM唠完了，咱来说说一般机器学习建模的流程，一般分为6步走，按照先后顺序分别是收集数据、准备数据、选择/建立模型、训练模型、测试模型和调节参数。量化，没有白走的路，每一步都算数，下文咱一步一步地走一遍~一.准备数据巧妇难为无米之炊，第一步咱要获取到最原始的建模数据，对于指数的日线数据而言，有非常多的免费获取渠道，只要能获取到指数的日期（date）、开盘价（open）、最高价（high）、最低价（low）和收盘价（close）就可以了。在此处以tushare为例，获取沪深300指数自2005年4月8日上市以来的全部行情数据，它是一个免费、开源的python财经数据接口包，网址是：http://tushare.org/。导入tushare包之后，使用它的get_k_data函数，就可以获得沪深300指数的历史K线数据，返回的数据格式是dataframe，咱只选取开高低收数据，并将日期（字符串格式）设置为索引。importnumpyasnpimportpandasaspdimporttalibimportwarningswarnings.filterwarnings('ignore')importtushareastsdata=ts.get_k_data(code='hs300',start='2005-04-08',end='2022-11-08',ktype='D')data=data.set_index('date')data=data[['open','high','low','close']]print('样本数目：%d'%data.shape[0])print(data.head(10))print(45*'-')print(data.tail(10))二.数据准备有了原始数据之后，咱还要进一步进行加工和处理，主要工作是变量选择、确认标签和数据清洗。变量选择在量化投资当中叫“因子选择”，就是用哪些因子（factor）进行选股择时那些，在机器学习领域一般叫“特征选择”，指定用哪些特征（feature）来作为算法模型的输入。在这里咱用到因子分别是EMA值（ema）、价格波动率（stddev）、价格斜率（slope）、RSI值（rsi）和威廉指标值（wr），此处咱利用talib包丝滑地完成计算，它是一款量化圈驰名、彪悍强大的第三方技术分析指标计算包。data['ema']=talib.EMA(data['close'].values,timeperiod=20)data['stddev']=talib.STDDEV(data['close'].values,timeperiod=20,nbdev=1)data['slope']=talib.LINEARREG_SLOPE(data['close'].values,timeperiod=5)data['rsi']=talib.RSI(data['close'].values,timeperiod=14)data['wr']=talib.WILLR(data['high'].values,data['low'].values,data['close'].values,timeperiod=7)data.tail(10)确认标签呢，就是给这个样本点打上类别标签，由于咱是预测指数第二天的涨跌情况，于是，咱先计算出每个样本第二天的涨幅（pct），如果第二天上涨，则设置标签（rise）为1，反之为0。由于指数数据一般异常情况不是很多，如果有空值，咱把空值删除就好了。data['pct']=data['close'].shift(-1)/data['close']-1.0data['rise']=data['pct'].apply(lambdax:1ifx&gt;0else0)#删除缺失值data=data.dropna()data.tail(10)三.选择/建立模型选择/建立模型就是需要确定自己这次使用哪种机器学习模型，是支持向量机SVM呢，还是神经网络NN呢，亦或是随机森林RF呢，或者其他的模型。在之前已经说过了，咱是用SVM模型，原因和原理不再赘述，为了方(tou)便(lan)实现和建立模型，咱可以直接从Scikit-learn（简称sklearn）中导入，它是非常流行的Python免费机器学习库，具有各种分类、回归和聚类算法，一般配合numpy数据格式使用。四.训练模型在这里，咱需要把整个数据集分拆为训练集和测试集，因为除了训练模型之外，咱还要留出一部分数据来验证训练出来模型的优劣。一般来说，将完整数据集80%的样本作为训练集，剩余20%的样本作为测试集，要注意的是，这里要将dataframe中的因子数据转换成numpy的ndarray数组格式，因为这种数据类型更适配sklearn。#划分训练集和测试集num_train=round(len(data)*0.8)data_train=data.iloc[:num_train,:]data_test=data.iloc[num_train:,:]#训练集数据和标签X_train=data_train[['ema','stddev','slope','rsi','wr']].valuesy_train=data_train['rise']#测试集数据和标签X_test=data_test[['ema','stddev','slope','rsi','wr']].valuesy_test=data_test['rise']print(X_train[:10])print(45*'-')print(X_test[:10])在划分数据集之后，还有非常重要的一步，那就是对数据进行标准化处理，这是因为每个因子的数值量纲差别太大，例如指数EMA的均值是2919.6，而RSI的均值是52.7，这样会造成SVM对某些因子的“偏心”。在此处，采用“(原始值-均值)/标准差”的方法对数据进行标准化处理，处理过后，每个因子的均值都会变为0，标准差变为1.0。fromsklearn.preprocessingimportStandardScalerprint('---标准化之前---')print('训练集的均值：')print(X_train.mean(axis=0))print('训练集的标准差：')print(X_train.std(axis=0))#对数据进行标准化scaler=StandardScaler()X_train=scaler.fit_transform(X_train)X_test=scaler.transform(X_test)print('---标准化之后---')print('训练集的均值：')print(X_train.mean(axis=0))print('训练集的标准差：')print(X_train.std(axis=0))数据标准化处理之后，就可以将训练集数据输入SVM当中，代码实现很简单，从sklearn的svm模块当中导入SVM分类器SVC，创建实例对象后，将训练集因子数据和对应标签塞进fit函数就行了，SVM模型的惩罚系数使用默认值1.0，核函数也用默认的RBF核函数，训练过程非常快，不用一个东的时间，就把SVM分类器训练好了。fromsklearn.svmimportSVCclassifier=SVC(C=1.0,kernel='rbf')classifier.fit(X_train,y_train)print(classifier)五.测试模型至此，SVM分类器已经训练好了，把因子数据塞进predict函数，就能输出每个样本的预测值，咱分别把训练集和测试集的预测标签插回到原来的数据集当中，用来计算预测的准确率。y_train_pred=classifier.predict(X_train)y_test_pred=classifier.predict(X_test)data_train['pred']=y_train_preddata_test['pred']=y_test_predaccuracy_train=100*data_train[data_train.rise==data_train.pred].shape[0]/data_train.shape[0]accuracy_test=100*data_test[data_test.rise==data_test.pred].shape[0]/data_test.shape[0]print('训练集预测准确率：%.2f%%'%accuracy_train)print('测试集预测准确率：%.2f%%'%accuracy_test)输出结果：训练集预测准确率：57.52%测试集预测准确率：52.35%从结果当中看出，训练集的预测准确率明显比测试集的高，这是因为整个模型都是在训练集数据上训练出来的，对测试集数据则还很“陌生”，这就相当于高考数学考卷都是你们学校的数学老师出的，整体来看，你们的平均分就非常可能比其他同级别的学校高。光看准确率还不够直观，咱还要看一下如果纯粹按照这个择时模型的预测结果进行投资，能获得多少收益，此处只使用测试集进行模拟。假设指数可以多空交易，如果模型预测为1（上涨），第二天策略的收益率就是指数的涨幅，如果模型预测为0（下跌），第二天策略的收益率就是指数的涨幅的相反数，有了每天的日收益率之后，通过dataframe自带的累乘函数cumprod，就可以得到择时策略和沪深300指数的净值曲线，为了方(tou)便(lan)起见，不考虑交易费率，以及按照收盘价成交。importmatplotlib.pyplotasplt#策略日收益率data_test['strategy_pct']=data_test.apply(lambdax:x.pctifx.pred&gt;0else-x.pct,axis=1)#策略和沪深300的净值data_test['strategy']=(1.0+data_test['strategy_pct']).cumprod()data_test['hs300']=(1.0+data_test['pct']).cumprod()#粗略计算年化收益率annual_return=100*(pow(data_test['strategy'].iloc[-1],250/data_test.shape[0])-1.0)print('SVM沪深300指数择时策略的年化收益率：%.2f%%'%annual_return)#将索引从字符串转换为日期格式，方便展示data_test.index=pd.to_datetime(data_test.index)ax=data_test[['strategy','hs300']].plot(figsize=(16,9),color=['SteelBlue','Red'],title='SVM沪深300指数择时策略净值by量化君')plt.show()六.调节参数从上一步的测试当中看出，训练集和测试集的预测准确率只有57%和52%，不算理想，说明还有很大的提升空间，还可以对模型进行优化改进。比如说，现在使用的5个因子，还没有反应到价格波动的本质，还可以增改更多的因子。还比如说，SVM模型当中的惩罚系数C过小，对错误样本的容忍度过高，RBF核函数不适合作为这个数据集的映射转换函数。再比如说，甚至连SVM模型本身也是一个参数，也可以更改，比如说可以换成其他的机器学习分类模型。也就是说到这调节参数这一步，如果训练好的模型结果不能让自己满意，就可以重新将前5步走一遍。咱终于吭哧吭哧走完了，利用机器学习构建量化择时策略的全流程，相信大伙儿对机器学习相关概念和建模流程也有了初步的了解，基于这个建模框架流程，将来的你可以玩得更花，可以采用更高频的数据、更鲁棒的模型、更多的交易标的、更有效的因子、更有趣的预测任务，以及~~~遇见更好的自己。参考资料周志华，2016年1月，书籍《机器学习》华泰金工，2017年8月，研报《人工智能选股之支持向量机模型》阿泽，2020年6月，知乎《【机器学习】支持向量机SVM（非常详细）》",
        "url": "http://www.zhihu.com/api/v4/answers/2791809158",
        "comment_count": 6,
        "voteup_count": 76,
        "question_title": "http://www.zhihu.com/api/v4/questions/27420308",
        "question_url": "机器学习（非传统统计方法如回归）在量化金融方面有哪些应用？"
    },
    "2756867380": {
        "created_time": 1668334605,
        "content": "看了题主的量化策略回测描述，总共回测了10年时间，成功率61%，盈亏比1.9，这算是一个非常亮眼的回测结果了，但是实盘效果就很差，这算是量化界当中比较常见的现象，可能的原因咱来从头到尾捋一下。首先，回测效果非常好，实盘要浮现出八九不离十的收益，那就要首先评估自己的回测是不是正确的。数据源、数据处理和计算方式是否正确呢？数据源是不是经过“清洗”干净了呢？停牌日期的数据是如何处理，计算MACD的时候是保留停牌日期的收盘价还是不保留，实盘的计算方式是否与之对应呢？股票原始价格有除权除息，一般会使用复权数据，如果使用了前复权数据的话，那就相当变相使用了未来数据，那实盘效果肯定要大打折扣。其次，如果在数据源、数据处理和计算方式都正确和对应的情况下，要确保自己的策略没有引入未来函数，以下举2种可能出现的情况。根据题主对策略的描述“N字形突破+MACD”，这大概率是一个趋势策略，趋势策略往往就容易买入大涨的股票，其中就包括涨停股，那在回测当中是否对涨跌停股票进行特殊处理呢？比如，涨停的股票无法买入，跌停的股票无法卖出。还有一种可能，题主可能在回测当中使用的是收盘价计算N字形指标和MACD指标，以此产生交易信号并以收盘价成交，这也是变相引入了未来函数，因为在实际当中无法知道收盘价，知道收盘价时已经收盘无法再以收盘价成交，这样相当于提前预知了收盘价。再次，排除了未来函数的影响，就需要看看策略是否是过拟合了，过拟合也是量化策略回测当中非常容易犯的错误。MACD本身带有3个参数，假设N字形突破只带1个参数，通过对4个参数的参数寻优，人性的贪婪往往只会选择其中看起来效果最好的参数，有可能这组参数恰好是参数平面上的孤岛。要排除这方面的过拟合，最少要做一个参数敏感性分析吧。最后，经过重重的检查，保证回测的正确性和准确性，让实盘效果大打折扣的原因就是真实交易环境的限制。题主做的是趋势策略抓突破，股价可能处在一种快速上涨的过程当中，在回测当中能成交的价格，在实际交易当中由于行情延迟和流动性等因素的影响，要以更高的价格成交，产生非常大的滑点，削弱了收益。还有就是，回测当中的数据是“死的”，而在实盘当中数据是“活的”，自己的交易行为会反作用于市场，把股价推向更高位置，也会产生大滑点，这就是量化中常说的“冲击成本”最后的最后，那就是咱都不想面对的情况了——策略失效。每一个策略都是有周期的，雷总说“站在风口上，猪都会飞”，当风停了之后，策略处在失效回撤期，磨人的时间开始了。回测没有错，策略也没有错，只是老天爷不赏饭吃了，“此天之亡我，非战之罪也”，收拾好心情，收拾好行囊，重新出发，优化改进让策略重新焕发生机活力。",
        "url": "http://www.zhihu.com/api/v4/answers/2756867380",
        "comment_count": 9,
        "voteup_count": 43,
        "question_title": "http://www.zhihu.com/api/v4/questions/495101677",
        "question_url": "一个N字形突破+MACD的股票策略，回测10年，成功率61%，盈亏比1.9，实盘就差，请高手指点下？"
    },
    "2753184824": {
        "created_time": 1668092165,
        "content": "量化的作用是用回测的方式验证投资交易策略方法的正确性，然后以策略产生的信号进行程序化或手工进行交易，不管黑猫白猫，抓住老鼠就是好猫，能实现同样的功能就好。懂编程自然最好，但对于个人交易者，特别是交易频率不高的交易者，更关键的是量化思维的培养，不会编程的话，也不用先急着学，也不需要零编程规则式的量化平台，仅依靠微软Office办公三件套之一的Excel，便可以走通量化策略的开发和回测的整个流程，不信啊，您往下瞅瞅~说起来惭愧，我最初做量化的时候，也没学编程，仅用Excel外带几个常用公式就开搞了，因为在我的眼里，量化投资更多是一种投资交易的分析手段，基于金融逻辑和历史数据，发现和验证交易理念，提高决策的胜率，只要能实现这些功能，管他黑猫白猫，抓住老鼠就是好猫，弯下腰，弄脏手，躬身入局。而且啊，Excel有个好处就是，展示数据非常直观，非常便于咱深入了解整个过程，让量化基础更扎实，闲篇扯完了，撸起袖子开整吧~无论是主观投资还是量化投资，在新手村的时候，肯定听说过『双均线策略』，以股票为例，就是短均线上穿长均线，形成金叉时买入，短均线下穿长均线，形成死叉时卖出。挑选近期大涨的股票往回看，发现大涨之前的确是有双均线金叉，大跌的股票也是有双均线死叉，其实这可能是一个“幸存者偏差”，可能是金叉/死叉之后有大涨/大跌的，也有震荡的，只不过是大涨/大跌的被有意或无意地挑选出来。那到底这个『双均线策略』是真的有效，还是幸存者偏差，咱不能拍大腿拍脑袋就决定了，教员说“没有调查，没有发言权”，小平同志说“实践是检验真理的唯一标准”，那咱就用量化的试金石测一下，那就把『双均线策略』作为萌新入门量化的第一个策略吧。首先要准备一个Excel表格，里面装有你心仪投资标的的行情数据就行，股票可以，数字货币也行，最低配的，有日期和收盘价就可以了，甚至连日期都可以没有，自己知道时间的对应关系就行了。什么？找不到行情数据？现在可以拿到免费数据的渠道那么多，咱还是不要守着金山当乞丐哟~我就拿股票为例吧，说说怎么获取免费的股票数据，“通达信”大家知道伐，用的人很多的那个，在电脑端下载安装一个，免费注册使用的。打开你想测试的个股日K图，为了避免有荐股的嫌疑，我就以沪深300指数为例。点击右上角工具栏【选项】，在弹出的下拉列表中选择【数据导出】，接着就会弹出一个对话框，记得选【Excel文件】，设置好文件的存放路径，自己能找到就行。这里有一个操作小技巧，通达信默认是导出界面所展示的日期范围内的数据，如果想要更多数据，按键盘的向下键『↓』，就可以展示更多日期，我在这里就获取了沪深300能获取的全部数据，日期范围为2005年1月4日至今。导出的数据当中，除了行情数据之外，还有很多乱七八糟的数据，为了简洁起见，只保留日期和收盘价，其他的内容统统删除掉。为了美观，可以让数据居中对齐和加框线。有了数据之后，剩下的就好办了，只要懂Excel基本操作，一步一步跟着走就可以完成。现在咱要算出两根均线的数值，短均线咱就用5日均线（MovingAverage5，MA5），长均线咱就用20日均线（MA20）。每一天的MA5数值，就是用含有当天的5个收盘价计算平均值，MA20就是利用20个。2005年至今有4000多个交易日，咱总不能手动一个一个算出来啊，这样会累si人的，为了方便轻松，就需要用到Excel的公式了。由于计算MA5需要5个收盘价数据，所以在新增一例“MA5”后，在2005年1月10日所在行的单元格里输入“=AVERAGE(B2:B6)”，就可以算出2005年1月10日的MA5数值了，其中B表示“B列”，也就是收盘价所在的列，数字表示行号，由于列名占了一行，所以第一个有效数值从第2行开始，相信懂Excel基本操作的小伙伴都能明白哒，下文不再赘述了。Excel当中很智能的一点是，你再选中刚才那个单元格，把鼠标移到单元右下方，鼠标会变成一个黑色十字『＋』,双击鼠标左键，Excel就会智能地利用这个公式对剩余数据进行计算，文字比较抽象，请看下图的演示。MA20的计算也是同理，只不过MA20的计算需要20天的数据，因此需要在2005年1月31日才能计算第一个数据点，至此，咱就有了MA5和MA20两条均线的数据了。有了双均线数据之后，咱就要确定交易信号，就像前面说的那样，金叉买入，死叉卖出，这里要用到Excel的IF判断公式，形式如IF(条件,A,B)，如果条件成立的话，单元格就输出A，不成立的话，单元格就输出B，咱在这里，如果MA5高于MA20就输出1，反之就输出0。于是，新增一列“信号”列，在MA20有第一个数值的那一行对应的单元格里输入“=IF(C21&gt;D21,1,0)”，然后再利用之前的“黑色十字双击”技巧，智能填充另外的信号列数据。现在交易信号也有了，那怎么统计这个策略的收益率呢？咱现在回过头来看，由0变1的那个日期对应的就是金叉，由1变0的那个日期对应的就是死叉，根据“金叉买入，死叉卖出”的原则，可以简单认为（下文有补充），信号为1的日期都是有持仓的，信号为0的都是空仓。于是乎，假设咱是全仓买入沪深300指数（有对应ETF可交易），先计算指数的日收益率，然后将每天的收益率与信号相乘，就可以得出策略的日收益率，空仓的日期收益率为0，持仓的日期收益率就是对应指数的收益率，操作演示如下。有了日收益率之后，咱就可以进一步得出这个双均线策略的累计收益情况了，每一天的资产金额等于前一日资产金额乘以(1+当日涨幅)，假设咱期初有1000块钱，结合前面计算出来的策略日收益率，就可以依次算出每一天的资产金额。如果按照这个双均线策略操作，在不考虑交易成本的情况下，咱最终能拥有多少钱呢？效果是否比买入并持有沪深300指数好呢？从最后一个交易日的结果看出，双均线策略从18年前的1000块钱变成了今天的4个达不溜，18年40倍，而买入并一直持有沪深300则是4倍，前者年化收益约22%，后者年化收益约为8%，超额收益14%。在Excel中画图也是非常简单的，选中“日期”、“双均线策略”和“买入并持有”这三列，然后插入折线图，双均线策略的资金曲线就出来啦，从折线图当中更能直观地看出收益情况的对比。小结一下，单纯基于Excel进行了双均线计算、交易信号确定、日收益率计算、资产金额计算和资金曲线画图这5个步骤，完成了『双均线策略』的开发和回测，不会编程的萌新也可以利用这套流程，对常见的技术指标在个股和指数/ETF等投资标的上进行有效性验证，只要灵活修改前面“指标计算”和“交易信号确定”这两个步骤就可以了。补充说明，这个策略的开发和回测流程，主要是启发萌新的量化思路，其实细心的读者已经发现了，在生成交易信号的时候是带有一点“未来函数”的，因为双均线是利用收盘价计算出来的，出现金叉/死叉的时候已经收盘了，无法按照收盘价买入，更不会将当日涨幅纳入进来。因此更为严谨的操作是，在前一日金叉时，今日按照开盘价买入，策略的日收益率则是开盘价到收盘价的涨幅；在前一日死叉时，今日按照开盘价卖出，策略的日收益率则是前一日收盘价到今日开盘价的涨幅，这需要多增加几列数据进行计算。因为这种带有一点未来函数的回测方法非常直观和便捷，自己在遇到新指标因子时，可以快速进行测试，如果回测效果好，则进行更深入的研究，如果效果不好，直接放弃说byebye~",
        "url": "http://www.zhihu.com/api/v4/answers/2753184824",
        "comment_count": 2,
        "voteup_count": 74,
        "question_title": "http://www.zhihu.com/api/v4/questions/400956433",
        "question_url": "作为一个个人量化自营交易者，一定要会编程吗？"
    },
    "2751737770": {
        "created_time": 1668007806,
        "content": "一般要在指数收益基础之上实现增强收益，通常的实现策略就是“Alpha选股+T0交易”。Alpha选股就是高配部分优质成分股，或者就是在全市场里面选股，替换掉指数当中较差的成份股，由于中证1000指数当中基本都是小盘股，小盘股更容易被错误定价，所以容易做出Alpha，获得超额收益。T0交易就是以股票底仓作为券池，在A股T+1的交易制度下变相实现日内交易，以此来赚取日内价差，增厚收益。打个比方说，看跌指数某只成份股，上午以10块钱价格卖出持仓当中的1w股，接近收盘时，果真股价下跌到了9.5，再以这个价格买回来，这是一个变相的日内交易，最终的股票数目并没有发生变化，但是账上多了5000块钱，增厚了收益。这是一种博取价差的行为，当然是中证1000里面的小盘股波动大，更有机会吃到肥美到价差。几年前有非常多的T0工厂，很多私募都愿意把股票底仓“外包”给他们做T0增厚收益，后来做的人多了增厚收益下降且人工成本越来越高，很多私募都自己做程序化T0了。",
        "url": "http://www.zhihu.com/api/v4/answers/2751737770",
        "comment_count": 3,
        "voteup_count": 13,
        "question_title": "http://www.zhihu.com/api/v4/questions/552043091",
        "question_url": "为什么中证1000的指数增强产品，超额收益大于中证500，以及中证300？"
    },
    "2748347914": {
        "created_time": 1667813587,
        "content": "回测本身是一个中性的量化工具，就像菜刀一样，既可以切菜切肉做出佳肴，也可以砍人砍物做出恶事，关键是看握在谁的手里。回测一般是用来验证投资策略的有效性，把根据策略思路产生的交易放在历史数据当中检验，看最终是否达到预期当中的结果，如果在历史数据当中都没有良好的表现，估计在未来的实盘中够呛。让回测出现过拟合现象，如果不是因为纯粹的无知，那就是因为人心的“贪婪”，很多人更倾向于相信更满意更美妙的回测结果，追求更高的收益率、盈亏比、夏普率和更低的回撤，而漠视这背后的风险，例如数据错误、幸存者偏差、参数孤岛等。试想，一个策略有3个参数，每个参数有10个可选值，那这个策略就有1000条路径走向，现实当中可选值和路径走向会更多，只要你不停地优化探寻，总会摸到一条看起来非常美妙的幽径，在回测当中取得亮眼的绩效，这条风景旖旎的幽径是人性选出来，如果终点是悬崖峭壁，别忘记回测还曾告诉过你另外的999条路。quantkoala：答应我，在量化策略回测里，避开未来函数这4个坑",
        "url": "http://www.zhihu.com/api/v4/answers/2748347914",
        "comment_count": 6,
        "voteup_count": 51,
        "question_title": "http://www.zhihu.com/api/v4/questions/393734238",
        "question_url": "您怎么理解回测本身就是一种过度拟合？"
    },
    "2681020805": {
        "created_time": 1663601544,
        "content": "先来说说股票的MACD的默认参数为什么设置成（12，26，9），后边再唠唠BTC期货的MACD的参数该如何合理设置~我刚开始接触到MACD指标时，也是不自觉地在使用这组默认参数，也从来没有深究过为啥是这3个“不零不整”的数值，最近得空，好好来探寻一番，把知乎上网上的相关回答都看了一个遍。“遍览”这些相关资料，也没有找到MACD之父GeraldAppel（杰拉德·阿佩尔）的详细生平资料和MACD研发的心路历程，但看到了一些有趣的说法，我姑且说之，您姑且听之，咱一笑了之。MACD的具体计算方式和使用方法就不再赘述了，只说说参数的定义，“12”（SHORT）是短周期均线的计算长度，“26”（LONG）是长周期均线的计算长度，“9”（MID）是对长短均线离差值计算平均时的长度。在坊间，大伙儿对“12”和“26”的来历说法都较为一致。相传，在Gerald发明MACD的上世纪70年代，漂亮国交易市场仍在“996”，采用的是单休制度，一周有6个交易日，于是“12”对应的是两周。每个月有4周，一周休息一天，那么30-4=26，“26”对应的是一个月。但是查了道琼斯工业指数和麦当劳的历史日K图，发现一周并没有6根Bar，说明至少在漂亮国股票交易市场并没有“996”，觉得更可能是Gerald关注的交易品种一周是交易6天，类似于期货从周一上午交易到周六凌晨。MACD默认参数中的“12”和“26”都好解释，但是关于“9”的来历就众说纷纭了，目前主要有3种说法。第一种说法，“9”纯粹是作者喜欢的观察周期，萝卜白菜，各有所爱，没有9的话，还可以是8或者10，到时候我们一样会疑惑。第二种说法，“9”对应的是一周半，上文说了，那时候是一周交易6天，那“9”正好是一周半。第三种说法，也是跟一周交易6天有关，不过这种说法显得更高大上一些，“9”是每周交易日数目乘以概率密度系数后的结果，其中1/sqrt(2π)是标准正态分布的概率密度函数的系数。现在终于对MACD的默认参数（12，26，9）是怎么来的，终于有些眉目了，我们要是对BTC期货的MACD的参数进行调整就有底了。BTC是全天24小时交易，那一周的交易天数就是7，2周就是14，一个月的交易天数就是30，那前面两个参数就是（14，30）。第3个参数的确定，关键是在于你觉得哪一种说法更合理。如果是第一种，那就可以随心所欲了，适合自己的观察周期就好。如果是第二种，那一周半就是对应1.5x7=10.5，MACD的默认参数可以设置为（14，30，10）或者（14，30，11）。如果是第三种，那MACD的默认参数可以设置为（14，30，10）。如果觉得MACD反应不够灵敏，可以将参数等比例缩小，例如（7，15，5）。",
        "url": "http://www.zhihu.com/api/v4/answers/2681020805",
        "comment_count": 2,
        "voteup_count": 13,
        "question_title": "http://www.zhihu.com/api/v4/questions/268207178",
        "question_url": "求助，比特币期货如何设置MACD的参数？"
    },
    "2681001717": {
        "created_time": 1663600547,
        "content": "量化投资和基本面投资，这两者并不是对立的，现如今早已出现基本面量化（Quantamental），也就是量化投资在公司基本面分析上的应用，小孩子才做选择，成年人全都要！F-Score是常见且经典的量化基本面多因子模型之一，它是出自Piotroski的论文《ValueInvesting:TheUseofHistoricalFinancialStatementInformationtoSeparateWinnersfromLosers》，在华创金工的研报《双重筹码集中的基本面选股策略》中也被重点推荐过。这个模型的构建非常简单，且非常有金融逻辑，由于使用的是0-1变量，F-Sccore模型对异常值的容忍度非常高，不需要特地清洗数据。不信啊，咱一起来揭开F-Score模型的面纱~愿意看原文探究细节的小伙伴，可以点击下方卡片阅读或下载，只想抓住内核框架的，听我唠一唠就能了解个大概了。http://citeseerx.ist.psu.edu/viewdoc/download;jsessionid=0306A4C4E259CB6FE132162F09CECD1C?doi=10.1.1.141.5533&amp;rep=rep1&amp;type=pdf​citeseerx.ist.psu.edu/viewdoc/download;jsessionid=0306A4C4E259CB6FE132162F09CECD1C?doi=10.1.1.141.5533&amp;rep=rep1&amp;type=pdf​citeseerx.ist.psu.edu/viewdoc/download;jsessionid=0306A4C4E259CB6FE132162F09CECD1C?doi=10.1.1.141.5533&amp;rep=rep1&amp;type=pdf格雷厄姆和巴菲特等价值投资大师，每天挂在口头上的就是“用合理价格买优质股票”，“合理价格”看估值或风险承受能力，那股票的优质与否用什么衡量呢？这时候就轮到F-Score模型闪亮登场了。简单来说呢，F-Score就是一个利用9个因子对股票基本面进行评分的模型，得分越高，股票就约优质，这9个因子呢，都是可以基于财报数据计算出来的，因子清单和计算方式如下表所示。大概浏览一下上表，每个因子的取值只有0或1，当满足条件时，取值为1，反之为0。每满足一个条件得1分，满足N个条件得N分，因此，F-Score模型的最高评分就是9分。再详细看到每个因子~【资产收益率】用来衡量这个企业的盈利能力，“扣非”是为了剔除类似于卖房子设备、炒股投资带来的盈利，大于零表示企业处于盈利状态。【经营活动产生的现金流量净额比总资产】表示经营业务给企业带来的实际现金流入，因为利润里面是可能包含应收票据或应收账款的，类似于你去小卖部买东西赊账，小卖部账面盈利，但实际没有收到钱，大于零表示有实际的现金流入，企业真金白银的盈利。【资产收益率变化】表示企业盈利能力变化，大于零表示企业盈利加速，处于扩张状态。【应计收益率】比第二个因子更进一步地衡量企业真金白银的盈利能力，大于零表示企业盈利更为真实。【长期负债率变化】用来衡量企业偿债能力的变化，长期负债率=非流动负债/资产总额，小于零表示企业偿债能力增强。【流动比率变化】用来衡量企业变现能力的变化，流动比率=流通资产/流动负债，流动比率数值越大，企业的变现能力就越强，流动比率大于零表示企业的变现能力在增强。【股票是否增发】表示企业是否向股市再融资圈钱，不融资则表示企业依靠自身可以造血，有健康的现金流。【毛利率变化】衡量企业的竞争力变化，众所周知，如果企业没有行业壁垒护城河，则随着竞争者的融入，企业的毛利率会降低，大于零表示企业的竞争力在变强。【资产周转率变化】用来衡量企业的营运效率和管理质量，资产周转率=总营业额/总资产，资产周转率越高则表示企业能很好地利用自身资产生产商品/服务并销售出去，大于零则表示企业的营运效率和管理质量在提升。那这来自海外的F-Score基本面评分模型在中国A股是否有效呢，华创金工做了一个试验，将F-Score得分在0~3之间的股票归为Low组，4~6分的为Middle组，7~9份的为High组，进行分组回测，结果如下。从分组回测结果中看出，净值曲线是明显分层的，说明F-Score模型能起到一定的区分能力。对于个人而言，不需要投资那么多的股票，那我们就直接筛选F-Score得分为9的股票进行投资。依照这个简单朴素的思想，回测一下看看，绩效如下所示。从回测当中看出，相对于大盘的超额收益率不错，Alpha有23.4%，看来Quantmental模型还是可以带来一定的Alpha的嘛。但同时也可以看出，由于是纯多头策略，部分时间收益率曲线也是横盘的，需要耐得住寂寞才能执行下去。F-Score策略源码如下：参考资料：Piotroski，2002-01，《ValueInvesting:TheUseofHistoricalFinancialStatementInformationtoSeparateWinnersfromLosers》华创证券，2019-08，《双重筹码集中的基本面选股策略》更多相关内容可见：quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略70赞同·2评论文章71赞同·2评论文章72赞同·3评论文章quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章329赞同·12评论文章329赞同·12评论文章330赞同·12评论文章333赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章69赞同·2评论文章70赞同·2评论文章71赞同·2评论文章71赞同·2评论文章quantkoala：『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略104赞同·4评论文章112赞同·4评论文章124赞同·4评论文章125赞同·4评论文章126赞同·4评论文章126赞同·4评论文章126赞同·4评论文章126赞同·4评论文章quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略58赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）100赞同·10评论文章quantkoala：跟踪“聪明钱”，巧用北向资金进行大盘择时（策略Alpha:14.5%，附源码）87赞同·9评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2681001717",
        "comment_count": 3,
        "voteup_count": 45,
        "question_title": "http://www.zhihu.com/api/v4/questions/305773008",
        "question_url": "你为什么选择量化投资？"
    },
    "2674991566": {
        "created_time": 1663234962,
        "content": "如果是量化萌新，想快速全面了解量化投资，心中倒是有一本业界基金经理写的书可以推荐，要是有时间不忙的话，可以听我唠唠～很多萌新在还没有接触到量化交易的时候，多希望有这么一本书，看完之后，能对量化交易有一个全面的了解，摸明白这头盖有黑布的大象。现如今真的有这么一本书，在你读完之后，你会对量化交易有一个全面的了解，虽然它通篇没有具体的策略，也没有复杂繁琐的数学公式，但是个人觉得，它涵盖了量化交易入门所必备的各式各样的常识。那这本书是什么呢？它就是《打开量化投资的黑箱(第二版)》（InsidetheBlackBox:ASimpleGuidetoQuantitativeandHighFrequencyTrading，SecondEdition），注意，这里特指的是第二版，原书英文版是在2009年出版，2012年翻译成中文引入国内，第二版是在2013年出版，2016年翻译成中文引入国内，第二版除了对第一版错误进行修正外，关键是加入了『高频交易』这一部分的内容，内容也从原来的13章扩展到了17章。这本书的作者是漂亮国的一个对冲基金经理，诗画乐三绝的文艺老炮，名字叫做里什·纳兰（RishiK.Narang），下文就亲切称呼他为“老纳”吧，他上个世纪90年代就进入量化领域了，一直深耕量化交易策略至今，妥妥的“黄埔出身正规军”，这本书就相当于是他职业生涯心得体会的阶段脱敏梳理了。这本书通篇可以分为5个部分。第一Part主要是介绍量化交易的背景知识和典型结构，啥是量化交易，啥是宽客；第二Part就开始拆解量化交易这个黑箱了，一个一个零件拆出来，摆在你的面前挨个介绍一番；第三Part主要是唠唠怎么评估宽客和量化策略，还反驳一些外人对量化的误解；第四Part就是说说高频交易和高频策略的类型；最后一Part就是展望一下量化的未来。可以看得出来，这本书的核心内容就是第二Part，横跨第3章到第9章，这里面核心的核心就是阿尔法(Alpha)模型，其他还讲了风险模型、交易成本模型、投资组合模型、订单执行模型和科学研究方法。我在这里多说几嘴关于阿尔法模型的吧，因为连阿尔法模型都没有的话，后面的策略步骤基本上就不用去做了。阿尔法模型就是量化策略当中超额收益的来源，也就是如何在交易市场中寻找盈利的机会，让自己获得超越市场基准的丰厚收益，这正是每个宽客魂牵梦萦的所在。虽然量化策略众多，纷繁复杂，老纳给你指明阿尔法模型类型方向，只分为两类，一类是理论驱动型，另一类就是数据驱动型。第一种理论驱动型，也是萌新入门经常选择的一种，宽客通过观察市场行为，寻找可以解释这些行为的普适性理论，然后再用数据检验（回测）是否有效，按照这个普适性理论交易是否能盈利。老纳根据个人经验，把趋势跟随（trend）、均值回复（reversion）、技术情绪（technicalsentiment）、价值/收益（value/yield）、成长（growth）和品质（quality）这6种策略都归为理论驱动型交易策略。另一种就是数据驱动型，宽客也是观察市场行为，然后通过技术手段分析这些行为数据中的模式，但只是找到这种潜在的模型就行了，不需要有理论解释和支撑，只需要知道A能到B，不需要知道A为什么能导致B。但老纳在书中说构建数据驱动型策略时，所使用的数学工具较为复杂，门槛比较高，在当时的业界使用还比较少，所以就不展开来讲了，主要还是集中在上面那6种策略类型。到现在就不一样了，硬件设备、算法算力和数据丰富度极大提升，人工智能AI已经深入到投资交易领域，特别擅长发现数据之间的非线性关系，专门干这种数据驱动的活儿，每个时代都有每个时代的局限性。之前有推荐和分享过量化相关的入门/进阶书籍，其中就包含《打开量化投资的黑箱》，但那是第一版的，想阅读本文介绍的第二版书籍，请支持正版，捧在手里细细阅读效果更佳，等不及想马上学习的小伙伴，我中秋的时候也有分享过，现在开门暗号依旧有效，enjoy~更多相关资料请见：量化投资书单推荐，20本拿走不谢！猜谜答案揭晓&amp;推荐一本“揭秘”全球最赚钱量化基金的书籍261个策略/指标，萌新Quant群友在这本量化神作中学到的（书附源码）兄dei，你是不是对量化投资有什么误解？答应我，在量化策略回测里，避开未来函数这4个坑个人做量化交易一定不靠谱？年终奖5000w？量化高收入孤例背后的参差~",
        "url": "http://www.zhihu.com/api/v4/answers/2674991566",
        "comment_count": 0,
        "voteup_count": 56,
        "question_title": "http://www.zhihu.com/api/v4/questions/482689136",
        "question_url": "想系统全面的了解量化投资看什么书？"
    },
    "2674973493": {
        "created_time": 1663234243,
        "content": "根据个人实际经验，至少国内的商品期货，是适合按照传统的Alpha策略框架，在横截面上对多个品种进行强弱对冲的，关键是要根据商品期货的特性找对Alpha因子。抛砖引玉，以期限结构中的展期收益率因子为例，老弟先来打个样～什么是期限结构呢？下面贴一段学术范儿的解释：同一商品期货品种有多个不同到期日的期货合约，将不同月份合约价格连接起来可以得到商品价格的期限结构（TermStructure）。如果近期价格高于远期价格，期货期限结构向下倾斜，这种情况称为期货贴水（Backwardation），或叫做现货升水，也叫作现货溢价。如果远期价格高于近期价格，期货期限结构向上倾斜，这种情况称为期货升水（Contango），或叫做现货贴水，也叫作期货溢价。萌新第一次看可能一头雾水有点懵，内心OS：这是啥玩意儿啊！那请忽略以上文字，举个栗子打比方，我们静下心来唠唠。比如说，螺某钢合约和当前价格如下：螺某钢2205合约：5504螺某钢2210合约：4884螺某钢2301合约：4817你瞧，随着交割日期越靠后，合约的价格就越低，这就是近期合约的价格高于远期合约的价格，如果将日期画在横轴（X轴）上，将合约价格画在纵轴（Y轴）上，那就是一条逐渐走低的价格曲线，学术范儿叫法就是期限结构向下倾斜，称为期货贴水（Backwardation）。又比如说，沪某铝合约和当前价格如下：沪某铝2205合约：21090沪某铝2206合约：21120沪某铝2207合约：21140这个品种的情况刚好就跟之前螺某钢恰巧相反，随着交割日期越靠后，合约的价格就越高，这就是远期合约的价格高于近期合约的价格，那是一条逐渐走高的价格曲线，学术范儿叫法就是期货期限结构向上倾斜，称为期货升水（Contango）。一般从纯理论来说，期货升水（Contango）是商品期货正常的结构，因为近期合约和远期合约价格关系如下：远期合约价格=近期合约价格+仓储、物流、利息各项杂七杂八的费用这个公式就解释了为什么之前纽商所的原油2005合约价格出现“-40美元/桶”，你没看错，商品价格就是负数，就是你买一桶原油卖方还倒贴你40美元，而当时其他的远期合约价格都是正数。这其中的原因是，买入原油交割，别人只给你油，你自己得拿东西去装回来，而当时原油价格偏低，附近的化工企业就不断收油，都把油罐基本上装满了，临近交割的时候，你自己买个桶或者存在特定的仓库里，存一桶油就可能要花50美元以上，这就是为啥原油卖方愿意贴钱给你让你把油弄走的原因之一（本质原因还是供求关系）。了解完了期限结构，怎么指导我们投资交易呢？按照当前的期限结构，是可以反推商品/品种的市场供需情况的，根据仓储理论和顺势而为的交易理念，当商品库存偏低（供小于求）的时候，近月合约价格将出现更大幅度的上行，从而更容易导致近月合约较远月合约升水，此后由于库存可能继续偏低，则商品价格将继续上涨；相反，当商品库存偏高（供大于求）的时候，近月合约价格将出现更大幅度的下行，从而更容易导致近月合约较远月合约贴水，此后由于库存可能继续偏高，则商品价格将持续下跌。铺垫了这么多，了解完了期限结构和指导原则，这就轮到量化策略的核心公式登场了，那就是期限结构当中的展期收益率（RollYield）因子的计算公式。其中，ln(*)是以自然对数函数，Pn是近月合约当前价格，Pd是远月合约当前价格，Nn是近月合约交割日期距当前日期的天数，Nd就是远月合约交割日期距当前日期的天数。那么，“ln(Pn)-ln(Pd)”可以看成是近月合约较远月合约的对数溢价率，如果只是横截面比较大小排序，直接用正常的溢价率就可以了，不需要用对数形式，更符合普通人习惯。“365/(Nd-Nn)”就是对溢价率进行年化处理，方便不同期限合约的溢价率进行统一比较。当近月合约价格高于远月合约价格时，当前的展期收益率为正；当近月合约价格小于远月合约价格时，当前的展期收益率为负数。在近月和远月的选择时，不同人也有不同的选择方案：近月和次近月，近月和主力，近月和最远月，主力和次主力。这些都是可选方案，很多大神说主力和次主力的结合会好一些，既然有人敢说，我就敢信吧。根据之前说的指导原则，展期收益率高的品种价格将会更大概率上行，展期收益率低的品种价格将会更大概率下行，因此就产生了一个朴素的对冲策略想法：在时刻T，做多展期收益率最高的N个品种，同时做空展期收益率最低的N个品种，等市值对冲，定期换仓。有了想法，说干就干，回测一下，效果还行，就是回撤大了一些，不过这还是个毛坯版的策略，还有很多更精细的优化方向可以考虑，比如还要参考商品现货价格、商品价格趋势、波动率放大收敛、加入止盈止损等，留待各位宽客大侠改进成精装版~~~参考资料：海通证券，2017.03，《FICC系列研究之二：基于动量和期限结构的商品期货策略》海通证券，2017.08，《FICC系列研究之五：商品期货因子挖掘与组合构建再探究》兴业证券，2017.05，《CTA策略系列报告之二：基于商品期货的期限结构的投资策略》东方证券，2017.07，《衍生品系列研究之（六）：商品期货中的alpha策略》华泰期货，2017.10，《CTA量化策略因子系列（三）：期限结构因子》渤海证券，2018.04，《金融工程CTA策略专题报告之十：商品期货展期收益策略初》更多相关内容请见：quantkoala：动物庄园：商品期货跨品种套利策略quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略70赞同·2评论文章71赞同·2评论文章71赞同·2评论文章71赞同·3评论文章quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章329赞同·12评论文章329赞同·12评论文章330赞同·12评论文章331赞同·12评论文章332赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章69赞同·2评论文章70赞同·2评论文章71赞同·2评论文章71赞同·2评论文章71赞同·2评论文章quantkoala：『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略104赞同·4评论文章112赞同·4评论文章124赞同·4评论文章125赞同·4评论文章126赞同·4评论文章126赞同·4评论文章126赞同·4评论文章126赞同·4评论文章126赞同·4评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）99赞同·10评论文章100赞同·10评论文章quantkoala：跟踪“聪明钱”，巧用北向资金进行大盘择时（策略Alpha:14.5%，附源码）86赞同·9评论文章86赞同·9评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）",
        "url": "http://www.zhihu.com/api/v4/answers/2674973493",
        "comment_count": 3,
        "voteup_count": 38,
        "question_title": "http://www.zhihu.com/api/v4/questions/50935567",
        "question_url": "商品期货市场如何做Alpha策略？"
    },
    "2673710657": {
        "created_time": 1663157381,
        "content": "包治百病、百试百灵的加速方法我也没有，只好拿自己的个人经历出来献丑，分享一个Python加速的小技巧，在不改动源码的情况下，仅新增2行，让指标计算和策略执行速度可能提高20+倍，是骡子是马，牵出来遛遛，正题开始~现如今，无论是入门量化投资，还是做数据分析、机器学习和深度学习，Python成为了首选编程语言，直观的原因就是容易上手和资源丰富，但Python有个根深蒂固的标签，那就是“开发快，执行慢”，特别是执行for循环和大规模科学计算，速度很是“感人”。小孩子才做选择，成年人全都要，那有没有可能既有开发效率，也有执行速度呢？当然可以，现在安排！那先来假设一个这样的场景，策略在不断接收实时Tick数据，或者是在回测当中模拟实际的数据接收，每进来一个新数据，就重新计算一次布林带（BollingerBand）。选择使用布林带作为例子是因为它在股票、期货、外汇和Coin量化中都被经常使用，它由三条线组成，一般这三条线从上至下被成为上轨、中轨、下轨，一般情况下，计算方式如下：上轨=MA20+2×STD中轨=MA20下轨=MA20+2×STD其中，MA20是长度为20的均线，STD是与均线同长数据序列的标准差，“20”是默认的常用均线长度，人为可调。假设有100万个数据点（random模块生成100万个随机数），取10次执行时间的平均值作为耗时结果，来看看不利用任何第三方库实现时的执行耗时。测试环境如下：处理器:Intel(R)Core(TM)i7-7700HQ@2.80GHz内存：8G操作系统：Windows10importtimeimportrandom#随机生成100万个数据点data=[random.randint(1,100)foriinrange(1000000)]#循环次数iter_times=10#计算布林带，返回上中下轨数据defboll(data,periods=20):up_line=[]#上轨mid_line=[]#中轨down_line=[]#下轨clip=data[:periods]#缓存接收到的数据，控制与periods等长#模拟实盘不断接收到新数据fornew_tickindata[periods:]:#剔除旧数据点，纳入新数据点，与periods等长clip.pop(0)clip.append(new_tick)#计算均值v_sum=0fortickinclip:v_sum+=tickv_mean=v_sum/periods#计算标准差v_sum_std=0fortickinclip:v_sum_std+=(tick-v_mean)**2v_std=(v_sum_std/periods)**0.5up_line.append(v_mean+2*v_std)mid_line.append(v_mean)down_line.append(v_mean-2*v_std)returnup_line,mid_line,down_line#记录测试开始时点start_time=time.time()foriinrange(iter_times):up_line,mid_line,down_line=boll(data,periods=20)#记录测试结束时点end_time=time.time()comsued_time=(end_time-start_time)/iter_timesprint('布林带boll计算平均耗时：%s秒'%comsued_time)输出结果：布林带boll计算平均耗时：8.128175449371337秒这个耗时结果看上去还行，因为这个策略本身任务量也不大，但执行执行速度可不可以更快，耗时可不可以被压缩到1秒内呢？答案是肯定的，这就要引入量化萌新的Python加速神器——Numba，它是Anaconda公司推出的针对Python的即时（Just-in-time，JIT）编译器，当你调用函数的时候，可以将全部或部分代码转换为“即时”执行的机器码，以本地机器码的速度运行。简单来说，你不用理会复杂的实现技术，只需要导入这个库，在你的舒适区范围内，就能对函数代码进行优化，将执行速度明显提高。Numba库只需要“pipinstallnumba”就可以直接安装上了，实现加速只需要在原始代码上加入2行代码，第一句就是导入Numba库：fromnumbaimportjit，第二句就是在函数前使用Numba的装饰器：@jit(nopython=True)。Numba编译有两种模式——object模式和nopython模式。object模式表示JIT解析器无法理解/加速/优化该代码内容，编译后代码执行速度跟原生Python一样慢，还可能更慢。nopython模式表示强制不进入object模型，生成更快的机器码，若无法编译成功则会抛出异常。fromnumbaimportjit@jit(nopython=True)defboll_fast(data,periods=20):up_line=[]#上轨mid_line=[]#中轨down_line=[]#下轨clip=data[:periods]#缓存接收到的数据，控制与periods等长#模拟实盘不断接收到新数据fornew_tickindata[periods:]:#剔除旧数据点，纳入新数据点，与periods等长clip.pop(0)clip.append(new_tick)#计算均值v_sum=0fortickinclip:v_sum+=tickv_mean=v_sum/periods#计算标准差v_sum_std=0fortickinclip:v_sum_std+=(tick-v_mean)**2v_std=(v_sum_std/periods)**0.5up_line.append(v_mean+2*v_std)mid_line.append(v_mean)down_line.append(v_mean-2*v_std)returnup_line,mid_line,down_line输出结果：布林带boll_fast计算平均耗时：0.3585397005081177秒8.128175449371337/0.3585397005081177≈22.7，增加2行代码一下子速度提高了20多倍，Numba的“加速神器”的头衔可不是浪得虚名的，以前需要跑一整天的程序，现在可能都不用看完一部国产电影就可以跑完了。有的小伙伴可能就有疑问了，你在这个程序里面用了两个for循环计算均值和标准差，太麻烦了，为啥不使用Numpy模块中的mean()和std()函数分别计算均值和标准差，而且Numpy是经过科学计算优化的，速度会更快。那就利用Numpy模块在相同的情况下重新计算一遍。#计算布林带，返回上中下轨数据defboll_numpy(data,periods=20):up_line=[]#上轨mid_line=[]#中轨down_line=[]#下轨clip=np.array(data[:periods])#缓存接收到的数据，控制与periods等长#模拟实盘不断接收到新数据fornew_tickindata[periods:]:#剔除旧数据点，纳入新数据点，与periods等长clip[0:periods-1]=clip[1:periods]clip[-1]=new_tickv_mean=np.mean(clip)v_std=np.std(clip)up_line.append(v_mean+2*v_std)mid_line.append(v_mean)down_line.append(v_mean-2*v_std)returnup_line,mid_line,down_line输出结果：布林带boll_numpy计算平均耗时：42.0557097196579秒WTF！怎么计算速度还比原来的慢了5倍，这是因为Numpy在复杂对象的开销耗时要比计算优化节省的时间要多，说人话就是，单次处理的数据序列要长(也就是periods数值要大)，Numpy的计算优化效果才能展现出来，因为布林带的默认计算均线长度periods是20，算是比较短的，我们把它增加到200试一试。start_time=time.time()foriinrange(iter_times):up_line,mid_line,down_line=boll(data,periods=200)end_time=time.time()comsued_time=(end_time-start_time)/iter_timesprint('布林带boll计算平均耗时：%s秒'%comsued_time)start_time=time.time()foriinrange(iter_times):up_line,mid_line,down_line=boll_numpy(data,periods=200)end_time=time.time()comsued_time=(end_time-start_time)/iter_timesprint('布林带boll_numpy计算平均耗时：%s秒'%comsued_time)输出结果：布林带boll计算平均耗时：68.52809438705444秒布林带boll_numpy计算平均耗时：43.69762210845947秒你看是不是这下子使用Numpy库的速度比原来使用for循环的速度快多了，而且随着单次处理数据序列的增加，Numpy的执行耗时提升不明显，所以说，在单次处理数据序列短的情况下，使用Numpy的效果未必有时用for循环的要好。如果也对使用Numpy计算布林带的程序（periods=20）也进行加速，看看效果如何。fromnumbaimportjit@jit(nopython=True)#计算布林带，返回上中下轨数据defboll_numpy_fast(data,periods=20):up_line=[]#上轨mid_line=[]#中轨down_line=[]#下轨clip=np.array(data[:periods])#缓存接收到的数据，控制与periods等长#模拟实盘不断接收到新数据fornew_tickindata[periods:]:#剔除旧数据点，纳入新数据点，与periods等长clip[0:periods-1]=clip[1:periods]clip[-1]=new_tickv_mean=np.mean(clip)v_std=np.std(clip)up_line.append(v_mean+2*v_std)mid_line.append(v_mean)down_line.append(v_mean-2*v_std)returnup_line,mid_line,down_line输出结果：布林带boll_numpy_fast计算平均耗时：0.5330439805984497秒42.0557097196579/0.5330439805984497≈78.8，当periods=20时，Numba为布林带的计算加速了70+倍。当periods=200时也进行加速测试，输出结果：布林带boll_numpy_fast计算平均耗时：1.3904209852218627秒43.69762210845947/1.3904209852218627≈31.4，当periods=200时，Numba为布林带的计算加速了30+倍。这从侧面也说明了，单次处理序列长度越长，Numpy的计算优化效果就越好，剩余的优化“压榨空间”也就不多了。小结一下，无论是对“原始Python”，还是对第三方库Numpy，Numba都有明显的加速作用，而且对Numpy的加速作用更明显。所以，大家可以在“使用for循环”和“使用Numpy模块做大量科学计算”时，使用Numba模块进行加速。使用Numba进行加速的方式也非常舒适：在源码文件头部加入：fromnumbaimportjit在需要加速的函数前加入：@jit(nopython=True)最后补充说明：Numba并不能对所有的程序优化和加速，常用的优化场景是for循环和Numpy、cmath模块的计算。不能优化和加速的情况，若带有nopython=True参数，会出现异常（Exception），此时可改为使用其他Python解析器（例如PyPy），或者优化算法。参考资料：http://numba.pydata.org/numba-doc/latest/user/index.htmlhttps://github.com/ContinuumIO/gtc2018-numbahttp://stephanhoyer.com/2015/04/09/numba-vs-cython-how-to-choose/",
        "url": "http://www.zhihu.com/api/v4/answers/2673710657",
        "comment_count": 0,
        "voteup_count": 52,
        "question_title": "http://www.zhihu.com/api/v4/questions/440467223",
        "question_url": "在量化交易中，如何提高python回测交易策略的速度？"
    },
    "2673694164": {
        "created_time": 1663156510,
        "content": "对于咱天朝A股，除了做好量化选股之外，加上量化择时效果会更好哦，拿之前的『鱼身策略』来举个栗子~在以前的旧文《在天朝A股，抄底和摸顶，哪个更加困难？》中有过统计，A股市场有超过一大半的时间处在价格区间的中下游，当时的沪深300指数价格分布直方图如下，其中分组序号越大，代表的价格也就越高，柱子上的数值，表示落在该组价格区间的天数在总天数的占比，想了解具体统计细节的请看原文。quantkoala：在天朝A股，抄底和摸顶，哪个更加困难？34赞同·6评论文章市场处在中低位价格区间的时间很长，便宜筹码很多，也很容易捡到，捡到后不知道什么时候能涨起来，如果能一直死死捂住还好一点，就是怕戒不了频繁操作，总体低位的时间偏多，频繁交易可落不着好。现代人特别是血气方刚的小伙子，挺讨厌说教的，说不定就会站起来盯着我反问道：“像你这样说，买完就只能删行情软件捂着啰？”。我倒觉得凡事都没有这么绝对，投资交易各有各的打法，哪个流派都有赚钱的，重要的是找到适合自己的。今儿个要说的这个量化交易策略『鱼身策略』，懒人们可算是来着了，因为它的策略核心思想比较“佛系”，不是所有时间都处于可交易的状态，在那些死气沉沉的时间里，可以去干别的事情，比如说躺平放松。我国著名的A股夜duang大V曾多次表示：炒股最大的成本就是时间。他本意要表达的意思是，麻利儿的涨，麻利儿的跌都可以，就是不喜欢整天震荡阴跌、死气沉沉的行情，钝刀杀人的感觉别提多难受了。一般股票价格的状态分为上涨、下跌和震荡，如果震荡发生在价格区间低位，则称为“底部平台”，震荡发生在价格区间高位，则称为“顶部平台”。所以呢，一个典型的价格形成路径就是：底部平台-&gt;上涨段-&gt;顶部平台-&gt;下跌段，然后循环往复。但可能有些股价K线形成的顶底部持续时间比较短，那就可能形成“尖顶”或“尖底”，而不是一段平台。底部平台就如同“鱼尾”，顶部平台就如同“鱼头”，从头吃到尾那是“妄念”，鱼身策略就是想越过死气沉沉、没滋没味的平台期，捕获一段肥美的鱼身（上涨段）。鱼身策略的核心就是：选择绩优股票在突破底部平台或上升段时买入，在顶部平台或下跌段开始时卖出。关于如何选择绩优股，可以参照之前的3篇文章，因为是懒人专属，目标就是尽可能筛选出不容易暴雷、让人省心的正经股票。小市值因子已然凉凉，绩优小市值依旧狂浪​mp.weixin.qq.com/s/S6BbXFhdpmz9XspuEs3vsQ跟着“基金一哥”张坤量化选股的快乐，你想象不到！（策略年化收益39.9%）​mp.weixin.qq.com/s/D28b2h9rUcuVH02tB5mpTgBarra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%）​mp.weixin.qq.com/s/v_PsrWQd8eMGGmItUD2bKw想要吃到上升段，关键是对上升趋势的识别，本次用的核心指标是相对强弱指标RSI（RelativeStrengthIndex），计算方式如下。RSI=N日内上涨幅度累计/N日内上涨及下跌幅度累计*100从计算方式中看出，它用上涨幅度代表多方力量，下跌幅度代表空方力量，最终计算多方力量在总体力量当中的百分比，RSI的数值在0~100之间，超过50表示多方力量占优，低于50表示空方力量占优，除了能识别趋势以外，还能识别超买超卖，更多具体用法都可以在网上搜到，在此不再瞎BB了。识别上升段可不是计算出RSI大于50就完事儿了，而是要分为两层，一层是针对大盘的识别，另一层是针对个股的识别，而且识别是分多周期识别，假设分为长、中、短这3个周期。当大盘的长周期RSI数值小于阈值时，停止一切交易；如果大盘长周期RSI数值高于阈值，开启交易开关，计算所有周期的RSI值，如果3个周期中每当有一个周期RSI值处于阈值范围，则多买一份，有多少个周期满足就买多少份；当不再满足条件时就卖出。看了这个择时和仓位控制，就知道鱼身策略在实际当中会过滤掉不少的交易时间，上面已经大概介绍完了鱼身策略大体的设计思想，是该牵出来遛遛了。先来贴一个纯粹选绩优股死死捂住不择时的回测绩效。适合PC端观看的横版：适合手机端观看的竖版：再来贴一个想捕捉上升段的鱼身策略的回测绩效。适合PC端观看的横版：适合手机端观看的竖版：从两张图的对比可以看出，除了鱼身策略最终收益要比死捂策略要高之外，关键是鱼身策略有一半时间都在躺平，并且夏普率和盈亏比要更高，最大回撤要更小，投资体验会更好，最近一直空仓，也躲过了今年这场大跌。顺带提一句，投资不同领域/行业/概念，可以切换不同的大盘表征指数，大盘不是死的，要选择适合自己的。投资是天道酬勤，但未必多劳多得。更多相关内容请见：quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略70赞同·2评论文章71赞同·2评论文章71赞同·2评论文章quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章329赞同·12评论文章329赞同·12评论文章330赞同·12评论文章331赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章69赞同·2评论文章70赞同·2评论文章71赞同·2评论文章71赞同·2评论文章quantkoala：『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略104赞同·4评论文章112赞同·4评论文章124赞同·4评论文章125赞同·4评论文章126赞同·4评论文章126赞同·4评论文章126赞同·4评论文章126赞同·4评论文章quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略58赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）99赞同·10评论文章quantkoala：跟踪“聪明钱”，巧用北向资金进行大盘择时（策略Alpha:14.5%，附源码）86赞同·9评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2673694164",
        "comment_count": 2,
        "voteup_count": 26,
        "question_title": "http://www.zhihu.com/api/v4/questions/38113586",
        "question_url": "A 股的量化交易者们你们是如何选股如何交易的？"
    },
    "2672285878": {
        "created_time": 1663074647,
        "content": "一名量化研究员的主要职责，就是要不断开发出好的量化策略，那怎么在自己的主要职责上做到合格乃至优秀呢？在这里先打一个比方，方便大家理解，开发出一个好策略，就像是写一篇好作文。为了写好这篇作文，我们都经历了哪些过程呢？抄生字-&gt;抄课文-&gt;造句-&gt;写作文在我们小学打基础的时候，“抄”是时间占比非常大的学习内容，年级越低，“抄”的占比就越高，我们抄会一个个生字，抄一篇篇课文，感受其中的语法格式，然后自己可以创作单个句子，句子写得多了，连起来就是作文，后期再学习更多的表达技巧，最终写出立意鲜明、形象生动的好作文。“抄”就是模仿和借鉴，无论我们是做量化还是其他领域，自己从一无所知地开始学习，都是在模仿和借鉴前人的基础上起来的。例如你刚开始学习做股票量化，筛选有效的Alpha因子，前人大神用的有多空对比法、分层测试法、IC法、ICIR法等因子有效性测试方法，你也是从这些方法当中选择，如果你有发明新的有效性测试方法，那也是在学习之后的事情。于是乎，对于量化新手而言，迅速开发出一个好策略，不再有策略难产的焦虑，在我眼里，对普通人来说，是可以有固定套路的，那就是先模仿后创新，站在巨人的肩膀上博采众长、野蛮生长！“模仿”让自己从无到有开发属于自己的策略，“创新”是精雕细琢，让自己有好策略。因此，在这里我主要根据自己的心得体会，唠唠如何真正利用好高手大神的量化策略和交易经验，让自己迅速开发出好策略。以下内容只是自己粗浅的见解，可能对量化新手有启发意义，并不适合于大神，对不对的，还望海涵。目前我自己的感觉是，利用好高手大神的量化策略和交易经验，关键的心法口诀是：守、破、离。“守、破、离”最初源自于剑术剑道的学习理论，后来推广到其他武术派别与各行各业。以下是最初的释义，下文我会结合量化投资推心置腹地唠唠。『守』：最初阶段须遵从老师教诲，认真练习基础，达到熟练的境界。『破』：基础熟练后，试着突破原有规范让自己得到更高层次的进化。『离』：在更高层次得到新的认识并总结，自创新招数另辟出新境首先要声明一下，由于“巧妇难为无米之炊”，在这里假设大伙儿都能接触到适量的量化学习资料，“信息不足”的小伙伴可以参考我之前的文章，里面有介绍一些获取渠道，“信息过载”的小伙伴也不要犯焦虑症，先挑取适量的学习，学有所得就可以了，不要贪大求全哦。quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？一．第一阶段『守』在这一阶段，我们首先要端正自己的心态，空杯心态，不要有任何偏见，高手/大神/老师说怎么去做，就怎么去做，动作、步骤、流程不要有一丝变形。就如同刘慈欣《三体》里面那句著名的话“弱小和无知从来都不是生存的障碍，傲慢才是”，傲慢和偏见不仅影响我们的生存，还影响到我们学习量化。因为高手/大神/老师他们在量化当中浸淫了这么久，经验比新手小白丰富得多，出错的概率肯定比新手小白要低。特别是，量化涉及到的技术和理论非常多，为了方便教学和方便学员理解，有一些地方会“默认”操作和不作过多解释，即使很多东西看上去很“蠢”，照做就是了。在安装量化环境的时候，不要尝试跳过某些环节和配置，即使这个环节看上去很无厘头很繁琐，因为你还是量化新手，你还不清楚这个环节为什么要存在，为啥要这么配置。例如在原版中，在环境变量当中加入指定路径，文件编码选择utf-8，操作符左右都要有一个空格。在构建策略的时候，不要尝试修改其中的某些环节和方法，即使这个环节看上去很难以理解很没有必要，因为你是新手，你还不能够保证你的改动比原版的还要好。例如在原版中，用难以理解的矩阵计算代替for循环，要使用后复权价格不能使用原始价格和前复权价格，在分母上再加一个数值“1”。做好这一个阶段的诀窍就是：做一个愿意下笨功夫的聪明人。那什么时候可以离开『守』这个阶段了呢？（1）当你可以不用看原版资料，在纸上写出策略的构建原理；（2）在电脑里不需要提示，徒手敲完整个策略的实现源码；（3）看着策略的回测详情，清楚每一个指标的含义。我个人认为，当同时满足这3个条件时，你就可以脱离『守』这个阶段了，恭喜大侠，你可以离开新手村了，带着一个属于自己的策略，向下一个阶段进发。二．第二阶段『破』在课程里，在社群内，在文章中，你看到的策略，别人也能看到，当用同一个策略的人多了，策略就可能失效了。『守』能让你拥有策略，一时赚点儿小钱，但只会『守』，你或许不能长久赚到钱。人的成长，商业的发展，策略的优化，就是需要不断的『破』，『破』就是破局而出、推陈出新，让自己做出更好的策略。「破」一般有2种方式。（1）做得比别人好（2）做得跟别人不同这两种方式都有效，第一种方式更常见，第二种方式更长久。如何做得比别人好？就是考虑得比别人更深入、更细致、更全面，举个例子。（1）更深入。例如交易领域当中的MACD指标，它的默认参数设置是（12，26，9），它为什么是这么设置呢？因为MACD被发明出来的那个时代，每周是单休制，一周要工作6天，因此12对应的是2周，26对应的是1个月，9对应的是一周半，因此要是与时俱进的话，MACD参数配置就要改为（10，20，7）。（2）更细致。例如很多线性模型对异常值很敏感，单个异常值存在就会对回归系数造成非常不利的影响，导致模型的泛化能力下降，因此要对空值进行填充或舍弃，将异常值“拉回到”合理范围。（3）更全面。例如做基本面量化的小伙伴，经常使用的是单期横截面因子数据进行建模，但是单期数据往往波动较大，因此要量化一个公司基本面的优劣，可以考虑多期序列的平均值和波动值。如何做得跟别人不同呢？那这个方法就比较宽泛了，列举几个，关键是要确定你用的“不同”是有效的。（1）对相同的数据用不同的处理方法。例如别人的双均线用MA，你用EMA或AMA。（2）用不同的数据源。别人只能用财务数据和量价数据，你可以用网络舆情数据和商品交易数据。（3）用不同的交易周期。别人用小时线，你可以用分钟线或Tick数据。『破』就是破局而出、推陈出新，就是往原来的策略当中加入更多“新套路”，让原来的策略“更吃得开”。举个综合的例子，就拿最简单的双均线策略来说，该如何『破』。『守』：双均线MA策略，金叉开多，死叉开空。『破』：在原来的基础上，使用以下3个“新套路”。（1）均线采用自适应均线AMA，趋势时偏向于快线，震荡时偏向于慢线；（2）采用ATR波动过滤的方法尽可能过滤“假突破”信号；（3）双均线策略无论行情向上还是向下，只要有大波动就能赚钱，因此筛选平常波动率较高的品种进行交易，提高交易胜率。其实还可以加入跟踪止盈止损那些条件，但加进去的“新套路”并不是越多越好，要自己不断测试优化。那什么时候可以离开『破』这个阶段了呢？（1）『守』阶段的策略绩效（风险调整后的收益和稳定性）得到显著提升；（2）你对提升优化策略的“新套路”有清楚的理解。我个人认为，当同时满足这2个条件时，你就可以从『破』阶段脱离，继续向『离』阶段进军，你在『守』阶段的那个“策略”也升级为了一个“好策略”。三．第三阶段『离』假如你看了很多高手大神的量化策略，你可能心里会冒出这样的思考：“他们的这些量化策略，都太神奇了，我怎么就想不到，当初这些策略是怎么被构思出来的呢？”这需要进入到一个更高级的能力阶段：『离』。『离』就是借用其他领域或其他量化策略的模块，发现和创造更多新的量化策略。年化91%的ETF轮动策略是从哪里来的呢？——借鉴股票和指数择时中的于阻力支撑相对强度（RSRS）策略，外加波动率筛选交易品种。期货日内的三角形交易策略是从哪里来的呢？——借鉴股票市场缠论中的底分型和顶分型形态，外加海龟交易法则中的ATR。WOBV策略是怎么来的呢？——借鉴传统的OBV指标，外加K线实体和影线的计算。Coin圈的搬砖策略是从哪里来的呢？——借鉴传统证券市场上的跨市场套利。其实绝大部分创新的本质都是“积木式创新”，太阳底下没有新鲜事，新鲜的事物可能就是旧事物的排列组合。在这个阶段，我们培养『离』能力的方式就显而易见了，有以下步骤：（1）研究大量的量化策略，把每个量化策略拆解成不同的量化模块（例如品种选择、入场规则、出场规则、仓位控制等模块）；（2）脱离量化策略，只看量化模块，把每个量化模块理解深入和打磨精通；（3）把每一个打磨精通的量化模块，作为自己的趁手兵器，收入自己的量化策略兵器库当中；（4）遇到新的交易机会，从量化策略兵器库当中，找到合适的兵器组合，做积木式创新；（5）在不同的交易领域，打造一些独门策略兵器。当你有了足够多的量化兵器，并且其中有独门策略兵器的时候，你就达到了『离』的境界，这个时候，你就可以通过积木式创新源源不断产生许多好策略了。四．总结一下本回答讲述了运用“守破离”心法口诀，真正利用好高手大神的量化策略和交易经验，帮助自己源源不断开发出好策略，成为一名合格乃至优秀的量化研究员。『守』阶段：空杯心态，没有偏见，别人怎么说我们就怎么做，开发出一个策略。『破』阶段：2种方式，做得比别人好，或者做得跟别人不同，开发出一个好策略。『离』阶段：拆解策略，积木式创新，量化兵器排列组合，源源不断开发出好策略。参考资料：百度百科，2021，《守破离》词条。蒋小华，2017，《守破离——如何成为一个精进的人》古格里‧祖克曼，2020，《洞悉市场的人-量化交易之父吉姆‧西蒙斯與文藝復興公司的故事》更多相关内容请见：quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略70赞同·2评论文章71赞同·2评论文章71赞同·2评论文章quantkoala：『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略104赞同·4评论文章112赞同·4评论文章124赞同·4评论文章125赞同·4评论文章126赞同·4评论文章126赞同·4评论文章126赞同·4评论文章126赞同·4评论文章quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略57赞同·10评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）99赞同·10评论文章quantkoala：跟踪“聪明钱”，巧用北向资金进行大盘择时（策略Alpha:14.5%，附源码）86赞同·9评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2672285878",
        "comment_count": 0,
        "voteup_count": 26,
        "question_title": "http://www.zhihu.com/api/v4/questions/36373517",
        "question_url": "量化策略研究员成长之路？"
    },
    "2672256492": {
        "created_time": 1663073175,
        "content": "小平同志说，实践是检验真理的唯一标准，搭一个多因子量化模型尝试一下，不就知道有没有Alpha了嘛，今儿个就拿之前做的策略来举个栗子~一说到“多因子”呢，就不禁让人想起资本资产定价模型CAPM、套利定价模型APT、Fama-French三/四/五模型和Barra这些经典模型，更别说其他陆续提出的多因子模型，纷至沓来，让人应接不暇。特别是Barra多因子模型，在量化界的名气太大了，很多人刚开始翻开说明书handbook和notes，生词和公式扑面而来，让人刚涌上来的三分热血就渐渐凉了下去。Barra因子和模型的构建太过复杂了，关键还依赖于高质量的数据，咱一开始搞不来，还是先挑选一个简单的软柿子捏捏吧。因此，还是选一个门槛不高且非常百搭的量化基本面多因子模型F-Score，它是出自Piotroski的论文《ValueInvesting:TheUseofHistoricalFinancialStatementInformationtoSeparateWinnersfromLosers》，在华创金工的研报《双重筹码集中的基本面选股策略》中也被重点推荐过。选择的理由主要是模型构建非常简单，但非常有金融逻辑，由于使用的是0-1变量，F-Sccore模型对异常值的容忍度非常高，不需要特地清洗数据。不信啊，咱一起来揭开F-Score模型的面纱，开干吧~愿意看原文探究细节的小伙伴，可以点击下方卡片阅读或下载，只想抓住内核框架的，听我唠一唠就能了解个大概了。http://citeseerx.ist.psu.edu/viewdoc/download;jsessionid=0306A4C4E259CB6FE132162F09CECD1C?doi=10.1.1.141.5533&amp;rep=rep1&amp;type=pdf​citeseerx.ist.psu.edu/viewdoc/download;jsessionid=0306A4C4E259CB6FE132162F09CECD1C?doi=10.1.1.141.5533&amp;rep=rep1&amp;type=pdf格雷厄姆和巴菲特等价值投资大师，每天挂在口头上的就是“用合理价格买优质股票”，“合理价格”看估值或风险承受能力，那股票的优质与否用什么衡量呢？这时候就轮到F-Score模型闪亮登场了。简单来说呢，F-Score就是一个利用9个因子对股票基本面进行评分的模型，得分越高，股票就约优质，这9个因子呢，都是可以基于财报数据计算出来的，因子清单和计算方式如下表所示。大概浏览一下上表，每个因子的取值只有0或1，当满足条件时，取值为1，反之为0。每满足一个条件得1分，满足N个条件得N分，因此，F-Score模型的最高评分就是9分。再详细看到每个因子~【资产收益率】用来衡量这个企业的盈利能力，“扣非”是为了剔除类似于卖房子设备、炒股投资带来的盈利，大于零表示企业处于盈利状态。【经营活动产生的现金流量净额比总资产】表示经营业务给企业带来的实际现金流入，因为利润里面是可能包含应收票据或应收账款的，类似于你去小卖部买东西赊账，小卖部账面盈利，但实际没有收到钱，大于零表示有实际的现金流入，企业真金白银的盈利。【资产收益率变化】表示企业盈利能力变化，大于零表示企业盈利加速，处于扩张状态。【应计收益率】比第二个因子更进一步地衡量企业真金白银的盈利能力，大于零表示企业盈利更为真实。【长期负债率变化】用来衡量企业偿债能力的变化，长期负债率=非流动负债/资产总额，小于零表示企业偿债能力增强。【流动比率变化】用来衡量企业变现能力的变化，流动比率=流通资产/流动负债，流动比率数值越大，企业的变现能力就越强，流动比率大于零表示企业的变现能力在增强。【股票是否增发】表示企业是否向股市再融资圈钱，不融资则表示企业依靠自身可以造血，有健康的现金流。【毛利率变化】衡量企业的竞争力变化，众所周知，如果企业没有行业壁垒护城河，则随着竞争者的融入，企业的毛利率会降低，大于零表示企业的竞争力在变强。【资产周转率变化】用来衡量企业的营运效率和管理质量，资产周转率=总营业额/总资产，资产周转率越高则表示企业能很好地利用自身资产生产商品/服务并销售出去，大于零则表示企业的营运效率和管理质量在提升。那这来自海外的F-Score基本面评分模型在中国A股是否有效呢，华创金工做了一个试验，将F-Score得分在0~3之间的股票归为Low组，4~6分的为Middle组，7~9份的为High组，进行分组回测，结果如下。从分组回测结果中看出，净值曲线是明显分层的，说明F-Score模型能起到一定的区分能力。对于个人而言，不需要投资那么多的股票，那我们就直接筛选F-Score得分为9的股票进行投资。依照这个简单朴素的思想，回测一下看看，绩效如下所示。方便PC端观看的横版图：方便手机端观看的竖版图：从回测当中看出，相对于大盘的超额收益率不错，Alpha有23.4%，看来多因子模型还是可以带来一定的Alpha的嘛。但同时也可以看出，由于是纯多头策略，部分时间收益率曲线也是横盘的，需要耐得住寂寞才能执行下去。在目前这种情况下，F-Score模型可能无法长期稳定带来可观的收益，但将其作为风控策略还是不错的，先对股票进行筛选，再叠加其他量价/资金流/筹码策略进行择时交易，Alpha应该能增强不少，留待后续探究。F-Score策略源码如下：参考资料：Piotroski，2002-01，《ValueInvesting:TheUseofHistoricalFinancialStatementInformationtoSeparateWinnersfromLosers》华创证券，2019-08，《双重筹码集中的基本面选股策略》更多相关内容可见：quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略70赞同·2评论文章71赞同·2评论文章quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章324赞同·12评论文章329赞同·12评论文章329赞同·12评论文章330赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章69赞同·2评论文章70赞同·2评论文章71赞同·2评论文章quantkoala：『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略104赞同·4评论文章112赞同·4评论文章124赞同·4评论文章125赞同·4评论文章126赞同·4评论文章126赞同·4评论文章126赞同·4评论文章quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）quantkoala：跟踪“聪明钱”，巧用北向资金进行大盘择时（策略Alpha:14.5%，附源码）",
        "url": "http://www.zhihu.com/api/v4/answers/2672256492",
        "comment_count": 1,
        "voteup_count": 75,
        "question_title": "http://www.zhihu.com/api/v4/questions/314729120",
        "question_url": "多因子模型是否真的可以带来阿尔法（alpha）？"
    },
    "2662815896": {
        "created_time": 1662473461,
        "content": "实战的路径之一就是，深入观察因子的微观结构，改进优化原始因子中的不合理因素，“转基因”后形成一个更加有效的新因子，且看如何将传统『OBV』因子改为更加有效的『WOBV』因子。说到量化指标/策略一点点细节上的改进，从而带来效用上明显的提升，这里面最经典例子之一的就是自适应均线AMA，单边趋势的时候偏快线，震荡的时候偏慢线，比单纯使用均线MA效果好多了，用过的大侠都有切身感受吧。再说回传统OBV指标（OnBalanceVolume，能量潮）的原始计算方式，它适用于股票、期货、外汇等领域，统称为“品种”吧。OBV可以被看成是一个累积量，OBV的初始值为0，在第一根Bar的时候，若价格是上涨的，OBV则加上这根Bar的成交量VOL，即OBV=VOL，若第一根Bar是下跌的，OBV就减去这根Bar的成交量VOL，即OBV=-VOL。以此类推，收盘价高于上一根Bar收盘价的话，OBV加上成交量VOL。收盘价低于上一根Bar收盘价的话，OBV减去成交量VOL。如果非得要用数学表达式明确写出来的话，那就如下表示：OBV[0]=0OBV[1]=sign(CLOSE&gt;OPEN)×VOLOBV[T]=OBV[T-1]+sign(CLOSE[T]&gt;CLOSE[T-1])×VOL[T]其中，CLOSE是收盘价，OPEN是开盘价，VOL是成交量，T表示第T时刻，T-1表示第T时刻的上一时刻。sign(x)是符号函数，当x&gt;0时，sign(x)=1；当x=0时，sign(x)=0；当x&lt;0时，sign(x)=-1。通俗地去理解OBV，它跟资金流很像，当价格上涨时，期间的成家量被认为是推动价格上涨的动力（类似于资金流当中的“流入”），因此OBV需要加上这部分成交量；当价格下跌的时候，期间成交量被认为是空方力量（类似于资金流当中的“流出”），因此OBV需要减去这部分成家量。OBV看绝对数量没有太大意义，各个品种间的OBV没有可比性，主要是看趋势走向，OBV持续走高，说明近期不断有资金流入，后市走强的概率也比较大。但OBV有一个缺陷，举个例子方便理解，假设有一根K线是巨量的十字星（假设收盘价比前一时刻收盘价高几分钱），这个时候这个巨大的成交量都被归入到OBV当中，这个是比较不符合常理的，其实K线的涨跌是多空博弈的结果，这种情况下多头只是比空头稍微强势一点点，被纳入的应该是“多头减去空头”的净流入数值。怎么去衡量多头和空头的力量之差呢？目前有一种解决方法就是“比例法”，不把单根K线上所有的成交量都包含进去，只包含其中一定的比例，这个比例就是当根K线的实体部分长度除以上影线上端到下影线下端的距离，即比例=(收盘价-开盘价)/(最高价-最低价)。由于一般情况下，当前K线开盘价跟上一根K线收盘价很接近，所以为了方便起见，用当前K线开盘价替换上一根K线收盘价，新OBV指标的计算式子表达为OBV[T]=OBV[T-1]+(CLOSE[T]-OPEN[T])/(HIGH[T]-LOW[T])×VOL[T]其中，CLOSE是收盘价，OPEN是开盘价，HIGH是最高价，LOW是最低价，VOL是成交量，T表示第T时刻，T-1表示第T时刻的上一时刻。由于“比例=(收盘价-开盘价)/(最高价-最低价)”类似于“加权(Weight)”的概念，于是乎，改进后的OBV就叫WOBV。WOBV在多数情况下要比原版OBV好用一点儿，如下图所示，在价格上涨趋势减弱，开始震荡的时候，WOBV(粗黑线)已经拐头向下走，而OBV(细蓝线)还没有明显减弱的迹象。WOBV的产生过程也说得差不多了，就用它来构造一个小策略吧。WOBV的使用方法与OBV类似，不看绝对数值，看趋势，那趋势就用WOBV上穿/下穿WOBV均线来确定。为了提高胜率，采用跨周期过滤的思路，在大周期上进行长期趋势的确认。于是策略的关键要素表达如下：多头开仓条件：WOBV上穿WOBV均线，并且价格在上一级别周期EMA均线之上。空头开仓条件：WOBV下穿WOBV均线，并且价格在上一级别周期EMA均线之下。出场条件：ATR跟踪止损止盈WOBV策略回测盈亏曲线如下所示。资金盈亏曲线不是很亮眼，没有45度硬刚向上那种坚挺，毕竟构建的策略很简单，只是为了测试单个WOBV指标的有效性，没有加入其他太多的指标进行辅助，抛砖引玉，有待各位大侠进行更深入的探究。回测所使用的策略源码：更多相关内容请见：quantkoala：一个量化小技巧，突破策略盈亏比从1.1提高到1.7（大神勿进）quantkoala：2个量化小技巧，双均线策略盈亏比从1.2提升到1.9（大神请绕行）quantkoala：唠一个能把策略盈亏曲线“掰直”的三级跟踪止盈止损出场方法（大神勿进）quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？quantkoala：年化收益577倍的量化策略，没有未来函数，却有这个致命Bug",
        "url": "http://www.zhihu.com/api/v4/answers/2662815896",
        "comment_count": 3,
        "voteup_count": 124,
        "question_title": "http://www.zhihu.com/api/v4/questions/407950272",
        "question_url": "万能的知乎量化，有哪些可以挖掘因子、研发因子、学习新因子的路径？"
    },
    "2662774326": {
        "created_time": 1662471351,
        "content": "这次给想从量化入门到进阶的小白，推荐20本量化投资佳作，根据自身的习惯，将这些书籍分为5大类，文末有传送门，拿走不谢，enjoy～第一类是科普&amp;故事类，主要是帮量化萌新迅速了解量化&amp;宽客是什么，有个大体的感觉，偏故事向。第二类是股票量化类，主要讲了在股票量化领域有什么经典的策略，如何构建、实现和回测。第三类是期货量化类，讲的是期货量化的经典策略，大部分是趋势策略（例如海龟策略），也有套利策略。第四类就是期权量化类，一般书籍里面都是先科普一下期权是什么，然后就各种字母，接着就各种跨式、蝶式，最后我想把它归到失眠系列类。第五类就是失眠系列类，不是这类书让人失眠，而是适合失眠的时候看，例如那本量化红宝书，新手初看会觉得特别枯燥，公式繁多，助眠效果极佳。一、科普&amp;故事类01.《打开量化投资的黑箱》作者:里什·纳兰豆瓣评分：7.4出版时间:2012-3内容简介：作者是一位基金经理，在书中他站在一个非纯粹技术性的视角介绍了量化交易策略，用生动的文笔带领大家游历整个“黑箱”。涉猎了很多金融界丰富的真实案例和市场趣闻，描绘了华尔街的数量金融奇才们是如何工作的。02.《解读量化投资：西蒙斯用公式打败市场的故事》作者:忻海豆瓣评分：7.2出版时间:2010-1内容简介：作者用轻松、幽默的讲故事手法，解读了西蒙斯量化投资“黑箱”之内的秘密，带我们走近20年中平均每年总回报为80％的大奖章基金，看看它如何能将1万元变成1亿元。03.《宽客：华尔街顶级数量金融大师的另类人生》作者:斯科特·帕特森豆瓣评分：8.0出版时间:2011-7内容简介：这是一本讲述华尔街顶级数量金融大师的另类人生的书。背景是2007年金融危机爆发以后，作者对量化基金经理和顶尖经济学及金融学学者的各种采访。04.《宽客人生:华尔街的数量金融大师》作者:伊曼纽尔·德曼豆瓣评分：8.0出版时间:2007-7内容简介：作者本人就是华尔街的顶级宽客，至今仍享盛名，他分析了物理学与金融学之间的关联和不同，讲述了许多物理学巨匠和金融学大师的故事。05.《高频交易》作者：艾琳·奥尔德里奇豆瓣评分：7.8出版时间：2011-6内容简介：本书作者站在专业的高度，用平实的语言和丰富的图表，带我们走进量化投资的黑匣子，向我们展示了这台复杂的“金融仪器”是如何运作的。06.《高频交易员:华尔街的速度游戏》作者：迈克尔•刘易斯豆瓣评分：7.8出版时间:2015-5内容简介：本书作者其他著名的著作还有《说谎者的扑克牌》和《大空头》，本书叙事偏水浒风，人物逐个出场，背景丰满，性格突出，然后构建完整个拼图，结局有一抹亮色。二、股票量化07.《量化投资——策略与技术》作者：丁鹏豆瓣评分：6.5出版时间:2014-9内容简介：你可以把此书认为是金融工程研报的合订本，内含60多个案例，主要分为策略篇与理论篇两部分。策略篇主要包括：量化选股、量化择时、股指期货套利、商品期货套利、统计套利、期权套利、算法交易和资产配置等。理论篇主要包括：人工智能、数据挖掘、小波分析、支持向量机、分形理论、随机过程及IT技术等。08.《量化交易:如何建立自己的算法交易事业》作者：欧内斯特·陈豆瓣评分：7.5出版时间:2014-1内容简介：此书虽薄，但内容涵盖交易策略的发展、回测检验、风险管理、编程实现、交易系统研发和算法交易运行等关键领域，作者带你一步一步建立起一个最佳量化框架。09.《量化投资策略:如何实现超额收益Alpha》作者：理查德·托托里罗豆瓣评分：7.6出版时间:2013-5内容简介：作者在书中详尽地测试了超过1200种投资策略，归纳了七个投资维度：盈利性、估值、现金流、成长性、资产配置、价格动量以及危险信号，并告诉你如何有效结合单个投资因子或组件因子，如何构建多因子策略，从而构建更全面的选股模型。10.《量化投资：以Python为工具》作者：蔡立耑豆瓣评分：6.7出版时间:2017-2内容简介：主要讲解量化投资的思想和策略，并借助Python语言进行实战。首先对Python编程语言进行介绍；然后，向读者介绍量化投资的理论知识，主要讲解量化投资所需的数量基础和类型等方面；最后讲述如何在Python语言中构建量化投资策略。三、期货量化11.《海龟交易法则》作者：柯蒂斯·费思豆瓣评分：8.6出版时间:2013-5内容简介：伟大的期货交易者究竟是天生的，还是可以后天培养的？丹尼斯和埃克哈为此开始了一项试验，参与者被称为“海龟”。此书的内容就是关于这些海龟的：海龟们如何做交易，如何把握交易时机；海龟们如何衡量风险，如何管理资金；海龟们如何获得超过100%的年均回报率；为什么有些海龟大获成功，有些却赔个精光；如何将海龟交易法则运用于你自己的交易中；12.《期货市场计算机分析指南》作者：查尔斯·勒博豆瓣评分：7.9出版时间:2012-4内容简介：本书原版较老，主要讲解美国80年代各种技术指标的运用，内含了作者几十年的功力。13.《期货市场完全指南:技术分析、交易系统、基本面分析、期权、利差和交易原则》作者：杰克·施瓦格豆瓣评分：7.7出版时间:2017-11内容简介：本书侧重于商品期货市场价格预测，是目前全面的关于基本面分析和技术面分析的期货著作，内容涵盖期货、期权、分析、利差等。14.《统计套利》作者：安德鲁·波尔豆瓣评分：6.6出版时间:2011-1内容简介：本书论述了统计套利的历史，也诠释了统计套利如何运作的方式，以及为什么管用的原因，就是翻译让人吐槽~四、期权量化15.《期权投资策略》作者：劳伦斯G.麦克米伦豆瓣评分：7.9出版时间:2010-1内容简介：本书可认为是期权交易策略大全，包含全面的期权交易工具与各种策略方法。涵盖数百种经过时间与市场考验的交易技巧，承受最低的风险，实现既定的投资目标。16.《波动率交易：期权量化交易员指南》作者：尤安·辛克莱豆瓣评分：9.0出版时间:2017-5内容简介：本书梳理了基础的期权定价、波动率度量、对冲、资金管理以及交易评估等内容，并开发了基于布莱克-斯科尔斯-默顿的量化模型去度量波动率，这适用于几乎所有类型的金融工具。17.《波动率微笑:宽客大师教你建模》作者：伊曼纽尔·德曼豆瓣评分：9.1出版时间:2018-1内容简介：本书公式繁多，需要较强数学功底，绝对是一本期权量化的好书，但总想将其归为失眠系列。五、失眠系列18.《主动投资组合管理:创造高收益并控制风险的量化投资方法》作者：理查德C.格林诺德豆瓣评分：8.7出版时间:2014-9内容简介：本书以其数学上的严谨性和内容上的系统性成为量化组合投资领域的权威之作。该书描述了一套创新的方法：寻找资产收益率原始信号，将它们转化为精炼预测，以及根据这些预测构建具有超常收益率和最小风险的投资组合，即持续战胜市场的投资组合。公式多，助眠！19.《QuantitativeEquityPortfolioManagement:ModernTechniquesandApplications》作者：EdwardE.Qian豆瓣评分：8.9出版时间:2007-5内容简介：本书可以被看成对《主动投资组合管理:创造高收益并控制风险的量化投资方法》的补充。20.《QuantitativeEquityPortfolioManagement:AnActiveApproachtoPortfolioConstructionandManagement》作者：LudwigBChincarini豆瓣评分：8.0出版时间:2006-7内容简介：本书比较偏学术风格，主要讲factormodel，与《主动投资组合管理:创造高收益并控制风险的量化投资方法》相辅相成。传送门",
        "url": "http://www.zhihu.com/api/v4/answers/2662774326",
        "comment_count": 3,
        "voteup_count": 127,
        "question_title": "http://www.zhihu.com/api/v4/questions/317643025",
        "question_url": "学习量化投资怎么入门，有哪些参考书籍?"
    },
    "2661387408": {
        "created_time": 1662388458,
        "content": "先来说说MACD的默认参数为什么设置成（12，26，9），后边再唠唠MACD的参数，我们该如何合理设置~MACD可以说是国内投资者最喜闻乐见的指标之一了，无论是股票投资者，还是期货投资者，亦或是债券、大饼等等，主流行情软件的副图一般都带有MACD指标，很多人也是将它奉为“技术指标之王”，关于它的书籍资料更是数不胜数，在网上一搜一大把。翻开这些书籍，你可能会发现，里面绝大部分作者都会告诉你MACD的具体计算方式和使用方法，MACD的默认参数就是（12，26，9），但从来没有说明为什么是（12，26，9）？我刚开始接触到MACD指标时，也是不自觉地在使用这组默认参数，也从来没有深究过为啥是这3个“不零不整”的数值，最近得空，好好来探寻一番，把知乎上网上的相关回答都看了一个遍。“遍览”这些相关资料，也没有找到MACD之父GeraldAppel（杰拉德·阿佩尔）的详细生平资料和MACD研发的心路历程，但看到了一些有趣的说法，我姑且说之，您姑且听之，咱一笑了之。MACD的具体计算方式和使用方法就不再赘述了，只说说参数的定义，“12”（SHORT）是短周期均线的计算长度，“26”（LONG）是长周期均线的计算长度，“9”（MID）是对长短均线离差值计算平均时的长度。在坊间，大伙儿对“12”和“26”的来历说法都较为一致。相传，在Gerald发明MACD的上世纪70年代，漂亮国交易市场仍在“996”，采用的是单休制度，一周有6个交易日，于是“12”对应的是两周。每个月有4周，一周休息一天，那么30-4=26，“26”对应的是一个月。但是查了道琼斯工业指数和麦当劳的历史日K图，发现一周并没有6根Bar，说明至少在漂亮国股票交易市场并没有“996”，觉得更可能是Gerald关注的交易品种一周是交易6天，类似于期货从周一上午交易到周六凌晨。MACD默认参数中的“12”和“26”都好解释，但是关于“9”的来历就众说纷纭了，目前主要有3种说法。第一种说法，“9”纯粹是作者喜欢的观察周期，萝卜白菜，各有所爱，没有9的话，还可以是8或者10，到时候我们一样会疑惑。第二种说法，“9”对应的是一周半，上文说了，那时候是一周交易6天，那“9”正好是一周半。第三种说法，也是跟一周交易6天有关，不过这种说法显得更高大上一些，“9”是每周交易日数目乘以概率密度系数后的结果，其中1/sqrt(2π)是标准正态分布的概率密度函数的系数。现在终于对MACD的默认参数（12，26，9）是怎么来的，终于有些眉目了，我们要是对MACD的参数进行调整就有底了。我国目前一周是交易5天，所以常用的均线默认设置周期都是5的倍数，例如5、20、60、120分别对应1周、1个月、3个月、半年，因此，在MACD中，短均线和长均线的周期可以分别设置为10和20（依旧是对应2周和1个月）。第3个参数的确定，关键是在于你觉得哪一种说法更合理。如果是第一种，那就可以随心所欲了，适合自己的观察周期就好。如果是第二种，那一周半就是对应1.5x5=7.5，MACD的默认参数可以设置为（10，20，7）或者（12，26，8）。如果是第三种，那MACD的默认参数可以设置为（10，20，7），这也是我经常使用的参数设置。补充说明：如果是其他交易领域，比如说大饼圈，一周则是交易7天，MACD的默认参数要基于7天计算，例如（14，30，10）。如果觉得MACD反应不够灵敏，可以将参数等比例缩小，例如（7，15，5）。虽然这篇短短的回答只有1500字，却是我之前看了10w+字资料的总结，如果对你有帮助，能否花1秒钟鼓励一下呢~~谢谢你~~~",
        "url": "http://www.zhihu.com/api/v4/answers/2661387408",
        "comment_count": 8,
        "voteup_count": 62,
        "question_title": "http://www.zhihu.com/api/v4/questions/29523961",
        "question_url": "MACD参数设置的逻辑是什么 ？"
    },
    "2661366742": {
        "created_time": 1662387495,
        "content": "在普通人的潜意识里，一提起机构就是镰刀，一提起个人就是韭菜，确实，机构相对于个人而言，会有资金人力、硬件设备和信息渠道等方面的优势，但个人量化交易者也并不是“一无是处”。君不见，大商超都存在这么久了，还有那么多小杂货铺，其中很多小店主都活得挺滋润。针是没有两头尖的，总会有大商超大厂顾及不到的地方，相对于大机构而言，个人做量化交易，至少还有这3个小确幸。本金小，跑得快。个人的资金量一般不是特别大（相对于机构而言），这就意味着对市场的影响比较小，咱们的交易行为对市场不会起到很大的影响，也就是冲击成本比较小。在这种情况下，开发的量化策略就倾向于更加有效，不会因为容量的限制而失效，有些小策略有正向盈利预期，但大机构也是不稀得做。这就是为啥很多高频做得好的机构，也要开始做中低频了，因为高频容量确实有限，承载不了这么多的资金。监管宽松，风险偏好灵活。风险偏好可以根据自身的需求定制，自己设定自己的盈利预期，只要法律法规允许，想买什么买什么，不像大机构很多时候，这个不能买，那个不能买，当证券价格下跌到一定程度的时候，还得立马平仓，不管这是不是黎明前的黑暗，个人就没有那么弯弯绕，“逆势死扛，再创辉煌”。时间和业绩限制少。无论是私募基金，还是公募基金，都是以产品形式运营的，每个产品都设有投资期限，虽然现在都全面禁止保本保收益了，但机构做不出好业绩的话，私募来年募不到钱，公募排名垫底，都是影响活计的。个人如果用闲余资金做量化交易，做得好了，可以到处嘚瑟，做不好，捂着闷声亏钱就行了，不会有投资者给你打电话寄刀片；没有交易机会可以躺平，不像一些产品有仓位限制，即使预测市场下跌了，还得买买买。刚才苦口婆心说(xia)了(bian)这3点个人量化投资者的优势，发现没有，一直都是对标着量化机构，但咱做量化交易的目标是什么呢？是一定要比量化机构更强吗？个人愚见，量化交易更多是一种投资交易的分析手段，在投资交易当中，一定要做出决策，买什么，什么时候买，买多少，就连不想决策躺平本身也是一种决策，量化交易基于金融逻辑和历史数据，发现和验证交易理念，提高决策的胜率，让交易策略趋向于正收益预期。个人做量化交易并不需要打败大机构，而是提高自己的盈利胜率，跑赢那些拍脑袋、靠感觉、听消息的散户就可以了。现在很多大私募，开始的时候，核心量化团队只有一两个人，也许是幸存者偏差，但不能否定个人量化的靠谱存在。其实，量化跟视频赛道很像，在过去，科班的影视团队才有专业的摄影器材，拍出好看的电影电视剧等视频，现如今由于科技的进步，手机、数码照相机进入千家万户，极大的降低了个人视频制作者的门槛，君不见小破站上有那么多有趣有料的UP主，分享着众多的优质视频。导演有好的摄像机也会拍出烂片，UP主只有手机也可以拍出受观众喜爱的vlog，第三方量化平台和开源软件的兴起，和金融数据的低价优质化，正在催生更多的个人量化交易者，个人和机构一样都可以做量化，但个人和机构是不是能做好，都是要看个人和团队的能力，小鸡不撒尿，各有各的道。",
        "url": "http://www.zhihu.com/api/v4/answers/2661366742",
        "comment_count": 5,
        "voteup_count": 46,
        "question_title": "http://www.zhihu.com/api/v4/questions/329206671",
        "question_url": "个人做量化交易靠谱吗？"
    },
    "2658323991": {
        "created_time": 1662198562,
        "content": "很有可能是因为，掉进了回测的坑里，躺在坑里觉得回测很美好，实盘却十分骨感~由于社群的原因，看过不少策略，就腆着脸唠唠回答一下，量化新手期经常碰到未来函数的4个坑，希望量化萌新们少掉点儿头发。新手向回答，大神请绕行~1.明显坑：使用前复权价格数据由于股票会存在分红送股的情形，价格会出现非交易回落，导致股票价格序列的不连续性，假设个股“10送10”，股价就腰斩了，双均线什么的马上就会出现“死叉”，所以为了指标计算的连续性和方便性，就会使用复权价格数据。一些量化萌新入门之前，在行情软件上一般是看前复权行情（很多股民都有这个习惯），因为前复权行情是保证现在的价格不变，根据分红送股的信息对之前的股票价格进行调整，看到现在K线的数值比较“正常”，如果是看后复权价格行情的话，很多上市时间比较长、分红送股比较多的股票后复权价格都是“成千上万”的了，不太“人性化”。酱香型科技公司的前复权价格比较符合股民习惯。后复权价格已然上万，很多人一开始不习惯也不喜欢。所以有一部分新手就会使用前复权价格数据，刚才已经说了，过去的股价数据是按照现在价格，根据分红送配的信息往过去推的，换句话来说，历史的价格数据包含了现在的信息，也就有了“未来信息”。如果是使用前复权价格数据，那最简单且收益高的量化策略就是，买上市时间早且前复权价格低的股票，回测收益率曲线保证不差。2.普通坑：当前K线出信号，当前K线成交这里特指的是：使用K线收盘价序列计算指标，出现信号后，以收盘价成交。其实这种情况已经比“最低价买入，最高价卖出”的偷价情形好很多了，除非是恶意设置，不然一般萌新凭直觉都会避免。但有时候看一些萌新的策略源码，会出现类似于“IFCrossover(MA5,MA20)THENBuy(Close，...)”（当前MA5均线上穿MA20均线时，按收盘价买入）的情形，其实这挺符合日常看盘的习惯，看到金叉死叉的时候，都会在脑子里面从当前时点开始判断之后的行情。但在量化里面，这其实也是包含了未来信息的，因为量化交易实盘是实时进行的，至少会出现以下两种不利的情况。（1）当前K线没走完，最高价就触发了金叉信号，按照最高价就买入了，可能收盘价和最高价之间就存在不小的滑点。（2）当前K线最高价可以触发金叉信号，但按照收盘价计算却触发不了金叉信号，这就造成了实盘当中能成交、回测当中无法成交的不对应情况。因此有经验的宽客一般都会设置为“当前K线出信号，下一根K线开盘价/限价成交”，例如上面的例子可以改为“IFCrossover(MA5[1],MA20[1])THENBuy(Open，...)”（根据上一根K线计算的MA5均线上穿MA20均线时，按照开盘价买入）。其实这样的设置还可能不够严谨，不过已经比之前的情形好很多了。更为严谨的是，买入价可以设为“Max(Open，LimitPrice)”（开盘价和心里目标价位的最大值），量化想做好就是要扣很多细节，路漫漫其修远兮，吾将上下而求索~3.进阶坑：无法判断最低价和最高价的出现顺序这种情况相对少见，造成的后果也比较薛定谔，举个例子来说明吧。假设一个股票/品种出现了天地板（大幅震荡同理），涨停会触发止盈，跌停会触发止损。如果是按照K线来回测的，用高低价判断是否触发止盈止损，这就要看在策略源码中，你把止损写在前头，还是把止盈写在前头，因为在这根K线上，止盈止损的条件同时都满足，谁写在前头谁就会被执行。但是在实盘当中，最高价和最低价必然有先后出场的顺序，假设先出现跌停，再出现涨停，而在代码当中是把止盈写在前头。这个时候就变相出现了未来信息，在回测当中出现了“苦尽甘来”的情况，在实盘当中要亏损10%的情况，在回测当中却盈利了10%。这个就有点儿类似于“幸存者偏差”，如同很多经典量化书籍都提到过的例子：在米国，买入困境当中的股票博反转，回测效果非常好，实盘效果却可能大相径庭，因为在早期，个股退市后数据就“消失”了，能回测到的股票都是从困境当中挺过来的幸存者，股价自然会迎来大涨，但如果在现实当中买到的是没有挺过来的不幸者，那就GG了。4.隐蔽坑：财报数据当中的未来信息这个财报当中的未来信息非常隐蔽，我初始做量化的时候也掉进过这个坑，不是自己\"粗心大意\"，而是没有经验、特别是没有财务相关知识的萌新容易掉坑。众所周知，A股上市公司的一季报、半年报、三季报和年报的披露截止时间分别在当年的4月底、8月底、10月底和次年4月底公布，一般很少有人在2021年1月就直接调用2020年报的，这个错误对普通股民都太过明显，今天要说的是比较\"隐蔽的\"。举个例子，有的童鞋就考虑到财报的延后披露，但各家上市公司的披露日期又没有规律，于是乎，在构建量化基本面模型时，就在披露截止日期的次月第一个交易日调取财报数据，比方说在2021年5月6日才调用2020年报数据。的确，这种方式能剔除绝大部分的未来信息，但是还是有些隐蔽的瑕疵，这个瑕疵的根源就是：部分公司会对之前的财报数据进行修正，最新值会替换掉旧值。举个真实的例子，某扇贝跑来跑去的上市公司XX岛由于2014、2015连续两年亏损被*ST，如果2016年再亏损就要进入退市流程了。2017年3月21日，XX岛公布了2016年的年报，净利润为7571个w，扭亏为盈，保壳成功。但在2019年7月被证监会最终查出虚增利润1.3个小目标，追溯调整后净利润为-5543个w。如果今天来回测，取到XX岛2016年的净利润就是-5543w，可以避开这个大雷，而实际上，2017年5月第一个交易日取到的净利润却是7571w，老老实实挨锤。XX岛2016年年报原始数据。2022年今天查询到的XX岛财务数据。这种回测历史当中能取到、现实当中无法取到的财报数据，就是做基本面量化的萌新很容易掉进的坑，特别还是早期的时候。不过现在萌新们不用担心了，很多量化平台都做了非常贴心的设置，除了设定报告期外，还可以设定取数日期，只能取到在实际当中取数日期之前可见的财报数据，在取数日期之后的修正是取不到的，或者是其他落地的金融数据库，会同时存储原始财报数据和修改后的财报数据，并且有每条记录的公告日期，可以按照公告日期进行数据选择。在回测当中，要有效避免掉这些未来函数/未来信息，除了多听前人的掉坑经验外，就是彻底了解自己所用的指标、变量、模型、算法的计算流程和细节，在哪个环节上会拿到这个时点之外的未知信息，慢慢地打磨细节，这样会比较快。",
        "url": "http://www.zhihu.com/api/v4/answers/2658323991",
        "comment_count": 22,
        "voteup_count": 193,
        "question_title": "http://www.zhihu.com/api/v4/questions/24065933",
        "question_url": "为什么回测效果非常好的策略实盘却不行？"
    },
    "2658288751": {
        "created_time": 1662196804,
        "content": "在CTA当中，使用类似于股票多因子的策略结构，在现如今已经是比较成熟的了，我先来打个样，说说如何利用『期限结构因子』构建一个简单的CTA策略。什么是期限结构呢？下面贴一段学术范儿的解释：同一商品期货品种有多个不同到期日的期货合约，将不同月份合约价格连接起来可以得到商品价格的期限结构（TermStructure）。如果近期价格高于远期价格，期货期限结构向下倾斜，这种情况称为期货贴水（Backwardation），或叫做现货升水，也叫作现货溢价。如果远期价格高于近期价格，期货期限结构向上倾斜，这种情况称为期货升水（Contango），或叫做现货贴水，也叫作期货溢价。萌新第一次看可能一头雾水有点懵，内心OS：这是啥玩意儿啊！那请忽略以上文字，举个栗子打比方，我们静下心来唠唠。比如说，螺某钢合约和当前价格如下：螺某钢2205合约：5504螺某钢2210合约：4884螺某钢2301合约：4817你瞧，随着交割日期越靠后，合约的价格就越低，这就是近期合约的价格高于远期合约的价格，如果将日期画在横轴（X轴）上，将合约价格画在纵轴（Y轴）上，那就是一条逐渐走低的价格曲线，学术范儿叫法就是期限结构向下倾斜，称为期货贴水（Backwardation）。又比如说，沪某铝合约和当前价格如下：沪某铝2205合约：21090沪某铝2206合约：21120沪某铝2207合约：21140这个品种的情况刚好就跟之前螺某钢恰巧相反，随着交割日期越靠后，合约的价格就越高，这就是远期合约的价格高于近期合约的价格，那是一条逐渐走高的价格曲线，学术范儿叫法就是期货期限结构向上倾斜，称为期货升水（Contango）。一般从纯理论来说，期货升水（Contango）是商品期货正常的结构，因为近期合约和远期合约价格关系如下：远期合约价格=近期合约价格+仓储、物流、利息各项杂七杂八的费用这个公式就解释了为什么之前纽商所的原油2005合约价格出现“-40美元/桶”，你没看错，商品价格就是负数，就是你买一桶原油卖方还倒贴你40美元，而当时其他的远期合约价格都是正数。这其中的原因是，买入原油交割，别人只给你油，你自己得拿东西去装回来，而当时原油价格偏低，附近的化工企业就不断收油，都把油罐基本上装满了，临近交割的时候，你自己买个桶或者存在特定的仓库里，存一桶油就可能要花50美元以上，这就是为啥原油卖方愿意贴钱给你让你把油弄走的原因之一（本质原因还是供求关系）。了解完了期限结构，怎么指导我们投资交易呢？按照当前的期限结构，是可以反推商品/品种的市场供需情况的，根据仓储理论和顺势而为的交易理念，当商品库存偏低（供小于求）的时候，近月合约价格将出现更大幅度的上行，从而更容易导致近月合约较远月合约升水，此后由于库存可能继续偏低，则商品价格将继续上涨；相反，当商品库存偏高（供大于求）的时候，近月合约价格将出现更大幅度的下行，从而更容易导致近月合约较远月合约贴水，此后由于库存可能继续偏高，则商品价格将持续下跌。铺垫了这么多，了解完了期限结构和指导原则，这就轮到今天量化策略的核心公式登场了，那就是期限结构当中的展期收益率（RollYield）计算公式。其中，ln(*)是以自然对数函数，Pn是近月合约当前价格，Pd是远月合约当前价格，Nn是近月合约交割日期距当前日期的天数，Nd就是远月合约交割日期距当前日期的天数。那么，“ln(Pn)-ln(Pd)”可以看成是近月合约较远月合约的对数溢价率，如果只是横截面比较大小排序，直接用正常的溢价率就可以了，不需要用对数形式，更符合普通人习惯。“365/(Nd-Nn)”就是对溢价率进行年化处理，方便不同期限合约的溢价率进行统一比较。当近月合约价格高于远月合约价格时，当前的展期收益率为正；当近月合约价格小于远月合约价格时，当前的展期收益率为负数。在近月和远月的选择时，不同人也有不同的选择方案：近月和次近月，近月和主力，近月和最远月，主力和次主力。这些都是可选方案，老高说主力和次主力的结合会好一些，既然他敢说，我就敢信吧。根据之前说的指导原则，展期收益率高的品种价格将会更大概率上行，展期收益率低的品种价格将会更大概率下行，因此就产生了一个朴素的对冲策略想法：在时刻T，做多展期收益率最高的N个品种，同时做空展期收益率最低的N个品种，等市值对冲，定期换仓。有了想法，说干就干，回测一下，效果还行，就是回撤大了一些，不过这还是个毛坯版的策略，还有很多更精细的优化方向可以考虑，比如还要参考商品现货价格、商品价格趋势、波动率放大收敛、加入止盈止损等，留待各位宽客大侠改进成精装版~~~参考资料：海通证券，2017.03，《FICC系列研究之二：基于动量和期限结构的商品期货策略》海通证券，2017.08，《FICC系列研究之五：商品期货因子挖掘与组合构建再探究》兴业证券，2017.05，《CTA策略系列报告之二：基于商品期货的期限结构的投资策略》东方证券，2017.07，《衍生品系列研究之（六）：商品期货中的alpha策略》华泰期货，2017.10，《CTA量化策略因子系列（三）：期限结构因子》渤海证券，2018.04，《金融工程CTA策略专题报告之十：商品期货展期收益策略初》其他相关内容：quantkoala：又来唠一个另类异质量化策略：20后的Trendflex策略quantkoala：股指期货除了无脑吃贴水之外，还有更卷的量化操作策略吗？quantkoala：小市值因子已然凉凉，绩优小市值依旧狂浪quantkoala：量化本无妙手，背后都是坚实的本手：波动率不对称性RSJ量化策略quantkoala：动物庄园：商品期货跨品种套利策略",
        "url": "http://www.zhihu.com/api/v4/answers/2658288751",
        "comment_count": 0,
        "voteup_count": 38,
        "question_title": "http://www.zhihu.com/api/v4/questions/265275154",
        "question_url": "CTA是否可以做类似多因子驱动的策略？是否有相关成熟的研究成果？"
    },
    "2654515678": {
        "created_time": 1661957815,
        "content": "太阳底下无新鲜事，新因子可能就是旧因子的组合或改进，深入研究原始因子的“微观结构”，说不定就能“转基因”形成新因子了。其实吧，大道理大伙儿都懂，只是没有比较深的体会，没有具象化，咱就举个量化因子/策略小栗子吧~扎扎实实做好量化投资研究的小伙伴，经常细心观察数据就很容易发现：数据是可以“切割”的。打个比方，涨跌幅里面有动量也有反转，资金流里面有大单也有小单，聪明钱里有占比高的时间段也有占比低的时间段。因此，咱可以从中筛选出有利的部分，比如说只要涨跌幅里面的动量部分构建动量因子，也可以从中“一分为二”，选择对立两面做“对冲”，比如筛选资金流当中的大单和小单分别统计，然后做主力和散户的力量对比，或者计算股票的“含散率”。这种分场景/筛选的技巧，业内部分人称为“因子切割”，也有叫别的，大体上都是这个意思。波动率大伙儿都晓得吧，金融市场的一个重要指标，经常被用来衡量交易的活跃性、交易的风险和期权的定价等，我们平常使用的收益率的标准差就是其中一种度量方式，今天咱换个方式，使用收益率的平方和RV（RealizedVariance），计算公式如下，其中n值就是咱所考虑的序列长度。根据因子切割的技巧，波动率也可以分为“好的”波动率和“坏的”波动率，也就是可以分为上行波动率和下行波动率，这点跟夏普率和索提诺比率的区别很像，夏普率使用全部波动率度量风险，索提诺比率只使用“下行”波动率度量风险。值得注意的是，说“好”与“坏”只是强调它们之间的对立关系，并不是说明就真的good或bad，因为对于持有空单的人来说，下行波动率往往是good的。于是乎，咱就将RV拆解成了上行波动率RV+和下行波动率RV-，实际上怎么计算呢，就是把数值为正的收益率和为负的收益率区分开，单独对正的收益率序列计算标准差那就是上行波动率RV+，对负的收益率序列计算标准差就是RV-。其中I(...)就是条件判断函数，当括号内条件成立时函数值为1，不成立时数值为0。这个波动率不对称性因子就被简称为RSJ，全称为RelativeSignedJump，是不是觉得名字怪怪的，这可不是我瞎编的，原著（参考资料3）就是这样写的，不信的话你往下瞅瞅，因为证券价格肯定有波动和跳跃嘛。从公式中就很容易看出来了，RSJ可以很好地反映上涨下跌的情绪变化，当RSJ大于0时，说明证券的上行波动率大于下行波动率，涨势明显；当RSJ小于0时，说明证券的下行波动率大于上行波动率，跌势显著。这样就可以形成一个朴素的期市策略：RSJ&gt;0时做多，RSJ&lt;0时做空，最好再加上价格中短期趋势辅助判断，平仓的话，用ATR跟踪止盈止损（常说的“吊顶”）就可以了。咱先用期市里大伙儿最熟悉最亲民的品种做小白鼠测试一下，净值曲线如下。作为朴素的基础策略，它还比较大线条和粗糙，单品种曲线跑成这样其实还看得过去，多品种多周期叠加应该净值曲线能平滑不少，有待大伙儿日后继续探索。以上举的『波动率不对称性RSJ因子』中使用的量化技巧，其实不是啥“妙手”，也只是众多平平无奇的本手小尝试之一，但正是这些平平无奇的潜心观察和研究，可以让量化因子一步步走向精益求精，老树绽放出新花。祝题主能早日找到称心如意的新因子！参考资料：用Python的交易员，知乎，2021-11，《【Veighna量化策略实验室】RSJ高频波动率择时指标-1-源码复现》。陶勤英，财通证券，2020-07，《高频波动率择时指标：RSJ市场情绪冷暖剂》。BollerslevT，SocialScienceElectronicPublishing，2018-12，《GoodVolatility,BadVolatilityand,theCross-SectionofStockReturns》",
        "url": "http://www.zhihu.com/api/v4/answers/2654515678",
        "comment_count": 3,
        "voteup_count": 216,
        "question_title": "http://www.zhihu.com/api/v4/questions/529940339",
        "question_url": "在量化交易公司做因子研究进入瓶颈，找不到新因子怎么办？"
    },
    "2654281196": {
        "created_time": 1661946038,
        "content": "看这个问题的小伙伴，应该有很多都是初入量化的从业者，希望你们不要被光鲜亮丽的高薪孤例所迷惑，以为遍地都是鲜花掌声，也要感受一下业内的参差，仰望星空时，不忘脚踏实地，不再重蹈肉疼的覆辙。深坑1：假面Boss骗策略如果你留意招聘网站足够久，你就会发现有些量化机构常年在上面招人，要求不高，薪酬不少，但几年过去了，都没有招到人。如果不是暗地里选人标准极其严苛的话，那十有八九这个机构是骗策略的，他们哪是想招人啊，纯粹是想白嫖你的策略。面试你的Boss，会展现得极其和蔼友善、平易近人，在你自我介绍完成后，循循善诱地问你，你都做了些什么策略啊，用了哪些因子啊，用的是什么算法啊，主要交易什么标的啊，就差让你把策略源码发给他，他来好好评估一下。对话的氛围极其融洽，如沐春风，如饮甘霖，惬意自在，只是掏空你的策略细节后，然后让你回去等通知，就然后没有然后了。你不想透露策略细节也可以，他也不跟你纠缠，赶紧让你大腿贴邮票——走人，人家也没啥损失，连交通费都不用，是你自己送上门来的。假面Boss骗策略，一般是用来骗一些经验丰富的量化人员，新手的话，可能就是给你布置个任务，或是笔试题里美其名曰测试一下你的实力，让你实现功能或探索策略，但结局都是一手交货，一手石沉大海。深坑2：薛定谔的奖金提成一般量化人员的标准薪资构成模式是“base+bonusorpnlcut”，base就是基本工资，bonus就是奖金，pnlcut就是业绩提成。量化开发人员，需要懂数理统计、交易算法、计算机和金融，技能树丰富程度完全比肩互联网公司，但base基本只有互联网公司的7~8折左右。比如说，一个工科博士，去互联网大厂base是50w，但可能去量化机构只有35~40w，问题来了，为啥拿到的base少了一截，还有很多人对量化趋之若鹜呢？因为大部分量化人员都不是只冲着base去的，高奖金提成才是我们的星辰大海，能给咱一步登天的机会。于是乎，精明的Boss抓住了咱的这种心理，做出好策略给你bonus，实盘盈利给你pnlcut，跟bonus和pnlcut比起来，base只是零花钱，把胡萝卜挂起来，让你奋力前行。但关键是，什么的策略是好策略，实盘盈利到什么程度才符合Boss心意，这就完全是看Boss的人格和格局了。没做出好策略，实盘没盈利，没有奖金提成你不好说什么，但是好策略实盘盈利了，你也可能是一无所获。比如说，你给公司一个产品贡献了500w盈利，按照之前老板口头约定的可以提成10%，也就是50w，但老板觉得你策略的波动和回撤太大了，造成公司某产品净值曲线不高雅，不发了，只是口头约定，不好打官司，只能哑巴吃黄莲。又比方说，还是盈利500w，而且有书面约定提成比例，但是临到发奖金前一两个月，公司说要调整提成起算标准，原来超额8%就有提成，现在要超额15%，因为合同里有约定，公司有权根据市场行情变化，调整超额收益基准线。咦~你发现，这超额后到手也没有多少了，Boss这刀法很精准嘛~很多时候，你就会发现，自己有一个靠谱的金融法务朋友多重要~深坑3：苛刻的竞业协议和保密协议入职新的量化机构，一般都会签署劳动合同、竞业协议和保密协议，可能很多人会细看劳动合同中的薪资等关键条款，却很少细究竞业协议和保密协议的限制条款，因为光想着将来入职大展拳脚，没有想到日后的踩坑扯皮，为将来的事业留下隐患。首先说明，竞业协议和保密协议很常见，不仅在量化领域，在互联网、高端制造等领域都存在，关键是双方权利义务要对等。根据法律规定，竞业协议最长不能超过2年，竞业补偿金不低于年收入的30%，这是法律的底线，也可能是心胸狭隘格局小Boss的道德高地。谁都希望事业顺风顺水，但万一发现这家公司是个坑，不想继续在歪脖树上吊死，那就得看自己能不能顺利离职，顺滑地投入到一家更有前景的公司。因此，入职前就要想清楚，如果公司启动竞业协议，竞业补偿金是否能让你躺平2年，有的Boss真真就是只给base的30%（好的公司可以给到base的80%~100%），当初自己光冲着bonus来的，base不高，bonus也没发，现在只有base的30%了，自己能不能受得了。所以，很多人准备离职的时候，老东家以启动竞业协议相威胁，不想经历吃苍蝇式的扯皮，最好注意这个大坑。说完竞业协议，来说说保密协议，这个就友好很多了，一般是义务型的，就是你从这个公司领工资，就要学会保密，不要泄露公司的机密信息就行了。说一个案例，大伙儿注意避开就行了，大D入职某量化私募，劳动合同的保密款项中约定，每个月扣工资的10%作为保密押金，累积扣押的保密押金会在离职后分12个月返还，但关键是公司没有在劳动合同上写月工资数额，公司说所有员工的合同都是没有写工资数额，大D也没在意，往后公司一直都是月发90%的base，直到1年后，公司欠薪，没发工资，大D去劳动仲裁，仲裁最终判决是公司补发1个月工资，工资计算依据是最近12个月工资流水的平均值，也就是把最近1年的收入加起来除以12个月，关键是这个工资数额是发到手的数额，是扣除了那10%保密押金和五险一金之后的数额，大概只有原base的70%，最最最关键的就是，这扣了12个月保密押金没能要回来，这也就相当于，一个多月的工白打了。深坑4：Boss直属上级不懂量化量化机构的Boss或直属上级不懂量化业务，这出现的概率比较小，但我自己听兄dei们说过的亲身例子已不下5个，大部分都是发生在量化私募，我说一个印象最深刻、最搞笑的。大L去面过一个量化私募，跟HR和部门Leader聊过后得知，这家私募刚成立不久，成立的初衷是大Boss有闲置的7000多w需要打理，就自己成立一个私募玩玩，管自己的钱，也可以将来帮朋友管钱，因为量化投资比较热，打着这个幌子好募资，于是就打算做量化私募。大L给我讲的时候，有3个点我记得非常清楚。第一点就是，该部门Leader问大L能不能程序化实现老鸭头指标，说他现在炒股很看重这个指标，实现后就可以量化交易了。第二点就是，问大L策略预期收益有多少，大L说做Alpha策略的话，年化收益预计有10%~35%，该部门Leader说这也太少了，大L说这个策略胜在回撤小、夏普率高，自有资金可以做的比较安心，部门Leader问道“夏普率是什么？”第三点，搞笑的来了，大L问该部门Leader，你们现在用的开发语言是什么，部门Leader犹豫了一会儿，答道“大蟒蛇”。这个“大蟒蛇”的回答承担了我那一周的全部笑点，是的，大L没有再去这家所谓的量化私募二面。上面说了四大类坑，列举了一些不靠谱Boss的坑爹操作，因为量化投资离钱非常近，人性在面对金钱的时候往往经不起考验，很大程度上要依靠人的人格和格局，但也不能因噎废食，相信这个世界还是好人多，抬头仰望星空的同时，也要低头赶路避坑。其他相关内容：quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章317赞同·12评论文章328赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章69赞同·2评论文章为什么很多不需要复杂数学的量化策略效果往往比一些使用复杂模型的策略好？",
        "url": "http://www.zhihu.com/api/v4/answers/2654281196",
        "comment_count": 6,
        "voteup_count": 43,
        "question_title": "http://www.zhihu.com/api/v4/questions/532118660",
        "question_url": "盘点国内量化私募公司的各种坑，你遇到几个？"
    },
    "2654268514": {
        "created_time": 1661945366,
        "content": "大神们都说了很多经典常见的交易系统，我补充说一个『Ichimoku』交易系统吧，抛砖引玉~Ichimoku，俗称“日本云图交易系统”，简称“日本云图”，原名“一目均衡表”，相传由日本记者一目山人（IchimokuSanjin，真名：细田悟一）发明，在二战前就已经发明出来，但直到1969年才向公众公布，在近几十年无论是在股市、债市、期市、汇市等领域均得到了国际业界认同。日本云图主要由5条线和一个云带(KUMO)构成，通过几者间关系的解读，可了解市场的强弱，并可得出买卖信号。现在详细讲讲这5条线和云带的计算方式，假设短中长三个时间周期参数为x、y、z，计算方式如下：短轴快线，Tenkan-Sen(转换线)=(x期间最高高点+x期间最低低点)/2；中轴慢线，Kijun-Sen(基准线)=(y期间最高高点+y期间最低低点)/2；迟行线，ChinkouSpan(迟行线)=今天的收盘价格，画在过去y期处；先行指标A，SenkouSpanA(先行带A)=(转换线+基准线)/2，画在未来y期处；先行指标B，SenkouSpanB(先行带B)=(最高高点+最低低点)/2，取过去z期间，画在未来y期处；云带，Kumo=SenkouSpanA和SenkouSpanB之间的区域。x、y、z在原来一般默认为9、26、52，因为在1930年代，日本是每周工作6天，传统的系统以半星期(短)、一个月(中)及二个月(长)为准，现今社会已经由6个工作日改为5个（虽然现在有改回来的趋势），根据日本云图的精髓，也可以改为7，22，44。日本云图的用法很多，但比较通用的规则如下：看多信号：价在云之上价上穿基准线转换线上穿基准线云从红翻绿（SenkouSpanA领先SenkouSpanB为绿云，反之为红云）看空信号：价在云之下价下穿基准线转换线下穿基准线云从绿翻红（SenkouSpanA领先SenkouSpanB为绿云，反之为红云）后来有一量化大神把日本云图的策略精髓移植到了国内期货和股票上，改进后在交易开拓者TB、文华财经WH8和MultiCharts平台上实现，并进行了小范围的分享。看了一下，策略的大体思路就是：1.价格出现“V型”走势做多，出现“倒V型”走势则做空；2.价格在云带上方，只做多不做空；价格在云带下方，只做空不做多；中国版的云图策略回测盈亏曲线如下：其实，日本云图实际分为两个部分。第一部分是通过图表本身，解读市场的信号；第二部分，是通过计算，预测市场的方向和位置。特别是第二部分，可以说在很大程度上简化解读了周期理论、江恩理论和波浪理论的核心部分，有很强的适用性，有待各位Quant大侠们深入探究。参考资料：K线图，百度百科一目均衡表，百度百科汇商传媒，知乎，《让你一眼就看清趋势，“一目均衡表”究竟有多神奇！？》",
        "url": "http://www.zhihu.com/api/v4/answers/2654268514",
        "comment_count": 2,
        "voteup_count": 32,
        "question_title": "http://www.zhihu.com/api/v4/questions/41054465",
        "question_url": "有哪些常见的交易系统？"
    },
    "2652922379": {
        "created_time": 1661868687,
        "content": "本回答是萌新浅显故事向文章，众大神请退散~在辽阔的七合大草原上，分布着各个庄园，每个庄园都盛产不同的“特产”，有的盛产大豆，有的盛产玉米，还有的盛产螺纹钢，还有黄金白银、焦炭、铁矿石、橡胶等等。每天，庄园里的大小动物们，都会把它们庄生产的东西背到草原上的中心市场进行售卖，可以换得庄币（草原上公认的交易媒介，简称『ZB』），用来购买其他庄里需要的生活生产物资。由于季节更替、环境气候等因素的变化，这些特产的价格也在不断变化。比如说，旱季的时候，粮食生长缓慢，玉米啊，大豆啊，价格就蹭蹭地往上涨，到了雨季，食物充沛了，价格就又下来了。所以啊，在旱季到来之前，很多庄园小动物都喜欢囤自己喜欢吃的粮食，但是有些小动物，由于自己的窝太小、存储技术不过关、地方还没腾出来等缘故，不敢囤太多的粮食，但又害怕旱季到来的时候粮价太高，怎么办呢？同时烦恼的还有另外一拨动物，它们就是专门生产粮食的庄园作坊主，不同季节和气候的粮食价格不一样，波动太大，导致销售回款波动大，现金流紧张的时候还要拖欠动物员工的工资，还是希望稳稳的幸福。为了解决这两拨动物的烦恼，草原的长老们就想出了用『庄票』的方法，庄票上面约定了在未来什么时候交易什么粮食品种多少斤，庄票一式两份，分为买方（多方）和卖方（空方）。买方（多方）一般就是那些害怕到旱季粮食价格上涨的小动物们，在雨季的时候就可以锁定旱季的粮食价格（可承受范围内），而且还可以先不用把粮食囤在家里，到了旱季的时候再去卖方（空方）那里把粮食搬回来就可以了。成为庄票当中买家的行为俗称“做多”。卖方（空方）一般就是那些作坊主们，只求稳健经营，害怕价格大幅波动，利用庄票锁定长期的价格，可能比市场价格低，也可能比市场价格高，但在自己的成本价之上就可以了。成为庄票当中卖方的行为俗称“做空”。就拿玉米庄票来说，庄票上面写着“作坊主阿熊要在今年冬至以1.3ZB/斤价格卖给阿猪100斤玉米”，意思就是，在今年冬至这天，阿猪花130ZB就可以买回来100斤玉米，以前那个时候买100斤玉米可能要花180ZB，作坊主阿熊也可以提前收到货款。到了庄票上的约定时间，卖方（空方）就会把对应的粮食（品种和数量跟庄票一样）拉到市场边的空地上，买方（多方）就去把粮食给拉回来。但是呢，如果成为了庄票的买方，也不一定要把粮食拿回来，可以转手给别的小动物。因为庄票每天都会产生，每天的价格由于各种因素也会不一样，所以导致转手的价格也会不一样。举个栗子，阿猪有一张“作坊主阿熊要在今年冬至以1.3ZB/斤价格卖给阿猪100斤玉米”的庄票，但是呢，阿猪过生日的时候，亲戚们送了很多玉米给它，阿猪就觉得玉米太多了，就把这张庄票转给了邻居阿鸡，但是呢，由于大家都觉得今年玉米可能歉收，现在签的庄票玉米要1.4ZB/斤了，于是乎，阿猪在转手庄票给阿鸡（平仓）的过程中赚了10ZB。同样滴，跟买方（多方）类似，卖方（空方）手里的庄票也是可以转手滴。除了各种粮食，像各种矿产、金属等庄园特产都是可以用庄票约定在未来交易的，有交易需要的各种动物们会聚集在草原中心市场旁的大梧桐树下，进行着各式各样的庄票交易。终于交代完这片大草原的庄票交易背景，现在轮到聪明的套利动物出场了。由于各种特产的庄票，可以在到期之前随时转让，转让的过程中存在价差，这就构成了庄票转让交易的盈利基础。有的动物预测今年粮食大丰收，于是先高价做空，然后再低价转让庄票（平仓），赚得窝满巢满，也有的预测错误，爬到梧桐树天台的。有的动物也想从庄票交易中分一杯羹，但是觉得单方向预测价格风险太大，只想找到市场上不正常的定价价差，在等待价差恢复正常的时候获利，它们就是大草原当中的套利动物。套利动物在不断找寻着庄票背后特产的规律，偶然间，它们发现螺纹庄园和铁矿庄园、焦炭庄园的关系。螺纹庄园主要生产螺纹钢，生产螺纹钢的主要原材料主要是铁矿石和焦炭，这两种原材料则主要从铁矿庄园和焦炭庄园购得。一般情况下，生产1吨螺纹钢则需要1.6吨铁矿石和0.5吨焦炭，当然啦，还有其他的材料。于是乎，螺纹庄园生产1吨螺纹钢的利润是“螺纹钢价格-1.6×铁矿石价格-0.5×焦炭价格-其他成本(含人工)”，如果换算成庄票，那就是：利润=螺纹庄票价格-1.6×铁矿石庄票价格-0.5×焦炭庄票价格-其他成本(含人工)现在这个式子是根据实际生产情况推断出来的，只是为了说明套利的逻辑，也可以使用统计的方法，确定式子的系数，可能不相同，但关键的是“价差走势”。当利润过高的时候，螺纹庄园里面的作坊会拼命开工，买入更多的铁矿石和焦炭，这两种原材料的价格就会跟着上升，当产能过剩后螺纹的价格就会回调。因此，当利润过高的时候，套利动物们就会做空螺纹庄票，同时做多铁矿石和焦炭庄票。当利润过低的时候，螺纹庄园里面的作坊就不那么积极生产了，对原材料的需求就没有以前那么大了，原材料的价格也会跟着下跌，螺纹的产量就逐渐下降，供需失衡的情况下，螺纹的价格就又开始上涨了。因此，当利润过低的时候，套利动物就会做多螺纹庄票，同时做空铁矿石和焦炭庄票。那利润的过高和过低怎么界定呢？不同动物的看法不一样啊，就又轮到统计上场了~按照一般的套路流程，可以统计出前后P分位的阈值，例如5%，这就意味着，根据历史数据，超过这个阈值后，95%以上的历史概率，过高或过低的利润肯定会收敛，向均值回归。但为了考虑行情的自适应性，不应该设置固定阈值，于是乎可以使用自适应的布林带，当利润高于“利润N日均线+M倍标准差”时，那就是利润过高，做多螺纹做空铁矿焦炭；当利润低于“利润N日均线-M倍标准差”时，那就是利润过低，做空螺纹做多铁矿焦炭；无论哪种操作，利润回归正常值就平仓。N数值小敏感，数值大钝化；M数值小开仓次数多，数值大开仓次数少。套利动物们回测了一下它们的套利想法，效果不赖，虽然收益不高，胜在稳健。但它们并没有因此大喜过望，因为在这片草原上，除了黑天鹅，还有灰犀牛。参考资料：东方证券，2017.01，《衍生品系列研究之五：商品期货套利策略实证》",
        "url": "http://www.zhihu.com/api/v4/answers/2652922379",
        "comment_count": 1,
        "voteup_count": 71,
        "question_title": "http://www.zhihu.com/api/v4/questions/38359735",
        "question_url": "如何用例子浅显地解释什么是统计套利？"
    },
    "2651470152": {
        "created_time": 1661789436,
        "content": "各位大神都说了很多关于MACD的用法，我也腆着脸分享一个另类的用法『MACD高低形态法』，小白向回答，大神可忽略绕行~唠嗑开始~~~1.MACD到底是个啥个人感觉MACD指标就如同微笑那般，是世界最美最通用的语言，无论你是交易股票或债券，还是期货或期权，亦或是外汇和数字货币，MACD都是被人经常提及和使用的指标，素有“指标之王”的美誉。打开大部分行情软件的默认界面，上方一般都是价格K线主图，主图上可能叠加着各个周期的均线，紧接着下来就是成交量柱状图，下方就是MACD的副图了。MACD的英文全称是“MovingAverageConvergenceandDivergence”，中文名字叫“异同移动平均线”，由“一柱两线”构成，两线分别是DIF线和DEA线，一柱就是MACD柱。具体的计算方法如下，【12，26，9】是MACD的默认参数，可以根据自己的喜好调整。DIF=EMA(CLOSE,12)-EMA(CLOSE,26)DEA=EMA(DIF,9)MACD=(DIF-DEA)×2先来解释一下，具体计算式子表达的意思，大神可直接跳过这一Part。瞄一遍计算公式，发现“EMA”是高频词，初学量化的萌新可能会疑惑，这是啥玩意儿，其实它也是均线，它有一个近亲，大家肯定非常熟悉，那就是MA，大家经常说的20日均线，其实一般指的就是MA20。虽然大家都是均线，EMA和MA还是存在区别滴，前者是指数平均，后者是算术平均，算术平均就是对每一天的价格都是同等对待，指数平均就是区别对待每一天的价格，越近期的价格，考虑的权重就越高，所以EMA更能反映近期的价格走势，它们的具体计算方式可以上度娘Google一下。EMA(CLOSE,12)和EMA(CLOSE,26)就是表示对收盘价CLOSE分别计算12日和26日的指数平均，因此DIF线就是快EMA和慢EMA的差值线，DEA线就是对DIF线计算9日的指数平均。那么，MACD柱就是DIF线与DEA线的差值的2倍，当数值为正时，柱子颜色为红，当数值为负时，柱子颜色为绿（也有偏蓝色的）。看吧，MACD也没有啥神秘的，3个步骤就可以轻轻松松计算出来。2.MACD的两个常用方法MACD的底裤我们已经扒开了，计算的本质也坦露在我们面前，那我们该如何使用MACD呢？上周末我舍弃了搜寻岛国高清无码蓝光压缩的电影时间，统计发现目前大家最为常用的方法是金叉死叉法和背离法。（1）金叉死叉法从MACD的计算过程中可以看出，DEA是DIF的9日均线，你若是把DIF想象成收盘价的话，DEA就是收盘价的9日均线，虽然这种不属于5/20/60/120的均线长度，可能对强迫症不友好。自然而然地，当价格向上突破均线趋势时，可能会迎来上涨行情，反之，当价格向下突破均线趋势时，可能会迎来下跌行情。因此，金叉死叉法就是当DIF线与DEA线出现金叉的时候，开多头仓位，当DIF线与DEA线出现死叉的时候，开空头仓位。（2）背离法在MACD的运行过程中，MACD的形态可能会跟价格趋势运行节奏并不一定完全同步，就跟你遛狗的时候，狗狗并不一定总是走在你的身旁，有的时候它原地一趴，任你死拽也不肯往前走了。MACD与价格趋势之间出现的背离关系，很多时候会给我们提前发出非常有提示意义的转向信号，这里面最重要的两种背离就是顶背离和底背离。顶背离就是价格波峰创新高，而MACD指标对应的波峰并没有创新高，价格趋势向上，指标趋势向下，后市可能会出现下跌，出现如下图所示的背离。底背离就是价格波峰创新低，而MACD指标对应的波峰并没有创新低，价格趋势向下，指标趋势向上，后市可能会出现上涨，出现如下图所示的背离。3.偷瞄到大神的高低形态策略众所周知，我是很乐意为兄弟消化过剩量化策略的，这不，最近又偷瞄了老于的多宝格，学(shun)习(shou)到(qian)了(yang)一个MACD的另类用法，构建的量化策略效果还不赖。这个另类的方法没有现成的名称，我就暂且把它叫做『MACD高低形态法』吧，因为它的多空条件与MACD的高低形态有关，需要量化波峰波谷，类似于金叉死叉法和背离法的综合版本。这个策略思想是起源于对行情的观察，在很多时候，当MACD的波峰一峰比一峰高之后，出现金叉，后面会出现大波段上涨行情；反之，当MACD的波谷一谷比一谷低之后，出现死叉，后面会出现大幅跳水行情。于是乎，MACD高低形态策略的朴素交易逻辑就诞生了。入场条件：多头：MACD在0轴之上，当前出现金叉，且之前MACD波峰一个比一个高；空头：MACD在0轴之下，当前出现死叉，且之前MACD波谷一个比一个低。出场条件：SAR跟踪移动止盈止损。所以策略的具体实现跟把大象塞进冰箱是一样的，主要分三步走。Step1：对最近2个波峰或波谷进行量化识别，如下图当中的黄线是当前的波峰值，蓝线是上一个波峰值。Step2：实时判断MACD波峰波谷形态，出现金叉/死叉时在下一根K线开仓。Step3：开仓之后，以开仓Bar为起点进行SAR跟踪移动止盈止损。代码细节调整完成之后，把策略牵出来溜溜，回测绩效如下，盈亏比还不赖，盈亏比有2.1。其实这只是一个很简单的元策略，可以和其他更多的因子指标进行结合，还有很大的改进空间靠诸位大侠继续探究。虽然这篇回答写得很潦草，只有2200余字，却蕴含了我之前10余个小时探索的心血，如果对你有帮助的话，能否花1秒钟鼓励一下呢？谢谢你~~~",
        "url": "http://www.zhihu.com/api/v4/answers/2651470152",
        "comment_count": 0,
        "voteup_count": 71,
        "question_title": "http://www.zhihu.com/api/v4/questions/29595812",
        "question_url": "如何用macd指标对股票进行技术分析？"
    },
    "2639963871": {
        "created_time": 1661171033,
        "content": "拿之前的强势ETF轮动量化策略来举个栗子，说说如何利用阻力支撑相对强度RSRS模型，来对价格曲线的走势强弱进行科学衡量。阻力支撑相对强度（ResistanceSupportRelativeStrength）模型其实在股票/期货/期权/外汇/数字货币领域研究使用的人不少，看到这个名字的时候，可能有些小伙伴觉得很陌生，说它的简称『RSRS』，有的小伙伴就可能想起来了。它的设计思想诞生于光大证券的金工研报《基于阻力支撑相对强度的市场择时》，这个系列的研究报告有好几篇，清单目录放在文末参考资料那里了，具体的计算细节请参照原版研报，如果只想听个大概思想的话，暂且听我闲话唠一唠。闲聊开始～刚开始做交易的时候，总会听到一些\"专家\"预测点位，说大盘的阻力位在哪，说某只股票的支撑位在哪，各有各的理由，众说纷纭，但是预测的点位也是\"一千个人眼里有一千个哈姆莱特\"，不知道谁说的对。后来慢慢发现，无论是在开发股票还是期货的趋势策略，都不知不觉的使用了阻力和支撑的概念，比如说在做趋势策略之时，突破上轨做多，突破下轨做空，这个上下轨其实就类似于阻力线和支撑线，向上突破了阻力线后，广阔天地，大有可为，就开多仓，向下突破支撑线后，失去靠山，一泻千里，则开空仓或平仓。有的时候，阻力线和支撑线并不是分开的两条线，也可以是一条线，这条线既可以是阻力线，也可以是支撑线。就拿很多萌新入门常用的单均线策略来说，价格上穿20日均线做多，价格下穿20日均线做空，在这里，这根20日均线既是阻力线也是支撑线。价格在均线下方之时，均线便是阻力线，向上突破则做多，反之，价格在均线上方，此时均线则化身为支撑线，当价格失去支撑时则做空或平仓。那问题来了，怎么找到阻力位和支撑位呢？听网上那些“专家”的预测吗？当然不是啦~其实我们每天看K线图，“公认”的阻力和支撑就蕴含在里面，那就是K线的最高价和最低价，不要脸地说，这两个价格是经过万千交易者充分交易后的博弈结果，所有的成交价格都包含在了最高价和最低价形成的空间里，在最高价这条阻力线之下，在最低价这条支撑线之上。当然了，光用1天的最高价和最低价当然不行，可以用序列值。假设我们已经有了相对靠谱的阻力位和支撑位，那应该怎么使用呢？像上下轨突破策略那样使用吗？可以换一个思路，这就是RSRS的创新点所在，不直接使用阻力位和支撑位这种绝对阈值方式，改为使用相对强度的方式。就好比是，绝对阈值方式就是预测清华北大的学生能否将来年入百万千万，相对强度方式则是预测清华北大的学生收入将来是否超越双非院校的学生，这两者都不是绝对事件，但两者的预测难易程度一目了然，这个比方不是很恰当，是我能想到的最好的了，只是用来说明，让大伙儿更好地体会，狗头保命。现在说清楚了阻力位和支撑位的代理变量，和指标构建的核心思想，想在来唠唠RSRS的具体计算步骤和细节。首先，像刚才所说的，我们用最高价和最低价作为阻力位和支撑位的代理变量，因此第一步就要获取N日最高价和最低价的数值序列。然后，对最高价和最低价序列进行线性回归，每日滚动进行。最高价=α+β×最低价其中斜率值β就是最高价相对最低价位置变化的程度，也就是说，当最低价变化为1的时候，最高价变动多少。当斜率值β很大时，支撑强度大于阻力强度，从图形上看就是，最高价的变动速度比最低价的要快，阻力逐渐减小，上涨空间大。当斜率值β很小时，阻力强度大于支撑强度，从图形上看就是，最高价的变动速度比最低价的要慢，上涨逐渐减缓，势头受阻见顶。但是每个股票/品种/合约，它们的斜率都是不一样的，比如说1.0到底是大还是小，好比说成交额5亿对很多小票来说算大的了，但是对茅台来说可是不够看的，所以不能用绝对数值做考量。由于RSRS是用来择时的，因此可以用自己的当前值跟自己的历史值做比较，然后做一个Z-Score标准化。也就是说，取M个斜率值β组成一个序列，算出这个序列的均值和标准差，然后标准分就等于（当前值-均值）/标准差，得到了这个标准分，那就是RSRS的指标值了。RSRS指标值计算出来了，那就是如何使用这个指标呢？由于RSRS指标本身已经经过标准化处理，数据分布满足均值为0，标准差为1,，最简单最朴素的做法就是，当RSRS大于阈值S时做多，RSRS小于阈值-S时做空。因此，小结一下，RSRS的计算和使用流程跟把大象塞进冰箱里是一样的，如下：第一步：获取N日最高价和最低价数据序列，采用线性回归，计算出斜率β值。最高价=α+β×最低价第二步：取最近M日的斜率β值序列，采用Z-Score法计算出RSRS值。第三步：当RSRS大于阈值S时做多，RSRS小于阈值-S时做空。这就是一个基础RSRS策略的构建方法，其中参数N、M、S，在不同的领域数值大小不同，从目前看过的RSRS相关策略来说，N一般取值在10~60，M取值一般在240~720，S值一般取值在0.6~0.8，大伙儿根据自己的领域进行调试。这个强势EFF轮动量化策略的核心思想很朴素，就基本上是一个动量/趋势策略，在ETF备选池当中选择近期动量最强的ETF持有，采用RSRS来做一个开关策略（对大盘择时），只有在RSRS出现做多信号的时候（市场氛围良好），才会开仓买入/持有动量最强的ETF，绩效增强不少。最近几年策略表现不错，年化有91.6%，最大回撤有11.4%，效果看上去不赖，但用的是最原始的RSRS指标，其实光大金工后续还有对RSRS进行改进和优化，在原来的基础上加入了右偏修正和成交额加权钝化，还可以进行更深入的探究和优化，如果感觉本回答有帮助，能否花1秒钟鼓励一下呢？thx～适合PC端查看的横版：适合手机端的竖版：参考资料：光大金工，2017.5，《技术择时系列报告之一：基于阻力支撑相对强度（RSRS）的市场择时》光大金工，2017.6，《技术择时系列报告之二：阻力支撑相对强度（RSRS）择时及行业轮动》光大金工，2017.7，《技术择时系列报告之三：阻力支撑相对强度（RSRS）选股》光大金工，2018.3，《技术择时系列报告之五：基于RSRS策略改进的资产配置研究》光大金工，2019.11，《技术择时系列报告之六：RSRS择时：回顾与改进》更多相关资料请见：quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章320赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章69赞同·2评论文章quantkoala：『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略104赞同·4评论文章112赞同·4评论文章124赞同·4评论文章125赞同·4评论文章quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略55赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）122赞同·22评论文章quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）135赞同·7评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)366赞同·18评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01172赞同·26评论文章quantkoala：2个量化小技巧，双均线策略盈亏比从1.2提升到1.9（大神请绕行）152赞同·16评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2639963871",
        "comment_count": 4,
        "voteup_count": 77,
        "question_title": "http://www.zhihu.com/api/v4/questions/35999598",
        "question_url": "怎样形成一个量化趋势策略的思路？"
    },
    "2638422471": {
        "created_time": 1661094246,
        "content": "看了题主的问题，想讲一下利用基差贴水，做股指期货CTA的量化策略，好好唠一下背后的策略思想和逻辑，先po一下最终的成品策略回测绩效图。题主非常强调策略的逻辑，而本策略是利用贴水来进行股指期货交易的，那就先来说说为啥股指期货容易出现贴水。按道理来说，股指期货对标的是股票指数，理应点位跟股票指数一模一样，但是由于各种各样因素的影响，股指期货的价格跟指数的点位并不一致，它们之间的差距就叫做“基差”。IC的基差=IC股指期货的价格–中证500指数的点位假设当前IC2208的价格是6255.2，中证500指数的点位是6294.11，因此基差=6255.2-6294.11=-38.91，像IC2208这种基差为负数，就叫做『贴水』；如果基差为正数，就叫做『升水』。贴水来源很重要的一个原因就是机构的做空需求，因为很多市场中性策略或者Alpha策略的基金都是需要做空股指期货，他们需要支付“贴水”的成本给做多者提供流动性。中小盘股票相对大盘股更容易做出Alpha，对中小盘的做空需求更高，因此IC、IM合约的贴水要比上证50股指期货IH、沪深300股指期货IF高得多。其次，如果股指期货合约出现升水，那么交易者可以一边买入指数成分股构建出指数组合，同时另一边做空股指期货合约，这样就能无风险吃掉升水，这就叫“期现套利”，而且，由于持有股票市值，还可以进行股票打新，也可以增强收益。由于这种套利机会的存在，交易者就会拼命买入指数成分股，进而拉高指数点位，同时做空股指会压低股指合约价格，直至套利空间消失。同时由于天朝无法“丝滑”做空个股，就很难出现“做空指数成分股+做多股指期货”的期现套利反套，去“消除”贴水，因此股指期货是更加倾向于贴水状态。我们来看看中证500股指期货（以下简称“IC”）的近5年的基差图。从上图中可以看出，IC合约大部分时间都处于贴水状态（基差小于0），这是给股指期货做多者的“安全垫”，也可以说是“补偿”，详见上一篇文章中对贴水来源的解释。可以看到图中有很多长长尖尖向下的毛刺，这是处在一种深贴水状态，持续时间一般很短，然后迅速收敛到浅贴水状态，因为股指期货对标的是指数，在合约到期交割的时候是强制向指数收敛的，股指期货偏离得越远，向指数回归的力度就会越大。由深贴水向浅贴水的转化，就非常有利于IC做多者，往往是一个盈利的过程，我来举个例子说明吧。假设现在中证500指数是6000点，IC合约买入价是5900点，基差=5900-6000=-100，也就是贴水100点，处在一种比较深的贴水状态，后来贴水缩小，缩小到只有50点了，处于相对浅贴水状态，那咱的盈亏状况怎么样呢？可分三种情况进行讨论。Case1：中证500指数不涨不跌，仍然是6000点，那IC合约对应就是5950点，盈利了5950-5900=50点，一个点是对应200人民币，那就是盈利了1w人民币。Case2：中证500指数上涨了，假设涨到了6050点，那IC合约对应就是6000点，盈利了6000-5900=100点，盈利了2w。Case3：中证500指数下跌了，假设跌到了5950点，那IC合约对应就是5900点，与买入价一致，不考虑交易成本的话，没有盈利，也没有亏损。从这3种情况当中看出，在贴水缩窄50点的情况下，只要指数下跌不超过50点，咱就可以盈利。因此，这个股指期货策略的核心就是：在出现深贴水的情况下，买入股指期货，赌贴水缩小，回归到浅贴水状态，只要指数不出现超越贴水缩窄幅度的下跌，就可以盈利。目前天朝市场上除了IC之外，还有上证50股指期货IH、沪深300股指期货IF和中证100股指期货IM，咱可以不限于IC，可以从IH、IF、IC和IM当中进行选择，当然了，据观察，一般IC和IM的贴水比较大，另外两个比较小。跟把大象塞进冰箱里分3步一样，这个股指期货量化策略核心要点也是分3步走：Step1：获取IH、IF、IC和IM这4个股指期货的全部可交易合约，计算每个合约的贴水程度。Step2：在尾盘时，买入处于深贴水程度最大的合约，暂时用固定阈值衡量贴水之“深”。Step3：在次日早盘时，若持仓合约仍是深贴水程度最大，则继续持有；否则卖出合约，在尾盘时重复Step2买入。是骡子是马，牵出来溜溜，将这3步用Python实现，跑一遍回测，回测当中开启【防未来函数】功能，股指期货交易不使用杠杆，绩效如下所示。适合PC端阅读的横版：适合手机端阅读的竖版：从累积收益率曲线图上看，收益还不赖，关键是策略背后有一定的逻辑，而且由于要交易的是深贴水的股指期货合约，没达到贴水阈值就不交易，虽然错过了部分市场上涨阶段，同时也避开了市场更多的下跌。有的策略是黑匣子，有的策略背后有强逻辑，但有逻辑有内涵的策略，更容易让自己心里有底坚持下去，坚持正期望才能让大数定理显灵。回答潦潦草草写了2000余字，也是上一个阶段探索的小总结，如果对你有帮助，能否花1秒钟鼓励一下呢~~~谢谢你~~~",
        "url": "http://www.zhihu.com/api/v4/answers/2638422471",
        "comment_count": 5,
        "voteup_count": 64,
        "question_title": "http://www.zhihu.com/api/v4/questions/36960610",
        "question_url": "量化CTA策略背后的逻辑？"
    },
    "2630066300": {
        "created_time": 1660657129,
        "content": "是的，题主观察得很正确，股指期货吃贴水这种方法，能在单纯持有对应ETF基金的基础上，每年大概能增强7%+的收益（基于最近的测算）。其实『吃贴水』方法很早就有了，坊间还叫做『滚贴水』，更直白地，很多人把它叫做『滚IC』，因为之前IC的贴水比较大，最近IM合约上市了，贴水幅度更大，很多人又转移部分仓位去滚IM了。下面详细介绍一下吃贴水增强收益的方法，萌新向回答，大神可绕行~1.股指期货合约『IC』指的就是中证500股指期货合约，对标的就是中证500指数，在中国金融期货交易所上市交易。股指期货的价格就是对应指数的点位，比如现在的主力合约IC2208报价就是6255.2，“2208”表示交割月份是2022年的8月，具体是在8月的第三个周五交易，也就是2022年8月19日。同时上市的会有当月、下月及随后两个季月共4个合约，也就是除了IC2208这个当月合约之外，还有IC2209、IC2212和IC2303合约。其中一个点位代表200块人民币，比如你买入IC2208的价格是6255.2，卖出的价格是6355.2，那就是盈利了100点，一共赚了100x200=20000块，反之要是卖出的价格是6155.2，那就是亏损了100点，总共亏了2w软妹币。以上就是萌新需要了解关于“股指期货合约”的基础知识，更多细节可查看对应词条。词条链接：股指期货2.股指期货的升贴水按道理来说，股指期货对标的是股票指数，理应点位跟股票指数一模一样，但是由于大伙儿对市场的预期、对冲需求、股票分红等因素的影响，股指期货的价格跟指数的点位并不一致，它们之间的差距就叫做“基差”。IC的基差=IC股指期货的价格–中证500指数的点位当前IC2208的价格是6255.2，中证500指数的点位是6294.11，因此基差=6255.2-6294.11=-38.91。像IC2208这种基差为负数，就叫做『贴水』；如果基差为正数，就叫做『升水』。那为什么常见有『滚贴水』和『吃贴水』策略，没有『滚升水』和『吃升水』策略？因为在咱天朝近几年，大部分情况下股指期货都是呈现出贴水状态，画一个近5年的IC基差图看看，均值是-25.48，中位数是-21.61，妥妥的贴水带师。股指期货合约贴水是非常有利于合约多方的，当前IC2208的价格是6255.2，中证500指数的点位是6294.11，贴水了38.91点，假设以6255.2买入IC2208合约，从现在开始指数价格不涨不跌，一直保持6294.11，根据股指期货合约的强制收敛特性，IC2208合约的价格会在2022年8月19日交割日收敛到6294.11，我们就可以赚到38.91x200=7782元（不算交易手续费）。2022年7月29日距离合约交割日还有21天，也就是在21天内可以赚38.91点，粗略地估算一下，年化收益=(38.91/6255.2)x(365/21)x100%=10.8%假设指数不涨不跌，只是为了方便计算和说明，但根据股指期货合约的强制收敛特性，这个贴水我们是可以妥妥吃到的，因为一开始我们做多的合约就比指数“便宜”了38.91。就好比你邻居买股票是10元一股，咱是9元一股，咱有1块钱的“安全垫”，永远每股比邻居多赚1块钱，只不过这1块钱是相对邻居的，当股价跌到8块钱的时候，咱也会出现亏损，只不过少亏了1块钱。3.股指期货的增强收益功能根据之前的计算，假设每个当月合约都像IC2208一样，年化收益会相对中证500指数超额10.8%，也就是说都不用买股票做指数增强，光滚IC贴水就能每年妥妥跑赢中证500指数10.8%。那咱来看看其他合约的贴水年化收益率，除了IC2303合约之外，其他两个贴水年化都到了7%以上，妥妥能跑赢中证500指数7%。IC2209贴水年化=(71.11/6223.0)x(365/49)x100%=8.51%IC2212贴水年化=(166.31/6127.8)x(365/140)x100%=7.08%IC2303贴水年化=(257.31/6036.8)x(365/231)x100%=6.73%除了IC合约之外，2022年7月22日还上市了IM合约，也就是中证1000股指期货合约，对标的是中证1000指数，计算一下IM各合约的贴水年化收益率。IM2208贴水年化=(30.43/7087.0)x(365/21)x100%=7.46%IM2209贴水年化=(72.63/7044.8)x(365/49)x100%=7.68%IM2212贴水年化=(225.63/6891.8)x(365/140)x100%=8.54%IM2303贴水年化=(368.43/6749.0)x(365/231)x100%=8.62%各合约的贴水年化都在7%以上，而且远月的还最高，买远月的好处就是可以一次性锁定较为长期的贴水，不用像买当月一样每个月都换一次合约，现在买入的话可以到明年三月不操作都可以。IM刚上市的时候贴水年化还更高，四个合约都在10%之上，现在的还是已经衰减后的结果。4.一些补充说明（1）贴水的来源做多IC/IM合约吃贴水增强收益，相对中证500/中证1000指数每年超额7%，这其中的关键就是贴水要持续。贴水来源很重要的一个原因就是机构的做空需求，因为很多市场中性策略或者Alpha策略的基金都是需要做空股指期货，他们需要支付“贴水”的成本给做多者提供流动性。中小盘股票相对大盘股更容易做出Alpha，对中小盘的做空需求更高，因此IC、IM合约的贴水要比上证50股指期货IH、沪深300股指期货IF高得多。其次，如果股指期货合约出现升水，那么交易者可以一边买入指数成分股构建出指数组合，同时另一边做空股指期货合约，这样就能无风险吃掉升水，这就叫“期现套利”，而且，由于持有股票市值，还可以进行股票打新，也可以增强收益。由于这种套利机会的存在，交易者就会拼命买入指数成分股，进而拉高指数点位，同时做空股指会压低股指合约价格，直至套利空间消失。同时由于天朝无法“丝滑”做空个股，就很难出现“做空指数成分股+做多股指期货”的期现套利反套，去“消除”贴水，因此股指期货是更加倾向于贴水状态。（2）移仓换月由于IC、IM合约同时有4个合约上市，当前合约到期后要换到另外一个合约延续咱的吃贴水策略，那在什么时候换合约？换哪个合约？继续秉承着躺赢的思路回答这个问题。什么时候换合约？一般是交割日前两天至交割日上午这段时间换，因为股指期货合约的交割价格，并不完全是交割日那天指数的收盘价，而是交割日当天尾盘两小时的分钟收盘价的算术平均，这是为了防止有人在尾盘突击操控市场，所以不要进入交割日下午，提前一点即可，可以多调几个闹钟提醒。换哪个合约？如果实在是太懒不想动脑，就每个月买最近月份的股指期货合约，快交割的时候，就换到下一个月的就行了，一年操作12次。想吃更多的贴水，进阶一点的操作技巧就是，如果近期贴水非常大，买远月合约，锁定长期的大贴水；如果近期贴水非常小，就换到近月合约，同时等待机会。（3）股指期货的门槛交易股指期货是需要一定资金门槛的，首先开户是需要资产50W以上。PS：按照我国《公民举报间谍行为线索奖励办法》，公民举报间谍行为，对侦破间谍案件起到重要作用的，最多可获奖励50万元，举报嫌疑间谍或者间谍活动电话：12339。其次，一手股指期货也不便宜，虽然采用的是保证金交易制度，但一手市值也是上百万的，IC和IM合约要求的保证金率分别是14%和15%，这是交易所要求的，期货公司还可能在此基础上浮0~3%，这个需要去谈，就取上限值吧。买入一手IC需要6255.2x200x17%≈21.3w买入一手IM需要7087.0x200x18%≈25.5w是不是很不“亲民”，所以个人感觉这个『滚贴水』策略除了适合机构之外，更适合的是有一定资金量又喜欢指数化投资的小伙伴，比如有个150W，刚开始的时候不要上杠杆，放个30~50W当保证金，另外的钱买成货币基金备用，同时收点儿利息增强收益，这样配置，绝对比直接买中证500ETF或中证1000ETF的预期收益高。",
        "url": "http://www.zhihu.com/api/v4/answers/2630066300",
        "comment_count": 10,
        "voteup_count": 167,
        "question_title": "http://www.zhihu.com/api/v4/questions/427078900",
        "question_url": "谁能具体介绍一下股指期货的吃贴水增强收益的玩法？"
    },
    "2620085992": {
        "created_time": 1660135377,
        "content": "我想用最近的血泪经历来诠释，“做出一套回测赚钱的系统很容易，实盘赚钱的系统很难”这句话，事情的起因是一个年化收益【577倍】的量化策略~对的，你没有看错，不是累计收益，是年化收益，收益不是577%，而是577倍，也就是57700%。这个量化策略是之前某位群友兄dei，在一个艳阳高照的午后发给我的，说这个策略收益逆天，还拍胸脯保证这个策略没有未来函数。我心里也纳闷，真的假的啊，将信将疑先打开源码䁖一䁖，快速地看一下。在初始化函数前5行代码里面就找到了【set_option(\"avoid_future_data\",True)】，这个是回测的全局设置函数，它开启了【防未来函数】功能，就是系统会自动限定你看不到当前时刻之后的数据，除非你调用的不是系统的数据获取函数。看到这里觉得有戏啊，连这个防止未来函数的功能都开启了。接着跳到关键选股函数，截止日期用的是【context.previous_date】，用的是上一个交易日（含）之前的数据，也是正常的防未来函数的取数方式，更加坚定了自己的看法。先跑个回测看看吧，分钟级的回测比较慢，先看一个近三年的吧，神奇的事情发生了，我一开始只知道收益率逆天，想不到可以逆天到页面都无法正常显示，这收益率是高到模糊啊。面对这种情况，我也是大姑娘上花轿——头一回，只好把回测时间缩短，再来跑一遍，终于可以正常显示了。不会吧，年化收益57734.53%，夏普率748.27，什么西蒙斯、索罗斯、巴菲特在这个收益率面前都是渣渣。回测这么逆天，以我多年长期踩坑的经验来看，这种“妖策略”必定有古怪，没有未来函数这种阎王，也可能有难缠的小鬼。最直观地，先从最近持仓开始看起。不看不知道，一看果然有猫腻，最近还买进了山**桥（00**55.SH）。我的天爷啊，这种一字板涨停的股票都买得进，那还有什么事情做不出来，还是静下心来仔细看策略源码。细读之下发现，这TM是一个打板策略，策略核心要点如下：（1）在每天开盘前选择上一个交易日涨停，并且上一个交易日创了近3个月的收盘价新高的股票作为选股池，但剔除创业板、科创板和ST股。（2）按分钟回测，在大盘行情向好时，买入股票池中涨幅超过9.5%的股票，最多持有N支股票，买满N支不再买入。（3）在收盘前的固定时间点，卖出不再涨停的可卖出股票（今天之前买入的），如果涨停，则继续持有。关键是第二条中【买入股票池中涨幅超过9.5%的股票】，这是说股票涨幅超过9.5%就买入，但没有说涨停了就不买了，而且回测时都能成交，这到底是为什么呢？最后终于找到了元凶，那就是在全局设置时，将【match_by_signal】功能设置成了True，也就是强制撮合，发出委托时将不对委托价格和成交数量进行任何检查而直接成交。这就解释了为啥能买入一字板涨停的股票，因为你敢挂单，系统就敢给你成交，让你吃到后面连涨的收益，一天一个涨停板，咱们就可买地球（在回测中或梦里）。但在实盘当中，这样的股票不是完全没有机会吃进，但能吃进的基本上都是涨停后封涨停不稳的，后续上涨就乏力了，而那些死死一字板封死涨停的股票，能吃进的概率是极小滴。赶忙把【强制撮合】功能关闭后，这个打板策略就出现亏损了，回测绩效如下。看到了吧，策略源码就差了这么一行，回测绩效真是云泥之别，之前可以丝滑买入涨停股的策略，现在回测时都会被系统提示【WARNING-已经涨停，市价买单取消】，年化收益就从原来的狂赚570倍变成现在亏损57%。解除了心中的困惑，世界终于宁静了，回测虽然没有未来函数，但是实盘铁定无法复现，我还是哪凉快哪呆着去吧，回测易，实盘难呐~~~虽然这篇短短的回答只有1500余字，却是我之前花费了整整11个小时探索的总结，如果对你有帮助，能否花1秒钟鼓励一下呢~谢谢你~~~",
        "url": "http://www.zhihu.com/api/v4/answers/2620085992",
        "comment_count": 38,
        "voteup_count": 496,
        "question_title": "http://www.zhihu.com/api/v4/questions/26024883",
        "question_url": "量化交易中所谓「回测易，实盘难」的问题怎么解释？"
    },
    "2618381762": {
        "created_time": 1660053630,
        "content": "今天唠一个基于多周期RSI择时的绩优小市值策略，坊间又名『鱼身策略』，举例说明一下如何将选股和择时有机地结合起来，绩优小盘股增加收益的弹性，多周期RSI择时过滤掉乏味的交易时间，让交易体验更好、投资收益更高。先上图感受一下只选股和选股择时有机结合的差别，从两幅回测绩效图中看出，选股择时的策略不仅年化收益和夏普率更高，而且过滤掉了很多震荡乏味的时间，从而更高效投资交易，下面具体来聊一聊策略细节。只选股的回测绩效：选股择时结合的回测绩效：正文开始~~~在之前的一篇文章《在天朝A股，抄底和摸顶，哪个更加困难？》中有过统计，整体市场有超过一大半的时间处在价格区间的中下游，当时的沪深300指数价格分布直方图如下，其中分组序号越大，代表的价格也就越高，柱子上的数值，表示落在该组价格区间的天数在总天数的占比，想了解具体统计细节的请看原文。quantkoala：在天朝A股，抄底和摸顶，哪个更加困难？33赞同·6评论文章市场处在中低位价格区间的时间很长，便宜筹码很多，也很容易捡到，捡到后不知道什么时候能涨起来，如果能一直死死捂住还好一点，就是怕戒不了频繁操作，总体低位的时间偏多，频繁交易可落不着好。现代人特别是血气方刚的小伙子，挺讨厌说教的，说不定就会站起来盯着我反问道：“像你这样说，买完就只能删行情软件捂着啰？”。我倒觉得凡事都没有这么绝对，投资交易各有各的打法，哪个流派都有赚钱的，重要的是找到适合自己的。今儿个要说的这个量化交易策略『鱼身策略』，懒人们可算是来着了，因为它的策略核心思想比较“佛系”，不是所有时间都处于可交易的状态，在那些死气沉沉的时间里，可以去干别的事情，比如说躺平放松。我国著名的A股夜duang大V曾多次表示：炒股最大的成本就是时间。他本意要表达的意思是，麻利儿的涨，麻利儿的跌都可以，就是不喜欢整天震荡阴跌、死气沉沉的行情，钝刀杀人的感觉别提多难受了。一般股票价格的状态分为上涨、下跌和震荡，如果震荡发生在价格区间低位，则称为“底部平台”，震荡发生在价格区间高位，则称为“顶部平台”。所以呢，一个典型的价格形成路径就是：底部平台-&gt;上涨段-&gt;顶部平台-&gt;下跌段，然后循环往复。但可能有些股价K线形成的顶底部持续时间比较短，那就可能形成“尖顶”或“尖底”，而不是一段平台。底部平台就如同“鱼尾”，顶部平台就如同“鱼头”，从头吃到尾那是“妄念”，鱼身策略就是想越过死气沉沉、没滋没味的平台期，捕获一段肥美的鱼身（上涨段）。鱼身策略的核心就是：选择绩优股票在突破底部平台或上升段时买入，在顶部平台或下跌段开始时卖出。关于如何选择绩优股，可以参照之前的3篇文章，因为是懒人专属，目标就是尽可能筛选出不容易暴雷、让人省心的正经股票。小市值因子已然凉凉，绩优小市值依旧狂浪​mp.weixin.qq.com/s/S6BbXFhdpmz9XspuEs3vsQ跟着“基金一哥”张坤量化选股的快乐，你想象不到！（策略年化收益39.9%）​mp.weixin.qq.com/s/D28b2h9rUcuVH02tB5mpTg知乎-安全中心想要吃到上升段，关键是对上升趋势的识别，也就是量化择时，本次用的核心指标是相对强弱指标RSI（RelativeStrengthIndex），计算方式如下。RSI=N日内上涨幅度累计/N日内上涨及下跌幅度累计*100从计算方式中看出，它用上涨幅度代表多方力量，下跌幅度代表空方力量，最终计算多方力量在总体力量当中的百分比，RSI的数值在0~100之间，超过50表示多方力量占优，低于50表示空方力量占优，除了能识别趋势以外，还能识别超买超卖，更多具体用法都可以在网上搜到，在此不再瞎BB了。识别上升段可不是计算出RSI大于50就完事儿了，而是要分为两层，一层是针对大盘的识别，另一层是针对个股的识别，而且识别是分多周期识别，假设分为长、中、短这3个周期。当大盘的长周期RSI数值小于阈值时，停止一切交易；如果大盘长周期RSI数值高于阈值，开启交易开关，计算所有周期的RSI值，如果3个周期中每当有一个周期RSI值处于阈值范围，则多买一份，有多少个周期满足就买多少份；当不再满足条件时就卖出。看了这个择时和仓位控制，就知道鱼身策略在实际当中会过滤掉不少的交易时间，上面已经大概介绍完了鱼身策略大体的设计思想，是该牵出来遛遛了。先来贴一个纯粹选绩优股死死捂住不择时的回测绩效。适合PC端观看的横版：适合手机端观看的竖版：再来贴一个想捕捉上升段的鱼身策略的回测绩效。适合PC端观看的横版：适合手机端观看的竖版：从两张图的对比可以看出，除了鱼身策略最终收益要比死捂策略要高之外，关键是鱼身策略有一半时间都在躺平，并且夏普率和盈亏比要更高，最大回撤要更小，投资体验会更好，最近一直空仓，也躲过了今年这场大跌。顺带提一句，投资不同领域/行业/概念，可以切换不同的大盘表征指数，大盘不是死的，要选择适合自己的。选股择时一相逢，便胜却人间无数~~~更多相关资料请见：quantkoala：Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%，附源码）quantkoala：跟着“基金一哥”张坤量化选股的快乐，你想象不到！策略年化收益39.9%quantkoala：这个量价背离的因子，最近2年又开始支棱起来了quantkoala：跟踪“聪明钱”，巧用北向资金进行大盘择时（策略Alpha:14.5%，附源码）quantkoala：中国版“漂亮50”量化策略，来我家做客了（年化20%+）quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章316赞同·12评论文章317赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章68赞同·2评论文章68赞同·2评论文章quantkoala：『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略104赞同·4评论文章112赞同·4评论文章124赞同·4评论文章124赞同·4评论文章quantkoala：量化本无妙手，背后都是坚实的本手：波动率不对称性RSJ量化策略quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）89赞同·10评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)",
        "url": "http://www.zhihu.com/api/v4/answers/2618381762",
        "comment_count": 0,
        "voteup_count": 39,
        "question_title": "http://www.zhihu.com/api/v4/questions/36035473",
        "question_url": "如何将选股和择时策略有机地结合起来？"
    },
    "2618258330": {
        "created_time": 1660048516,
        "content": "先来说说MACD的默认参数为什么设置成（12，26，9），后边再唠唠MACD参数该如何合理设置~我刚开始接触到MACD指标时，也是不自觉地在使用这组默认参数，也从来没有深究过为啥是这3个“不零不整”的数值，最近得空，好好来探寻一番，把知乎上网上的相关回答都看了一个遍。“遍览”这些相关资料，也没有找到MACD之父GeraldAppel（杰拉德·阿佩尔）的详细生平资料和MACD研发的心路历程，但看到了一些有趣的说法，我姑且说之，您姑且听之，咱一笑了之。MACD的具体计算方式和使用方法就不再赘述了，只说说参数的定义，“12”（SHORT）是短周期均线的计算长度，“26”（LONG）是长周期均线的计算长度，“9”（MID）是对长短均线离差值计算平均时的长度。在坊间，大伙儿对“12”和“26”的来历说法都较为一致。相传，在Gerald发明MACD的上世纪70年代，漂亮国交易市场仍在“996”，采用的是单休制度，一周有6个交易日，于是“12”对应的是两周。每个月有4周，一周休息一天，那么30-4=26，“26”对应的是一个月。但是查了道琼斯工业指数和麦当劳的历史日K图，发现一周并没有6根Bar，说明至少在漂亮国股票交易市场并没有“996”，觉得更可能是Gerald关注的交易品种一周是交易6天，类似于期货从周一上午交易到周六凌晨。MACD默认参数中的“12”和“26”都好解释，但是关于“9”的来历就众说纷纭了，目前主要有3种说法。第一种说法，“9”纯粹是作者喜欢的观察周期，萝卜白菜，各有所爱，没有9的话，还可以是8或者10，到时候我们一样会疑惑。第二种说法，“9”对应的是一周半，上文说了，那时候是一周交易6天，那“9”正好是一周半。第三种说法，也是跟一周交易6天有关，不过这种说法显得更高大上一些，“9”是每周交易日数目乘以概率密度系数后的结果，其中1/sqrt(2π)是标准正态分布的概率密度函数的系数。现在终于对MACD的默认参数（12，26，9）是怎么来的，终于有些眉目了，我们要是对MACD的参数进行调整就有底了。我国目前一周是交易5天，所以常用的均线默认设置周期都是5的倍数，例如5、20、60、120分别对应1周、1个月、3个月、半年，因此，在MACD中，短均线和长均线的周期可以分别设置为10和20（依旧是对应2周和1个月）。第3个参数的确定，关键是在于你觉得哪一种说法更合理。如果是第一种，那就可以随心所欲了，适合自己的观察周期就好。如果是第二种，那一周半就是对应1.5x5=7.5，MACD的默认参数可以设置为（10，20，7）或者（12，26，8）。如果是第三种，那MACD的默认参数可以设置为（10，20，7），这也是我经常使用的参数设置。补充说明：如果是其他交易领域，比如说大饼圈，一周则是交易7天，MACD的默认参数要基于7天计算，例如（14，30，10）。如果觉得MACD反应不够灵敏，可以将参数等比例缩小，例如（7，15，5）。虽然这篇短短的回答只有1k多字，却是我之前看了10w+字资料的总结，如果对你有帮助，能否花1秒钟鼓励一下呢~~谢谢你~~~",
        "url": "http://www.zhihu.com/api/v4/answers/2618258330",
        "comment_count": 31,
        "voteup_count": 479,
        "question_title": "http://www.zhihu.com/api/v4/questions/35113621",
        "question_url": "MACD 的参数，怎么设置比较合理？"
    },
    "2605936872": {
        "created_time": 1659446434,
        "content": "大神们都对考点总结得非常到位，重点也划得差不多了，我给有需要的小伙伴贴几份真题练练手吧~~~要是大伙儿觉得有帮助的话，我再去翻翻箱底看还有木有补充。量化研究笔试真题1量化研究笔试真题卷2量化研究笔试真题卷3量化研究笔试真题卷4",
        "url": "http://www.zhihu.com/api/v4/answers/2605936872",
        "comment_count": 4,
        "voteup_count": 54,
        "question_title": "http://www.zhihu.com/api/v4/questions/34797433",
        "question_url": "国内券商私募量化研究笔试题目有哪些内容？会考哪些知识点？"
    },
    "2604190626": {
        "created_time": 1659364001,
        "content": "对于量化萌新而言，量化投资模型不是天赋异禀凭空开发出来的，很多都是“站在巨人的肩膀上”，对传统的指标/策略/交易系统进行改进，形成自己的策略。大道理咱也是听过太多了，咱实打实举个例子，利用经典逆势策略改造成自己的趋势策略，具体开发流程和细节听我慢慢道来。大伙儿平最常见到的震荡/逆势策略或指标就是CDP、PivotPoint、BollingerBand、RSI这些吧（当然还有其他的，欢迎评论区补充），今儿个咱就来唠一唠CDP逆势交易系统。CDP逆势交易系统总体的构建思路是，利用前一天的行情波动计算出5个数值，然后利用这五个数值对当天和未来的行情进行一个划分，需要利用到的数据也很简单，只需要用到前一天的最高价、最低价和收盘价。具体的计算流程如下：中值CDP=(前一日最高价+前一日最低价+2×前一日收盘价)/4btw，CDP也存在着另一种计算方式，会考虑到开盘价最高值AH=CDP+(前一日最高价－前一日最低价)近高值NH=2×CDP－前一日最低价近低值NL=2×CDP－前一日最高价最低值AL=CDP－(前一日最高价－前一日最低价)计算出AH、NH、CDP、NL、AL这5个数值之后，一般常用的交易原则就是，判断今日开盘价在CDP这5个数值的哪一个位置上。在行情波动并不大的时候，开盘价一般在近高值NH和近低值NL之间，可以在近低值NL附近看多/买入，在近高值NH附近看空/卖出。在行情波动东较大的时候，开盘价可能跳空高开在最高值AH之上，或者跳空低开在最低值AL之下，一般意味着可能要“搞事情”，有大行情发生。于是呢，交易者可以开启“追涨杀跌”模式，在最高值AH附近看多/买入，在最低值AL附件看空/卖出。看了上面的解释，是不是发现CDP逆势交易系统跟R-Break策略的思路很相似啊~~~下面放一张R-Breaker策略的信号图。乍一看呐，感觉如果只用来捕捉趋势的话，可能是一个不错的日内区间突破策略，用来捕捉小周期波段。由于突破最高值AH/最低值AL只能作为开仓信号，为了使策略更加完善，需要加入其他的策略模块。在开仓信号部分，为了过滤部分假突破信号，根据之前的文章《一个量化小技巧，突破策略盈亏比从1.1提高到1.7（大神勿进）》，使用N倍ATR进行过滤。同时，根据文章《八年实盘100万到1000万的跨周期突破策略源码Q01》的思路，利用大周期对行情的大方向做一个过滤，之后在小周期上完成开平仓。quantkoala：一个量化小技巧，突破策略盈亏比从1.1提高到1.7（大神勿进）275赞同·16评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01166赞同·26评论文章在平仓部分，使用“三级跟踪止盈/止损”模块，止盈/止损的思路就是依据目前时刻不同的盈亏幅度，跟踪止盈/止损的通道线分别采用不同的加速系数（类似于SAR指标中的加速系数）。在开仓后没有出现目标盈利时，使用较高的加速系数，随着时间推移迅速提升止盈/止损的速度；随着盈利的提升（还没有出场），则会慢慢降低止盈/止损的速度，将出场灵敏度钝化，以便于尽可能吃到波段。使用固定统一参数，在对多个品种进行测试之后，发现对螺纹RB、橡胶RU和PTA效果不错，回测盈亏曲线如下。螺纹RB盈亏曲线：橡胶RU盈亏曲线：PTA盈亏曲线：本策略使用的策略主体部分程序源码如下，由于本次只使用了CDP交易系统当中的趋势部分，小伙伴还可以去尝试一下完整的交易系统，或加入其他的策略模块和交易领域（股票、币等）等进行优化改进。更多相关资料请见：quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章306赞同·12评论文章315赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章66赞同·2评论文章quantkoala：『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略104赞同·4评论文章112赞同·4评论文章123赞同·4评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)294赞同·13评论文章299赞同·13评论文章311赞同·13评论文章314赞同·13评论文章333赞同·14评论文章333赞同·14评论文章333赞同·14评论文章334赞同·14评论文章336赞同·15评论文章336赞同·15评论文章336赞同·15评论文章340赞同·15评论文章343赞同·15评论文章343赞同·15评论文章345赞同·14评论文章346赞同·14评论文章350赞同·14评论文章353赞同·18评论文章353赞同·18评论文章357赞同·18评论文章364赞同·18评论文章quantkoala：一个号称“买在低点，卖在高点”的震荡策略Q02（从60万到650万）114赞同·4评论文章115赞同·4评论文章116赞同·4评论文章116赞同·4评论文章117赞同·4评论文章117赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章122赞同·4评论文章122赞同·4评论文章122赞同·4评论文章124赞同·4评论文章125赞同·4评论文章127赞同·4评论文章134赞同·4评论文章134赞同·4评论文章138赞同·4评论文章143赞同·4评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01143赞同·19评论文章143赞同·19评论文章143赞同·19评论文章143赞同·19评论文章144赞同·19评论文章145赞同·19评论文章147赞同·19评论文章147赞同·19评论文章147赞同·19评论文章147赞同·19评论文章148赞同·19评论文章148赞同·19评论文章148赞同·19评论文章149赞同·19评论文章151赞同·19评论文章154赞同·19评论文章154赞同·19评论文章154赞同·19评论文章155赞同·19评论文章158赞同·23评论文章158赞同·23评论文章164赞同·23评论文章166赞同·26评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）111赞同·19评论文章112赞同·20评论文章115赞同·20评论文章115赞同·20评论文章115赞同·20评论文章116赞同·22评论文章116赞同·22评论文章118赞同·22评论文章122赞同·22评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）69赞同·8评论文章70赞同·8评论文章70赞同·8评论文章70赞同·8评论文章77赞同·10评论文章79赞同·10评论文章86赞同·10评论文章88赞同·10评论文章quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略49赞同·6评论文章50赞同·6评论文章52赞同·10评论文章56赞同·10评论文章quantkoala：动物庄园：商品期货跨品种套利策略16赞同·0评论文章17赞同·0评论文章17赞同·0评论文章19赞同·0评论文章19赞同·0评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2604190626",
        "comment_count": 0,
        "voteup_count": 43,
        "question_title": "http://www.zhihu.com/api/v4/questions/21614106",
        "question_url": "如何开发量化投资模型？"
    },
    "2594096299": {
        "created_time": 1658841422,
        "content": "大神们都说了很多改进优化的思路，想着题主选择了DualThrust通道作为入场信号了，我就补充说一个三级跟踪的止盈止损出场方法吧。俗话说“会买的是徒弟，会卖的才是师傅”，卖点要是选得好，化腐朽为神奇。关于策略出场的问题，以前也经常被问到。『三级跟踪的止盈止损出场』是自己比较喜欢的出场方式之一，这个出场方式不是我原创的，我也是从Quant大神圈子里“踅摸”来的，发现效果不错，时常会在策略当中使用。之前也在《将CDP逆势交易系统改成趋势策略后会怎么样？》文章中有提及，但没有详细说明，这次就可以好好唠一唠。quantkoala：将CDP逆势交易系统改成趋势策略后会怎么样？36赞同·0评论文章无论在期货还是股票领域，有很多右侧交易者，喜欢开发趋势/动量策略，但经常会遇到这样一种情况，策略在一大波趋势行情当中，只吃到了一个很小的次级波段，早早地就被洗出场了，眼睁睁看着踏空，心里十分难受。最初自己面对这样的情况，解决办法是使用“吊顶”或SAR的出场方式，但经过观察发现，很多时候出场时机还是早了一些。后来就听说了这种三级跟踪止盈止损的出场的方法，细细一想，感觉还有些道理。总体的出场思路是，随着盈利水平的不同，跟踪的止盈止损线的跟进速度不一样，依靠不同的加速系数实现。在初始时，使用较大的加速系数，“遇见风险撒腿就跑”，到了盈利幅度比较大时，逐渐将止盈出场线“钝化”，能承受比较大的波动，不会被轻易洗出场，这也符合“截断亏损，让利润奔跑”。现在具体说说跟踪止盈止损的细节：（1）初入场，刚开仓时，便在第一根Bar上设置一个初始的止损价，例如，初始的止盈/止损价位=第一根Bar最低价-M倍ATR说明：最低价也可以使用一段区间最低的最低价。“止盈/止损价位”其实是与Bar数目等长的一条线，不要听了有止盈又有止损以为是两条线哦，因为一开始设置的其实是止损价，后面有了盈利之后，再设置的其实是止盈价，但为了统一起见，统一称为“止盈/止损价”，下同。（2）若当前止盈/止损价位低于开仓价，此时为一级止盈/止损止盈/止损价位=前一根Bar止盈/止损价位+加速系数*价差范围说明：加速系数自行设定，例如0.8。价差范围类似ATR，只是一个跟随行情变动的值，例如可以简单设为：价差范围=收盘价-上一根Bar收盘价（3）若当前止盈/止损价位高于开仓价，但盈利幅度小于N倍ATR，此时为二级止盈/止损止盈/止损价位=前一根Bar止盈/止损价位+(加速系数-衰减常数1)*价差范围说明：“衰减常数1”为小于加速系数的值，例如0.3（4）若当前盈利幅度大于N倍ATR，此时为三级止盈/止损止盈/止损价位=前一根Bar止盈/止损价位+(加速系数-衰减常数2)*价差范围说明：“衰减尝试2”为小于加速系数但大于“衰减常数1”的值，例如0.5上文写的是三级跟踪止盈止损出场方法的总体框架，但是每次使用的细节是不一样的，甚至可以“打破”框架，可以自我进行调整，人总不能让niao憋死嘛。已经说了三级跟踪止盈止损出场方法，是骡子是马，得牵出来溜溜才行了，那咱先选一个经典的策略先测试一下，然后再把出场模块加入进去看看效果。好了，秉承着“公平公正就是不公开”的原则，就选择凯特纳通道策略，作为本次测试的“小白鼠”。凯特纳通道类似于大家常见的布林带，主要由中轨和上下轨三条线组成，中轨为一条简单的均线，与布林带不同的是，向上N倍ATR为上轨，而不是使用N倍标准差，向下N倍ATR为下轨。经典的用法是，向上突破上轨时开多，向下突破下轨时开空，反向回归到中轨时平仓。以下是采用反向回到中轨出场方式的盈亏曲线，可见曲线蔫头呆脑，一塌糊涂。以下是采用三级跟踪止盈止损出场方式的盈亏曲线，可见终于可以抬起头来，重振雄风，效果谁用谁知道。本次使用的策略主体代码：三级跟踪止盈止损出场方式代码：更多相关内容请见：quantkoala：一个量化小技巧，突破策略盈亏比从1.1提高到1.7（大神勿进）quantkoala：2个量化小技巧，双均线策略盈亏比从1.2提升到1.9（大神请绕行）",
        "url": "http://www.zhihu.com/api/v4/answers/2594096299",
        "comment_count": 4,
        "voteup_count": 66,
        "question_title": "http://www.zhihu.com/api/v4/questions/64360913",
        "question_url": "应该从哪些角度去考虑改进优化类似 Dual Thrust 这种通道突破类型的策略？"
    },
    "2594077002": {
        "created_time": 1658840557,
        "content": "其实这种情况很常见，主要是由于不同资金流算法当中，“流入”定义方式的不同引起的，今天有时间可以好好唠唠~首先要定义什么是“流入”，单看一笔交易，股票成交有买卖双方，买入金额等于卖出金额，买家给股市投入了1w，卖家从股市拿走了1w，这笔交易是属于“流入”呢，还是“流出”呢？目前一般有2种方式定义“流入”和“流出”：（1）按K线涨跌结果来确定。（2）根据Level2数据标志位判断。第一种方式，按K线涨跌结果来确定。例如将每天的交易时间按分钟切分成240根K线，如果某1分钟K线股价是上涨的，则这根K线里的全部成交金额则记为“流入”；如果某1分钟K线股票是下跌的，则这根K线的全部成交金额记为“流出”；如果是不涨不跌，则记“流入为0”。因为这种方式是按照K线结果确定的，所以大部分情况都是资金流入情况跟股价的趋势是一致的，比较难出现“资金不断的正流入，股价却不上涨“的情况。这种情况难出现，但不代表不会出现，假设第N根K线放量成交100w，收盘价仅比开盘价高一分钱，而且有长长的上影线和下影线，则这一分钟记为”流入100w“，第N+1分钟缩量成交10w，收盘价比开盘价低3分钱，则这一分钟记为”流出10w“，如果统计这两分钟的资金情况则是“净流入90w”，但股价却下跌了2分钱，假设其余时间的分钟线的情况与这两分钟的情况类似，则会出现“资金不断的正流入，股价却不上涨”的情况。这种股票资金流入流出的判断方式一般流行于股市早期，但特别是在2015年之后，大部分行情软件都摒弃了这种“粗糙”的统计方式，转而使用更为“精细”的方式。第二种方式，根据股票Level2行情数据中的买卖标志位进行判断。交易所为各大行情软件商提供Level2数据，主要包含了逐笔成交和逐笔委托数据，逐笔成交数据当中包含了个股的每一笔成交数据，包含了买卖双方的成交情况，其中会有买卖标志位，B表示“流入”，S表示“流出”。那这个交易所是怎么设定这笔交易的流入流出方向的呢？我举个例子来说明。假设现在股票A的现价是10元，买一价格是9.9，卖一价格是10.1，各自都是10000股在排队等待成交，这些等待成交的委托单都是“被动的”，自己只能等在那里，自己是无法成交的。有一个帅小伙觉得这个股票价格估值合理，想马上成交买入，看了目前的挂单情况后，就挂了一个限价单“以10.1的卖一价买入1000股”，这个限价单会马上成交，交易所就会记下这笔交易并发送出去，买卖标志位则会设为“B”（流入）。其实这个“流入”体现的是“主动性”，看哪一方更为主动成交，虽然一笔交易有买卖双方，但总有一方是主动方，哪方主动标志位就记为哪一方，就跟谈恋爱一样，总有一方追另一方，极少有双方同时表白的，谈情说爱总有一方说第一句话吧。因此，买方主动跟卖方成交，那就是“流入(B)”，卖方主动跟买方成交，那就是“流出(S)”。假设这种情况，目前现价是10元，先是帅小伙主动以10.1价格跟卖一价成交了1000股，此时记为“流入10100元”，现价上升至10.1元，而后另外一个美少女主动以9.9价格跟买一价成交了100股，此时记为“流出990元，现价回落至9.9元”。回顾这个过程，资金净流入了10100-990=9110元，但是股价却从10元下跌到了9.9元，出现了“资金流入，股价下跌”的情况，虽然活跃的股票一天有几十万笔交易，不是这两笔交易就概括了的，大家主要体会一下这个过程。总的来说，其实不同行情软件的流入流出定义不一样，超大大中小单的资金情况也不一样，行情软件A的资金是净流入的，而行情软件B的资金是净流出的，它们没有好坏之分，只是看它们的计算细节是否跟自己的交易规则相符。更多相关内容请见：quantkoala：在天朝A股，抄底和摸顶，哪个更加困难？quantkoala：MACD的默认参数为什么是12、26、9，现如今该如何设置？",
        "url": "http://www.zhihu.com/api/v4/answers/2594077002",
        "comment_count": 3,
        "voteup_count": 76,
        "question_title": "http://www.zhihu.com/api/v4/questions/32176621",
        "question_url": "一只股票明明有大量资金流入，为什么股价却下跌呢？"
    },
    "2592378551": {
        "created_time": 1658754802,
        "content": "题主这种情况肯定不算罕见，哪个做量化的还没遇到过瓶颈呢？老话说得好，人生谁没有几个坎儿~~~就拿咱量化祖师爷西蒙斯老爷子来说，1978年，人到中年的西蒙斯带着一帮教授辞职创业，成立了“计量⾦融学公司”（也就是“⽂艺复兴科技公司”的前身），10年后才算做得有起色站稳了脚跟，从1989年起才开始了大奖章基金封神的业绩。西老爷子这样的一个大神，也是花了10年时间才做出了点儿成绩，咱这些凡人就不要太过焦虑了。不过西老爷子那个时候是有时代的限制的，无论是数据库还是量化系统都是全部从零开始搭建，非常耗时费力。就如同在20年前让你从零开始搭建个人网站一样，还真不是一般人能制作和维护的，而现在，只要你愿意，从购买域名、租服务器、上传框架源码、网站配置等全流程搞下来，都不用半个小时，这是因为已经有很多套件是成熟的了，直接拿来就可以使用，你只需要去了解这些信息和套路，这样一想，我们处在一个美好的时代。今儿个当然不是纯粹给大伙儿灌灌鸡汤、做做心理按摩的，而是想针对“迷茫开发不出策略”这个问题说说自己的感受体会。这里先做一个比方，方便大家理解，开发出一个好策略，就像是写一篇好作文。为了写好这篇作文，我们都经历了哪些过程呢？抄生字-&gt;抄课文-&gt;造句-&gt;写作文在我们小学打基础的时候，“抄”是时间占比非常大的学习内容，年级越低，“抄”的占比就越高，我们抄会一个个生字，抄一篇篇课文，感受其中的语法格式，然后自己可以创作单个句子，句子写得多了，连起来就是作文，后期再学习更多的表达技巧，最终写出立意鲜明、形象生动的好作文。“抄”就是模仿和借鉴，无论我们是做量化还是其他领域，自己从一无所知地开始学习，都是在模仿和借鉴前人的基础上起来的。例如你刚开始学习做股票量化，筛选有效的Alpha因子，前人大神用的有多空对比法、分层测试法、IC法、ICIR法等因子有效性测试方法，你也是从这些方法当中选择，如果你有发明新的有效性测试方法，那也是在学习之后的事情。于是乎，对于量化新手而言，迅速开发出一个好策略，不再有前文那个“两年开发不出策略”的焦虑，在我眼里，对普通人来说，是可以有固定套路的，那就是先模仿后创新，站在巨人的肩膀上博采众长、野蛮生长！“模仿”让自己从无到有开发属于自己的策略，“创新”是精雕细琢，让自己有好策略。因此，在这里主要根据自己的心得体会，唠唠如何真正利用好高手大神的量化策略和交易经验，让自己不再迷茫、迅速开发出好策略。以下内容只是自己粗浅的见解体会，可能对量化新手有启发意义，并不适合于大神，对不对的，还望海涵。目前我自己的感觉是，利用好高手大神的量化策略和交易经验，关键的心法口诀是：守、破、离。“守、破、离”最初源自于剑术剑道的学习理论，后来推广到其他武术派别与各行各业。以下是最初的释义，下文我会结合量化投资推心置腹地唠唠。『守』：最初阶段须遵从老师教诲，认真练习基础，达到熟练的境界。『破』：基础熟练后，试着突破原有规范让自己得到更高层次的进化。『离』：在更高层次得到新的认识并总结，自创新招数另辟出新境界。首先要声明一下，由于“巧妇难为无米之炊”，在这里假设大伙儿都能接触到适量的量化学习资料，“信息不足”的小伙伴可以参考我之前的文章，里面有介绍一些获取渠道，“信息过载”的小伙伴也不要犯焦虑症，先挑取适量的学习，学有所得就可以了，不要贪大求全哦。一．第一阶段『守』在这一阶段，我们首先要端正自己的心态，空杯心态，不要有任何偏见，高手/大神/老师说怎么去做，就怎么去做，动作、步骤、流程不要有一丝变形。就如同刘慈欣《三体》里面那句著名的话“弱小和无知从来都不是生存的障碍，傲慢才是”，傲慢和偏见不仅影响我们的生存，还影响到我们学习量化。因为高手/大神/老师他们在量化当中浸淫了这么久，经验比新手小白丰富得多，出错的概率肯定比新手小白要低。特别是，量化涉及到的技术和理论非常多，为了方便教学和方便学员理解，有一些地方会“默认”操作和不作过多解释，即使很多东西看上去很“蠢”，照做就是了。在安装量化环境的时候，不要尝试跳过某些环节和配置，即使这个环节看上去很无厘头很繁琐，因为你还是量化新手，你还不清楚这个环节为什么要存在，为啥要这么配置。例如在原版中，在环境变量当中加入指定路径，文件编码选择utf-8，操作符左右都要有一个空格。在构建策略的时候，不要尝试修改其中的某些环节和方法，即使这个环节看上去很难以理解很没有必要，因为你是新手，你还不能够保证你的改动比原版的还要好。例如在原版中，用难以理解的矩阵计算代替for循环，要使用后复权价格不能使用原始价格和前复权价格，在分母上再加一个数值“1”。做好这一个阶段的诀窍就是：做一个愿意下笨功夫的聪明人。那什么时候可以离开『守』这个阶段了呢？（1）当你可以不用看原版资料，在纸上写出策略的构建原理；（2）在电脑里不需要提示，徒手敲完整个策略的实现源码；（3）看着策略的回测详情，清楚每一个指标的含义。我个人认为，当同时满足这3个条件时，你就可以脱离『守』这个阶段了，恭喜大侠，你可以离开新手村了，带着一个属于自己的策略，向下一个阶段进发。二．第二阶段『破』在课程里，在社群内，在文章中，你看到的策略，别人也能看到，当用同一个策略的人多了，策略就可能失效了。『守』能让你拥有策略，一时赚点儿小钱，但只会『守』，你或许不能长久赚到钱。人的成长，商业的发展，策略的优化，就是需要不断的『破』，『破』就是破局而出、推陈出新，让自己做出更好的策略。「破」一般有2种方式。（1）做得比别人好（2）做得跟别人不同这两种方式都有效，第一种方式更常见，第二种方式更长久。如何做得比别人好？就是考虑得比别人更深入、更细致、更全面，举个例子。（1）更深入。例如交易领域当中的MACD指标，它的默认参数设置是（12，26，9），它为什么是这么设置呢？因为MACD被发明出来的那个时代，每周是单休制，一周要工作6天，因此12对应的是2周，26对应的是1个月，9对应的是一周半，因此要是与时俱进的话，MACD参数配置就要改为（10，20，7）。（2）更细致。例如很多线性模型对异常值很敏感，单个异常值存在就会对回归系数造成非常不利的影响，导致模型的泛化能力下降，因此要对空值进行填充或舍弃，将异常值“拉回到”合理范围。（3）更全面。例如做基本面量化的小伙伴，经常使用的是单期横截面因子数据进行建模，但是单期数据往往波动较大，因此要量化一个公司基本面的优劣，可以考虑多期序列的平均值和波动值。如何做得跟别人不同呢？那这个方法就比较宽泛了，列举几个，关键是要确定你用的“不同”是有效的。（1）对相同的数据用不同的处理方法。例如别人的双均线用MA，你用EMA或AMA。（2）用不同的数据源。别人只能用财务数据和量价数据，你可以用网络舆情数据和商品交易数据。（3）用不同的交易周期。别人用小时线，你可以用分钟线或Tick数据。『破』就是破局而出、推陈出新，就是往原来的策略当中加入更多“新套路”，让原来的策略“更吃得开”。举个综合的例子，就拿最简单的双均线策略来说，该如何『破』。『守』：双均线MA策略，金叉开多，死叉开空。『破』：在原来的基础上，使用以下3个“新套路”。（1）均线采用自适应均线AMA，趋势时偏向于快线，震荡时偏向于慢线；（2）采用ATR波动过滤的方法尽可能过滤“假突破”信号；（3）双均线策略无论行情向上还是向下，只要有大波动就能赚钱，因此筛选平常波动率较高的品种进行交易，提高交易胜率。其实还可以加入跟踪止盈止损那些条件，但加进去的“新套路”并不是越多越好，要自己不断测试优化。那什么时候可以离开『破』这个阶段了呢？（1）『守』阶段的策略绩效（风险调整后的收益和稳定性）得到显著提升；（2）你对提升优化策略的“新套路”有清楚的理解。我个人认为，当同时满足这2个条件时，你就可以从『破』阶段脱离，继续向『离』阶段进军，你在『守』阶段的那个“策略”也升级为了一个“好策略”。三．第三阶段『离』假如你看了很多高手大神的量化策略，你可能心里会冒出这样的思考：“他们的这些量化策略，都太神奇了，我怎么就想不到，当初这些策略是怎么被构思出来的呢？”这需要进入到一个更高级的能力阶段：『离』。『离』就是借用其他领域或其他量化策略的模块，发现和创造更多新的量化策略。年化91%的ETF轮动策略是从哪里来的呢？——借鉴股票和指数择时中的于阻力支撑相对强度（RSRS）策略，外加波动率筛选交易品种。期货日内的三角形交易策略是从哪里来的呢？——借鉴股票市场缠论中的底分型和顶分型形态，外加海龟交易法则中的ATR。WOBV策略是怎么来的呢？——借鉴传统的OBV指标，外加K线实体和影线的计算。Coin圈的搬砖策略是从哪里来的呢？——借鉴传统证券市场上的跨市场套利。其实绝大部分创新的本质都是“积木式创新”，太阳底下没有新鲜事，新鲜的事物可能就是旧事物的排列组合。在这个阶段，我们培养『离』能力的方式就显而易见了，有以下步骤：（1）研究大量的量化策略，把每个量化策略拆解成不同的量化模块（例如品种选择、入场规则、出场规则、仓位控制等模块）；（2）脱离量化策略，只看量化模块，把每个量化模块理解深入和打磨精通；（3）把每一个打磨精通的量化模块，作为自己的趁手兵器，收入自己的量化策略兵器库当中；（4）遇到新的交易机会，从量化策略兵器库当中，找到合适的兵器组合，做积木式创新；（5）在不同的交易领域，打造一些独门策略兵器。我的量化策略拆解经历可以参考之前的文章《如何打造「量化策略兵器库」，策略开发效率提高10倍？》。quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？314赞同·12评论文章当你有了足够多的量化兵器，并且其中有独门策略兵器的时候，你就达到了『离』的境界，这个时候，你就可以通过积木式创新源源不断产生许多好策略了。四．小结一下上文讲述了运用“守破离”心法口诀，真正利用好高手大神的量化策略和交易经验，帮助自己源源不断开发出好策略。『守』阶段：空杯心态，没有偏见，别人怎么说我们就怎么做，开发出一个策略。『破』阶段：2种方式，做得比别人好，或者做得跟别人不同，开发出一个好策略。『离』阶段：拆解策略，积木式创新，量化兵器排列组合，源源不断开发出好策略。参考资料：百度百科，2021，《守破离》词条。蒋小华，2017，《守破离——如何成为一个精进的人》古格里‧祖克曼，2020，《洞悉市场的人-量化交易之父吉姆‧西蒙斯與文藝復興公司的故事》",
        "url": "http://www.zhihu.com/api/v4/answers/2592378551",
        "comment_count": 1,
        "voteup_count": 27,
        "question_title": "http://www.zhihu.com/api/v4/questions/25468563",
        "question_url": "一个量化人危机感：没有灵感就象是在行尸走肉？"
    },
    "2592344975": {
        "created_time": 1658753281,
        "content": "这次腆着脸给大家推荐20本量化投资佳作，我根据自己的习惯，将这些书籍分为5大类，文末有传送门，拿走不谢，enjoy～第一类是科普&amp;故事类，主要是帮量化萌新迅速了解量化&amp;宽客是什么，有个大体的感觉，偏故事向。第二类是股票量化类，主要讲了在股票量化领域有什么经典的策略，如何构建、实现和回测。第三类是期货量化类，讲的是期货量化的经典策略，大部分是趋势策略（例如海龟策略），也有套利策略。第四类就是期权量化类，一般书籍里面都是先科普一下期权是什么，然后就各种字母，接着就各种跨式、蝶式，最后我想把它归到失眠系列类。第五类就是失眠系列类，不是这类书让人失眠，而是适合失眠的时候看，例如那本量化红宝书，新手初看会觉得特别枯燥，公式繁多，助眠效果极佳。一、科普&amp;故事类01.《打开量化投资的黑箱》作者:里什·纳兰豆瓣评分：7.4出版时间:2012-3内容简介：作者是一位基金经理，在书中他站在一个非纯粹技术性的视角介绍了量化交易策略，用生动的文笔带领大家游历整个“黑箱”。涉猎了很多金融界丰富的真实案例和市场趣闻，描绘了华尔街的数量金融奇才们是如何工作的。02.《解读量化投资：西蒙斯用公式打败市场的故事》作者:忻海豆瓣评分：7.2出版时间:2010-1内容简介：作者用轻松、幽默的讲故事手法，解读了西蒙斯量化投资“黑箱”之内的秘密，带我们走近20年中平均每年总回报为80％的大奖章基金，看看它如何能将1万元变成1亿元。03.《宽客：华尔街顶级数量金融大师的另类人生》作者:斯科特·帕特森豆瓣评分：8.0出版时间:2011-7内容简介：这是一本讲述华尔街顶级数量金融大师的另类人生的书。背景是2007年金融危机爆发以后，作者对量化基金经理和顶尖经济学及金融学学者的各种采访。04.《宽客人生:华尔街的数量金融大师》作者:伊曼纽尔·德曼豆瓣评分：8.0出版时间:2007-7内容简介：作者本人就是华尔街的顶级宽客，至今仍享盛名，他分析了物理学与金融学之间的关联和不同，讲述了许多物理学巨匠和金融学大师的故事。05.《高频交易》作者：艾琳·奥尔德里奇豆瓣评分：7.8出版时间：2011-6内容简介：本书作者站在专业的高度，用平实的语言和丰富的图表，带我们走进量化投资的黑匣子，向我们展示了这台复杂的“金融仪器”是如何运作的。06.《高频交易员:华尔街的速度游戏》作者：迈克尔•刘易斯豆瓣评分：7.8出版时间:2015-5内容简介：本书作者其他著名的著作还有《说谎者的扑克牌》和《大空头》，本书叙事偏水浒风，人物逐个出场，背景丰满，性格突出，然后构建完整个拼图，结局有一抹亮色。二、股票量化07.《量化投资——策略与技术》作者：丁鹏豆瓣评分：6.5出版时间:2014-9内容简介：你可以把此书认为是金融工程研报的合订本，内含60多个案例，主要分为策略篇与理论篇两部分。策略篇主要包括：量化选股、量化择时、股指期货套利、商品期货套利、统计套利、期权套利、算法交易和资产配置等。理论篇主要包括：人工智能、数据挖掘、小波分析、支持向量机、分形理论、随机过程及IT技术等。08.《量化交易:如何建立自己的算法交易事业》作者：欧内斯特·陈豆瓣评分：7.5出版时间:2014-1内容简介：此书虽薄，但内容涵盖交易策略的发展、回测检验、风险管理、编程实现、交易系统研发和算法交易运行等关键领域，作者带你一步一步建立起一个最佳量化框架。09.《量化投资策略:如何实现超额收益Alpha》作者：理查德·托托里罗豆瓣评分：7.6出版时间:2013-5内容简介：作者在书中详尽地测试了超过1200种投资策略，归纳了七个投资维度：盈利性、估值、现金流、成长性、资产配置、价格动量以及危险信号，并告诉你如何有效结合单个投资因子或组件因子，如何构建多因子策略，从而构建更全面的选股模型。10.《量化投资：以Python为工具》作者：蔡立耑豆瓣评分：6.7出版时间:2017-2内容简介：主要讲解量化投资的思想和策略，并借助Python语言进行实战。首先对Python编程语言进行介绍；然后，向读者介绍量化投资的理论知识，主要讲解量化投资所需的数量基础和类型等方面；最后讲述如何在Python语言中构建量化投资策略。三、期货量化11.《海龟交易法则》作者：柯蒂斯·费思豆瓣评分：8.6出版时间:2013-5内容简介：伟大的期货交易者究竟是天生的，还是可以后天培养的？丹尼斯和埃克哈为此开始了一项试验，参与者被称为“海龟”。此书的内容就是关于这些海龟的：海龟们如何做交易，如何把握交易时机；海龟们如何衡量风险，如何管理资金；海龟们如何获得超过100%的年均回报率；为什么有些海龟大获成功，有些却赔个精光；如何将海龟交易法则运用于你自己的交易中；12.《期货市场计算机分析指南》作者：查尔斯·勒博豆瓣评分：7.9出版时间:2012-4内容简介：本书原版较老，主要讲解美国80年代各种技术指标的运用，内含了作者几十年的功力。13.《期货市场完全指南:技术分析、交易系统、基本面分析、期权、利差和交易原则》作者：杰克·施瓦格豆瓣评分：7.7出版时间:2017-11内容简介：本书侧重于商品期货市场价格预测，是目前全面的关于基本面分析和技术面分析的期货著作，内容涵盖期货、期权、分析、利差等。14.《统计套利》作者：安德鲁·波尔豆瓣评分：6.6出版时间:2011-1内容简介：本书论述了统计套利的历史，也诠释了统计套利如何运作的方式，以及为什么管用的原因，就是翻译让人吐槽~四、期权量化15.《期权投资策略》作者：劳伦斯G.麦克米伦豆瓣评分：7.9出版时间:2010-1内容简介：本书可认为是期权交易策略大全，包含全面的期权交易工具与各种策略方法。涵盖数百种经过时间与市场考验的交易技巧，承受最低的风险，实现既定的投资目标。16.《波动率交易：期权量化交易员指南》作者：尤安·辛克莱豆瓣评分：9.0出版时间:2017-5内容简介：本书梳理了基础的期权定价、波动率度量、对冲、资金管理以及交易评估等内容，并开发了基于布莱克-斯科尔斯-默顿的量化模型去度量波动率，这适用于几乎所有类型的金融工具。17.《波动率微笑:宽客大师教你建模》作者：伊曼纽尔·德曼豆瓣评分：9.1出版时间:2018-1内容简介：本书公式繁多，需要较强数学功底，绝对是一本期权量化的好书，但总想将其归为失眠系列。五、失眠系列18.《主动投资组合管理:创造高收益并控制风险的量化投资方法》作者：理查德C.格林诺德豆瓣评分：8.7出版时间:2014-9内容简介：本书以其数学上的严谨性和内容上的系统性成为量化组合投资领域的权威之作。该书描述了一套创新的方法：寻找资产收益率原始信号，将它们转化为精炼预测，以及根据这些预测构建具有超常收益率和最小风险的投资组合，即持续战胜市场的投资组合。公式多，助眠！19.《QuantitativeEquityPortfolioManagement:ModernTechniquesandApplications》作者：EdwardE.Qian豆瓣评分：8.9出版时间:2007-5内容简介：本书可以被看成对《主动投资组合管理:创造高收益并控制风险的量化投资方法》的补充。20.《QuantitativeEquityPortfolioManagement:AnActiveApproachtoPortfolioConstructionandManagement》作者：LudwigBChincarini豆瓣评分：8.0出版时间:2006-7内容简介：本书比较偏学术风格，主要讲factormodel，与《主动投资组合管理:创造高收益并控制风险的量化投资方法》相辅相成。传送门",
        "url": "http://www.zhihu.com/api/v4/answers/2592344975",
        "comment_count": 5,
        "voteup_count": 145,
        "question_title": "http://www.zhihu.com/api/v4/questions/21359162",
        "question_url": "各位推荐一些量化投资的书籍、资料和网站啊？"
    },
    "2584663139": {
        "created_time": 1658329106,
        "content": "说一个动物庄园的故事，帮助量化交易萌新，了解商品期货跨品种套利策略，大神请绕行~在辽阔的七合大草原上，分布着各个庄园，每个庄园都盛产不同的“特产”，有的盛产大豆，有的盛产玉米，还有的盛产螺纹钢，还有黄金白银、焦炭、铁矿石、橡胶等等。每天，庄园里的大小动物们，都会把它们庄生产的东西背到草原上的中心市场进行售卖，可以换得庄币（草原上公认的交易媒介，简称『ZB』），用来购买其他庄里需要的生活生产物资。由于季节更替、环境气候等因素的变化，这些特产的价格也在不断变化。比如说，旱季的时候，粮食生长缓慢，玉米啊，大豆啊，价格就蹭蹭地往上涨，到了雨季，食物充沛了，价格就又下来了。所以啊，在旱季到来之前，很多庄园小动物都喜欢囤自己喜欢吃的粮食，但是有些小动物，由于自己的窝太小、存储技术不过关、地方还没腾出来等缘故，不敢囤太多的粮食，但又害怕旱季到来的时候粮价太高，怎么办呢？同时烦恼的还有另外一拨动物，它们就是专门生产粮食的庄园作坊主，不同季节和气候的粮食价格不一样，波动太大，导致销售回款波动大，现金流紧张的时候还要拖欠动物员工的工资，还是希望稳稳的幸福。为了解决这两拨动物的烦恼，草原的长老们就想出了用『庄票』的方法，庄票上面约定了在未来什么时候交易什么粮食品种多少斤，庄票一式两份，分为买方（多方）和卖方（空方）。买方（多方）一般就是那些害怕到旱季粮食价格上涨的小动物们，在雨季的时候就可以锁定旱季的粮食价格（可承受范围内），而且还可以先不用把粮食囤在家里，到了旱季的时候再去卖方（空方）那里把粮食搬回来就可以了。成为庄票当中买家的行为俗称“做多”。卖方（空方）一般就是那些作坊主们，只求稳健经营，害怕价格大幅波动，利用庄票锁定长期的价格，可能比市场价格低，也可能比市场价格高，但在自己的成本价之上就可以了。成为庄票当中卖方的行为俗称“做空”。就拿玉米庄票来说，庄票上面写着“作坊主阿熊要在今年冬至以1.3ZB/斤价格卖给阿猪100斤玉米”，意思就是，在今年冬至这天，阿猪花130ZB就可以买回来100斤玉米，以前那个时候买100斤玉米可能要花180ZB，作坊主阿熊也可以提前收到货款。到了庄票上的约定时间，卖方（空方）就会把对应的粮食（品种和数量跟庄票一样）拉到市场边的空地上，买方（多方）就去把粮食给拉回来。但是呢，如果成为了庄票的买方，也不一定要把粮食拿回来，可以转手给别的小动物。因为庄票每天都会产生，每天的价格由于各种因素也会不一样，所以导致转手的价格也会不一样。举个栗子，阿猪有一张“作坊主阿熊要在今年冬至以1.3ZB/斤价格卖给阿猪100斤玉米”的庄票，但是呢，阿猪过生日的时候，亲戚们送了很多玉米给它，阿猪就觉得玉米太多了，就把这张庄票转给了邻居阿鸡，但是呢，由于大家都觉得今年玉米可能歉收，现在签的庄票玉米要1.4ZB/斤了，于是乎，阿猪在转手庄票给阿鸡（平仓）的过程中赚了10ZB。同样滴，跟买方（多方）类似，卖方（空方）手里的庄票也是可以转手滴。除了各种粮食，像各种矿产、金属等庄园特产都是可以用庄票约定在未来交易的，有交易需要的各种动物们会聚集在草原中心市场旁的大梧桐树下，进行着各式各样的庄票交易。终于交代完这片大草原的庄票交易背景，现在轮到聪明的套利动物出场了。由于各种特产的庄票，可以在到期之前随时转让，转让的过程中存在价差，这就构成了庄票转让交易的盈利基础。有的动物预测今年粮食大丰收，于是先高价做空，然后再低价转让庄票（平仓），赚得窝满巢满，也有的预测错误，爬到梧桐树天台的。有的动物也想从庄票交易中分一杯羹，但是觉得单方向预测价格风险太大，只想找到市场上不正常的定价价差，在等待价差恢复正常的时候获利，它们就是大草原当中的套利动物。套利动物在不断找寻着庄票背后特产的规律，偶然间，它们发现螺纹庄园和铁矿庄园、焦炭庄园的关系。螺纹庄园主要生产螺纹钢，生产螺纹钢的主要原材料主要是铁矿石和焦炭，这两种原材料则主要从铁矿庄园和焦炭庄园购得。一般情况下，生产1吨螺纹钢则需要1.6吨铁矿石和0.5吨焦炭，当然啦，还有其他的材料。于是乎，螺纹庄园生产1吨螺纹钢的利润是“螺纹钢价格-1.6×铁矿石价格-0.5×焦炭价格-其他成本(含人工)”，如果换算成庄票，那就是：利润=螺纹庄票价格-1.6×铁矿石庄票价格-0.5×焦炭庄票价格-其他成本(含人工)当利润过高的时候，螺纹庄园里面的作坊会拼命开工，买入更多的铁矿石和焦炭，这两种原材料的价格就会跟着上升，当产能过剩后螺纹的价格就会回调。因此，当利润过高的时候，套利动物们就会做空螺纹庄票，同时做多铁矿石和焦炭庄票。当利润过低的时候，螺纹庄园里面的作坊就不那么积极生产了，对原材料的需求就没有以前那么大了，原材料的价格也会跟着下跌，螺纹的产量就逐渐下降，供需失衡的情况下，螺纹的价格就又开始上涨了。因此，当利润过低的时候，套利动物就会做多螺纹庄票，同时做空铁矿石和焦炭庄票。那利润的过高和过低怎么界定呢？不同动物的看法不一样啊。于是乎，聪明的套利动物，摒弃了设置绝对阈值的观念，搞起了自适应的布林带，当利润高于“利润N日均线+M倍标准差”时，那就是利润过高，做多螺纹做空铁矿焦炭；当利润低于“利润N日均线-M倍标准差”时，那就是利润过低，做空螺纹做多铁矿焦炭；无论哪种操作，利润回归正常值就平仓。N数值小敏感，数值大钝化；M数值小开仓次数多，数值大开仓次数少。套利动物们基于这种套利想法，在量化平台上写成策略源码，回测了一下效果不赖，虽然收益不高，胜在稳健。但它们并没有因此大喜过望，因为在这片草原上，除了黑天鹅，还有灰犀牛。参考资料：东方证券，2017.01，《衍生品系列研究之五：商品期货套利策略实证》",
        "url": "http://www.zhihu.com/api/v4/answers/2584663139",
        "comment_count": 2,
        "voteup_count": 61,
        "question_title": "http://www.zhihu.com/api/v4/questions/36459358",
        "question_url": "商品期货跨品种套利思路？"
    },
    "2584642454": {
        "created_time": 1658328146,
        "content": "传统指标择时效果不好，除了传统指标普遍具有的“滞后性”之外，还可能是因为指标基本是基于开高低收、成交量和换手率等量价数据，可以考虑采用『另类数据』另辟蹊径。拿以前说过的策略举个例子，比如基于聪明钱，利用北向资金进行量化择时。先唠唠北向资金是什么，给萌新先讲一下，为啥北向资金关注度这么高，很多人管它叫“聪明钱”，然后再看看是怎么个用法，最后看看效果咋样。闲话少叙，正文开始~相信很多小伙伴在收盘之后，某个瞬间，电脑屏幕右下角悄咪咪地弹出这样子的小窗口。行情软件每天乐此不疲地把北向资金的资讯推送给你，说明有不少人在关注这个数据，那到底这个数据有没有作用呢，先让我们从“Whatis北向资金？”说起，大神可以跳过这一part哈，主要是给之前不熟悉北向资金的小伙伴稍微科普一下。众所周知，咱天朝物产丰富，A股散发着璀璨金光，但早期的A股市场是不允许境外资金直接参与的，因此，除了QFII/RQFII之外，天朝分别在2014年和2016年启动了沪市和深市与香港市场的资金互流通道。咱们借道儿去买香港市场的股票呢，就叫做“港股通”，大陆之外(境外)的投资者买咱们A股的通道呢，就叫做“陆股通”（沪股通+深股通），由于大陆内地在香港的北边儿，大家就用“北向资金”表示通过陆股通流入A股的境外资金。北向资金的发展历程中，有3个时间点值得我们注意。2014年11月17日，沪股通启动，总额度为3000亿元人民币，每日额度为130亿元人民币。2016年12月5日，深股通启动，不设总额度限制，每日额度为130亿元人民币。2018年4月11日，证监会同意将沪股通和深股通每日额度调整为520亿元人民币，自2018年5月1日起生效。目前，北向资金已经成为外资配置A股的主要渠道，对A股市场的影响力在不断提升当中，持股市值占A股流通市值的比例也在不断上升。除了行情软件和量化平台看资金流数据外，大家也可以直接到香港交易所(HKEX)官网直接看北向资金的原始数据，注意数据的单位是“百万元人民币”就行了。想必看到这里，大家已然了解北向资金的来龙去脉了，正巧最近在量化圈子里涌现了很多利用北向资金进行择时或选股的策略，就挑一个比较有逻辑和效果比较好的择时策略，拿出来唠一唠，以后有机会再分享更多。以下策略的构建主要参照了邢大的北向资金流择时策略思想，移植到J宽（J*Quant，狗头避免广告嫌疑）平台上实现。该北向资金大盘量化择时策略的构建，跟把大象塞进冰箱里一样，都是分三步走。大盘行情用沪深300指数进行代表，并假设该指数可以买卖。Step1：计算每日北向资金的净流入金额，深股通未开通时，深股通净流入记为0。北向资金净流入=沪股通净流入+深股通净流入沪股通净流入=沪股通买入成交额-沪股通卖出成交额深股通净流入=深股通买入成交额-深股通卖出成交额Step2：在T日，将起始日到T-1日的每日北向资金净流入数据进行逆序排列(数值越大，排名越前)，然后将排列后的数据三等分，取前1/3分位的阈值作为高点阈值(中性情绪上沿位置，记为a)，取后1/3分位的阈值作为低点阈值(中性情绪下沿位置，记为b)。Step3：根据T-1日北向资金流净流入数值与高点阈值a、低点阈值b的大小比较，决定T日的交易操作。若T-1日北向资金净流入大于高点阈值a，则在T日开盘买入，若已有持仓，则继续持有，不再买入。若T-1日北向资金净流入小于低点阈值b，则在T日开盘卖出，若无持仓，则不操作。若T-1日北向资金净流入介于低点阈值b和高点阈值a之间，则在T日不做任何操作。将这三步走的策略思想在量化平台上实现，前面也提到过了，北向资金最早从2014年11月17日才开始有数据，于是回测开始时间设置为2014年11月17日，为了简单观测纯择时效果，没有设置指数的交易费率和滑点，回测绩效图如下。方便PC端观看的横版图：方便手机端观看的竖版图：从回测图中看出，这个利用北向资金进行大盘择时的策略在2019年之后才跑出了明显的Alpha，我觉得这跟北向资金在A股中的影响力有关系，因为在2018年底之前北向资金持仓市值在A股中的占比不是很高，在2019年之后才有显著的提升，影响力大了才有人愿意跟随。目前从回测来看，这是一个不错的基础策略，也表明了近3年来北向资金对A股投资是具有一定的指示作用的。更深一层地，还可以利用北向资金进行选股，选股之后还可以对个股进行择时交易，有待继续探究分享。北向资金大盘择时的策略源码：参考资料：邢不行，2021-07，《妙用北向资金找出大盘买点卖点，跟着操作5年4倍》兴业证券，2020-12，《基本面量化视角下的机构持仓信息研究系列之三：基于北向资金持仓信息的A股配置全攻略》中金公司，2019-09，《为什么核心资产“抱团”并未解散？》",
        "url": "http://www.zhihu.com/api/v4/answers/2584642454",
        "comment_count": 3,
        "voteup_count": 31,
        "question_title": "http://www.zhihu.com/api/v4/questions/265859197",
        "question_url": "量化择时到底有用吗？"
    },
    "2581256559": {
        "created_time": 1658159984,
        "content": "不请自来~因为根据数据统计，天朝A股有一半左右的时间在价格低位，抄底之后也不知道什么时候能涨起来。并且，A股在价格高位的时间占比很少，跑得慢的话，就被挂旗杆了。老手还是比新手有经验一点，因为相比抄底而言，追高摸顶真是太TM难了！下面唠唠用到的统计和解读方法，献丑了~~~咱A股现在有四千多支股票，能力和精力有限，一个一个票挨个儿来讨论不太现实，只好宏观地去看待这个问题，沪深300指数（000300.SH）是经常被作为业绩比较基准的指数之一，经常用它来表征市场整体走势，咱就先从这个指数开始下手。从2010年初到今年的6月底，合计3034个交易日，期间从最初的3535.23点，涨到现在4485.01点，期间最低价为2023.17点，最高价为5930.91点。为了方便统计，采用收盘价序列统计，在这过去的12年半里，沪深300指数的变化为2086.97~5807.72，咱把这个范围等间隔分成10组，比如说第1组的价格范围为2086.97~2459.04，最后一组第10组的价格范围为5435.64~5807.72。统计一下落在每一组里有多少个交易日，再除以总交易日数计算出占比，就可以估摸出不同价格水平的分布概率，结果如下表所示。表格数据实在是太boring，咱画个图直观看一下，如果用第1组和第2组的价格范围表示低价范围（价格范围里最低的20%），用第9组和第10组的价格范围表示高价范围（价格范围里最高的20%），过去的12年半里，低价出现的时间超过四分之一（27.69%&gt;25%），而高价出现的时间都不到5%（4.48%&lt;5%）。出现这个现象，这说明什么呢？这说明低价抄底的机会还是很多的，而高价摸顶的机会则会少很多。在咱大A股里面，低价出现的时间长，经常给机会上车（虽然不知道什么时候发车），只要想抄底，还是比较容易抄到，而高价时间短，机会少，追高的话，跑慢了就会被挂旗杆。有的小伙伴可能会说了，“贵不贵”不能光看价格点位，关键还是要看估值，只要有基本面支撑，价格再高也是合理的。咱采用上文的方法，再来统计一下沪深300指数的市盈率（PE_TTM）的情况，市盈率是股市常用的估值指标之一，数值越高表示越高估，表示“贵”了，数值越小表示越低估，表示“便宜”。在过去12年半时间里，沪深300指数的市盈率变化范围为8.01~28.24，咱依旧分10组，统计结果如下。把直方图画出来，结论就更明显了，便宜的时间更多，贵的时间更少，要想在估值最高的时候逃顶，难度真不是一点点。可能有的小伙伴还会说了，沪深300指数是选了沪市和深市最大的300支股票编制的指数，只能代表大盘风格，没法儿代表全市场。好的嘞，我是耳朵最软的了，那咱再拿万得全A指数（881001.WI）跑一遍统计程序。万得全A指数的样本范围是全部在沪市和深市上市交易的A股股票，按照自由流通股本加权，能综合反映A股的整体表现。万得全A指数的价格和市盈率的分布直方图如下所示，从统计结果中看出，依然符合“低价低估时间长，高价高估时间短”的规律，抄底依然比摸顶机会多。价格水平分布直方图：市盈率分布直方图：经过统计咱可以看出，摸顶还是比抄底难太多了，抄底一次没买够，等一等，还有很多机会上车，摸顶的时间窗口比较窄，手慢就被挂旗杆了。怪不得身边的投资大神好几个是“定投型”的，便宜的时候就买买买，价格起来后，不言顶，也不逃顶，而是撞顶，从高位回吐设定的利润后再卖，反正是从低价区到的高价区，赚多赚少随缘了。其他相关内容：quantkoala：MACD的默认参数为什么是12、26、9，现如今该如何设置？",
        "url": "http://www.zhihu.com/api/v4/answers/2581256559",
        "comment_count": 23,
        "voteup_count": 179,
        "question_title": "http://www.zhihu.com/api/v4/questions/448393880",
        "question_url": "“新手死于追高，老手死于抄底” 为何追高不对，抄底不行？"
    },
    "2581247974": {
        "created_time": 1658159512,
        "content": "众多大神都说了很多关于期权波动率的量化策略，我来补充一个跟期货股票波动率相关的策略吧。扎扎实实做好量化投资研究的小伙伴，经常细心观察数据就很容易发现：数据是可以“切割”的。打个比方，涨跌幅里面有动量也有反转，资金流里面有大单也有小单，聪明钱里有占比高的时间段也有占比低的时间段。因此，咱可以从中筛选出有利的部分，比如说只要涨跌幅里面的动量部分构建动量因子，也可以从中“一分为二”，选择对立两面做“对冲”，比如筛选资金流当中的大单和小单分别统计，然后做主力和散户的力量对比，或者计算股票的“含散率”。这种分场景/筛选的技巧，业内部分人称为“因子切割”，也有叫别的，大体上都是这个意思。那波动率这个金融市场里的重要指标自然也不例外，经常被用来衡量交易的活跃性、交易的风险和期权的定价等，我们平常使用的收益率的标准差就是其中一种度量方式，今天咱换个方式，使用收益率的平方和RV（RealizedVariance），计算公式如下，其中n值就是咱所考虑的序列长度。根据因子切割的技巧，波动率也可以分为“好的”波动率和“坏的”波动率，也就是可以分为上行波动率和下行波动率，这点跟夏普率和索提诺比率的区别很像，夏普率使用全部波动率度量风险，索提诺比率只使用“下行”波动率度量风险。值得注意的是，说“好”与“坏”只是强调它们之间的对立关系，并不是说明就真的good或bad，因为对于持有空单的人来说，下行波动率往往是good的。于是乎，咱就将RV拆解成了上行波动率RV+和下行波动率RV-，实际上怎么计算呢，就是把数值为正的收益率和为负的收益率区分开，单独对正的收益率序列计算标准差那就是上行波动率RV+，对负的收益率序列计算标准差就是RV-。其中I(...)就是条件判断函数，当括号内条件成立时函数值为1，不成立时数值为0。这个波动率不对称性因子就被简称为RSJ，全称为RelativeSignedJump，是不是觉得名字怪怪的，这可不是我瞎编的，原著（参考资料3）就是这样写的，不信的话你往下瞅瞅，因为证券价格肯定有波动和跳跃嘛。从公式中就很容易看出来了，RSJ可以很好地反映上涨下跌的情绪变化，当RSJ大于0时，说明证券的上行波动率大于下行波动率，涨势明显；当RSJ小于0时，说明证券的下行波动率大于上行波动率，跌势显著。这样就可以形成一个朴素的期市策略：RSJ&gt;0时做多，RSJ&lt;0时做空，最好再加上价格中短期趋势辅助判断，平仓的话，用ATR跟踪止盈止损（常说的“吊顶”）就可以了。咱先用期市里大伙儿最熟悉最亲民的品种做小白鼠测试一下，净值曲线如下。作为朴素的基础策略，它还比较大线条和粗糙，单品种曲线跑成这样其实还看得过去，多品种多周期叠加应该净值曲线能平滑不少，有待各位大神日后继续探索。参考资料：用Python的交易员，知乎，2021-11，《【Veighna量化策略实验室】RSJ高频波动率择时指标-1-源码复现》。陶勤英，财通证券，2020-07，《高频波动率择时指标：RSJ市场情绪冷暖剂》。BollerslevT，SocialScienceElectronicPublishing，2018-12，《GoodVolatility,BadVolatilityand,theCross-SectionofStockReturns》更多相关内容请见：如何打造「量化策略兵器库」，策略开发效率提高10倍？307赞同·12评论文章313赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章66赞同·2评论文章66赞同·2评论文章66赞同·2评论文章quantkoala：『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略104赞同·4评论文章112赞同·4评论文章112赞同·4评论文章112赞同·4评论文章113赞同·4评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）quantkoala：跟踪“聪明钱”，巧用北向资金进行大盘择时（策略Alpha:14.5%，附源码）46赞同·9评论文章72赞同·9评论文章72赞同·9评论文章72赞同·9评论文章73赞同·9评论文章73赞同·9评论文章73赞同·9评论文章74赞同·9评论文章74赞同·9评论文章75赞同·9评论文章75赞同·9评论文章75赞同·9评论文章75赞同·9评论文章77赞同·9评论文章79赞同·9评论文章80赞同·9评论文章81赞同·9评论文章81赞同·9评论文章81赞同·9评论文章82赞同·9评论文章quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略49赞同·6评论文章50赞同·6评论文章52赞同·10评论文章53赞同·10评论文章53赞同·10评论文章54赞同·10评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2581247974",
        "comment_count": 1,
        "voteup_count": 177,
        "question_title": "http://www.zhihu.com/api/v4/questions/52172444",
        "question_url": "有哪些著名的波动率交易策略？"
    },
    "2572956216": {
        "created_time": 1657716001,
        "content": "说起经典的程序化交易策略，不由自主地想起了这个RUMI策略，它给我留下过非常怪异的印象，因为它太短了，还TM赚钱，还曾排过全球第6！这个RUMI策略也是出自于美国著名权威的交易系统评选杂志之一的《FuturesTruthMagazine》，之前没有了解过这份交易杂志的朋友，可以稍微看一下之前的一篇文章，在开始的部分有讲到，点击下方卡片直达。quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)357赞同·18评论文章RUMI策略在FT杂志中多市场量化策略排名第6的，它的开发者是DavidImgraben。RUMI策略同之前的TrendModelSys策略一样，最早期也是在TradeStation平台实现的，该TS平台的开发语言为EasyLanguage，在美国已有30多年的历史。后来在2017年底，经某私募大神A引入，并移植到交易开拓者TB、文华财经和MultiCharts平台上，同时适用于商品期货和中国A股，进行小范围的有偿分享。打开源码浏览，诶~~~用力揉揉眼睛，发现没有看错。这真的是全部的策略源码！怎么形容它的短呢？犹如潘长江之于姚明，小土丘之于喜马拉雅，小溪流之于马里亚纳海沟。仔细一琢磨，也有一定的道理，该策略本质使用的是双均线，但不是我们平时的那种用法——“短线上穿长线做多，短线下穿长些做空”，而是计算双均线的离差值，并进行平滑处理，类似于微积分求X轴上下面积代数之和的简化方法，一定程度上过滤市场噪音，进而发出有效的开平仓信号。私募大神A初始发布之时的回测盈亏曲线：2021年经私募大神B改进后的回测盈亏曲线：更多相关内容请见：如何打造「量化策略兵器库」，策略开发效率提高10倍？307赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章66赞同·2评论文章66赞同·2评论文章quantkoala：『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略104赞同·4评论文章112赞同·4评论文章112赞同·4评论文章112赞同·4评论文章quantkoala：一个号称“买在低点，卖在高点”的震荡策略Q02（从60万到650万）114赞同·4评论文章115赞同·4评论文章116赞同·4评论文章116赞同·4评论文章117赞同·4评论文章117赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章122赞同·4评论文章122赞同·4评论文章122赞同·4评论文章124赞同·4评论文章125赞同·4评论文章127赞同·4评论文章134赞同·4评论文章134赞同·4评论文章138赞同·4评论文章139赞同·4评论文章139赞同·4评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01143赞同·19评论文章143赞同·19评论文章143赞同·19评论文章143赞同·19评论文章144赞同·19评论文章145赞同·19评论文章147赞同·19评论文章147赞同·19评论文章147赞同·19评论文章147赞同·19评论文章148赞同·19评论文章148赞同·19评论文章148赞同·19评论文章149赞同·19评论文章151赞同·19评论文章154赞同·19评论文章154赞同·19评论文章154赞同·19评论文章155赞同·19评论文章158赞同·23评论文章158赞同·23评论文章164赞同·23评论文章165赞同·23评论文章165赞同·23评论文章quantkoala：跟踪“聪明钱”，巧用北向资金进行大盘择时（策略Alpha:14.5%，附源码）46赞同·9评论文章72赞同·9评论文章72赞同·9评论文章72赞同·9评论文章73赞同·9评论文章73赞同·9评论文章73赞同·9评论文章74赞同·9评论文章74赞同·9评论文章75赞同·9评论文章75赞同·9评论文章75赞同·9评论文章75赞同·9评论文章77赞同·9评论文章79赞同·9评论文章80赞同·9评论文章81赞同·9评论文章81赞同·9评论文章81赞同·9评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）111赞同·19评论文章112赞同·20评论文章115赞同·20评论文章115赞同·20评论文章115赞同·20评论文章116赞同·22评论文章116赞同·22评论文章118赞同·22评论文章119赞同·22评论文章119赞同·22评论文章quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略49赞同·6评论文章50赞同·6评论文章52赞同·10评论文章53赞同·10评论文章53赞同·10评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2572956216",
        "comment_count": 3,
        "voteup_count": 86,
        "question_title": "http://www.zhihu.com/api/v4/questions/38776286",
        "question_url": "有哪些经典的程序化交易策略？"
    },
    "2572938262": {
        "created_time": 1657715138,
        "content": "腆着脸分享一个之前用RSRS做ETF轮动的量化策略，大神轻拍~『RSRS』的全称是阻力支撑相对强度（ResistanceSupportRelativeStrength）指标，它的设计思想诞生于光大证券的金工研报《基于阻力支撑相对强度的市场择时》，这个系列的研报有好几篇，目录放在文末参考资料那里了，具体的计算细节请参照原版研报，如果只想听个大概思想的话，暂且听我闲话唠一唠。废话铺垫部分开始～刚开始做交易的时候，总会听到一些\"专家\"预测点位，说大盘的阻力位在哪，说某只股票的支撑位在哪，各有各的理由，众说纷纭，但是预测的点位也是\"一千个人眼里有一千个哈姆莱特\"，不知道谁说的对。后来慢慢发现，无论是在开发股票策略还是CTA策略，都不知不觉的使用了阻力和支撑的概念，比如说在做趋势策略之时，突破上轨做多，突破下轨做空，这个上下轨其实就类似于阻力线和支撑线，向上突破了阻力线后，广阔天地，大有可为，就开多仓，向下突破支撑线后，失去靠山，一泻千里，则开空仓或平仓。有的时候，阻力线和支撑线并不是分开的两条线，也可以是一条线，这条线既可以是阻力线，也可以是支撑线。就拿很多量化萌新入门常用的单均线策略来说，价格上穿20日均线做多，价格下穿20日均线做空，在这里，这根20日均线既是阻力线也是支撑线。价格在均线下方之时，均线便是阻力线，向上突破则做多，反之，价格在均线上方，此时均线则化身为支撑线，当价格失去支撑时则做空或平仓。那问题来了，怎么找到阻力位和支撑位呢？听网上那些“专家”的预测吗？当然不是啦~其实我们每天看K线图，“公认”的阻力和支撑就蕴含在里面，那就是K线的最高价和最低价，不要脸地说，这两个价格是经过万千交易者充分交易后的博弈结果，所有的成交价格都包含在了最高价和最低价形成的空间里，在最高价这条阻力线之下，在最低价这条支撑线之上。当然了，光用1天的最高价和最低价当然不行，可以用序列值。假设我们已经有了相对靠谱的阻力位和支撑位，那应该怎么使用呢？像上下轨突破策略那样使用吗？可以换一个思路，这就是RSRS的创新点所在，不直接使用阻力位和支撑位这种绝对阈值方式，改为使用相对强度的方式。就好比是，绝对阈值方式就是预测清华北大的学生能否将来年入百万千万，相对强度方式则是预测清华北大的学生收入将来是否超越双非院校的学生，这两者都不是绝对事件，但两者的预测难易程度一目了然，这个比方不是很恰当，是我能想到的最好的了，只是用来说明，让大伙儿更好地体会，狗头保命。现在说清楚了阻力位和支撑位的代理变量，和指标构建的核心思想，想在来唠唠RSRS的具体计算步骤和细节。首先，像刚才所说的，我们用最高价和最低价作为阻力位和支撑位的代理变量，因此第一步就要获取N日最高价和最低价的数值序列。然后，对最高价和最低价序列进行线性回归，每日滚动进行。最高价=α+β×最低价其中斜率值β就是最高价相对最低价位置变化的程度，也就是说，当最低价变化为1的时候，最高价变动多少。当斜率值β很大时，支撑强度大于阻力强度，从图形上看就是，最高价的变动速度比最低价的要快，阻力逐渐减小，上涨空间大。当斜率值β很小时，阻力强度大于支撑强度，从图形上看就是，最高价的变动速度比最低价的要慢，上涨逐渐减缓，势头受阻见顶。但是每个股票/品种/合约，它们的斜率都是不一样的，比如说1.0到底是大还是小，好比说成交额5亿对很多小票来说算大的了，但是对茅台来说可是不够看的，所以不能用绝对数值做考量。由于RSRS是用来择时的，因此可以用自己的当前值跟自己的历史值做比较，然后做一个Z-Score标准化。也就是说，取M个斜率值β组成一个序列，算出这个序列的均值和标准差，然后标准分就等于（当前值-均值）/标准差，得到了这个标准分，那就是RSRS的指标值了。RSRS指标值计算出来了，那就是如何使用这个指标呢？由于RSRS指标本身已经经过标准化处理，数据分布满足均值为0，标准差为1,，最简单最朴素的做法就是，当RSRS大于阈值S时做多，RSRS小于阈值-S时做空。因此，小结一下，RSRS的计算和使用流程跟把大象塞进冰箱里是一样的，如下：第一步：获取N日最高价和最低价数据序列，采用线性回归，计算出斜率β值。最高价=α+β×最低价第二步：取最近M日的斜率β值序列，采用Z-Score法计算出RSRS值。第三步：当RSRS大于阈值S时做多，RSRS小于阈值-S时做空。这就是一个基础RSRS策略的构建方法，其中参数N、M、S，在不同的领域数值大小不同，从目前看过的RSRS相关策略来说，N一般取值在10~60，M取值一般在240~720，S值一般取值在0.6~0.8，大伙儿根据自己的领域进行调试。这个基于RSRS的EFF轮动策略，核心的策略思想很朴素，就基本上是一个强势动量策略，在ETF备选池当中选择近期动量最强的ETF持有，并且对大盘进行择时，使用RSRS生成开关信号，只有在RSRS出现做多信号的时候（市场氛围良好），才会开仓买入/持有动量最强的ETF，绩效增强不少。最近几年策略表现不错，之前的回测年化收益有90%+，最大回撤有11.4%，效果看上去不赖，但用的是最原始的RSRS指标，其实光大金工后续还有对RSRS进行改进和优化，在原来的基础上加入了右偏修正和成交额加权钝化，还可以进行更深入的探究和优化。参考资料：光大金工，2017.5，《技术择时系列报告之一：基于阻力支撑相对强度（RSRS）的市场择时》光大金工，2017.6，《技术择时系列报告之二：阻力支撑相对强度（RSRS）择时及行业轮动》光大金工，2017.7，《技术择时系列报告之三：阻力支撑相对强度（RSRS）选股》光大金工，2018.3，《技术择时系列报告之五：基于RSRS策略改进的资产配置研究》光大金工，201911，《技术择时系列报告之六：RSRS择时：回顾与改进》更多相关内容请见：https://zhuanlan.zhihu.com/p/366010280quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章64赞同·2评论文章66赞同·2评论文章quantkoala：『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略104赞同·4评论文章112赞同·4评论文章112赞同·4评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)294赞同·13评论文章299赞同·13评论文章311赞同·13评论文章314赞同·13评论文章333赞同·14评论文章333赞同·14评论文章333赞同·14评论文章334赞同·14评论文章336赞同·15评论文章336赞同·15评论文章336赞同·15评论文章340赞同·15评论文章343赞同·15评论文章343赞同·15评论文章345赞同·14评论文章346赞同·14评论文章350赞同·14评论文章353赞同·18评论文章353赞同·18评论文章357赞同·18评论文章357赞同·18评论文章quantkoala：又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略(年化20.6%)115赞同·2评论文章118赞同·2评论文章120赞同·2评论文章124赞同·2评论文章132赞同·2评论文章132赞同·2评论文章132赞同·2评论文章133赞同·2评论文章133赞同·2评论文章134赞同·2评论文章135赞同·2评论文章135赞同·2评论文章135赞同·2评论文章137赞同·2评论文章138赞同·2评论文章140赞同·2评论文章141赞同·2评论文章142赞同·2评论文章143赞同·2评论文章143赞同·2评论文章143赞同·2评论文章quantkoala：一个号称“买在低点，卖在高点”的震荡策略Q02（从60万到650万）114赞同·4评论文章115赞同·4评论文章116赞同·4评论文章116赞同·4评论文章117赞同·4评论文章117赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章122赞同·4评论文章122赞同·4评论文章122赞同·4评论文章124赞同·4评论文章125赞同·4评论文章127赞同·4评论文章134赞同·4评论文章134赞同·4评论文章138赞同·4评论文章139赞同·4评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01143赞同·19评论文章143赞同·19评论文章143赞同·19评论文章143赞同·19评论文章144赞同·19评论文章145赞同·19评论文章147赞同·19评论文章147赞同·19评论文章147赞同·19评论文章147赞同·19评论文章148赞同·19评论文章148赞同·19评论文章148赞同·19评论文章149赞同·19评论文章151赞同·19评论文章154赞同·19评论文章154赞同·19评论文章154赞同·19评论文章155赞同·19评论文章158赞同·23评论文章158赞同·23评论文章164赞同·23评论文章165赞同·23评论文章quantkoala：跟踪“聪明钱”，巧用北向资金进行大盘择时（策略Alpha:14.5%，附源码）46赞同·9评论文章72赞同·9评论文章72赞同·9评论文章72赞同·9评论文章73赞同·9评论文章73赞同·9评论文章73赞同·9评论文章74赞同·9评论文章74赞同·9评论文章75赞同·9评论文章75赞同·9评论文章75赞同·9评论文章75赞同·9评论文章77赞同·9评论文章79赞同·9评论文章80赞同·9评论文章81赞同·9评论文章81赞同·9评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）111赞同·19评论文章112赞同·20评论文章115赞同·20评论文章115赞同·20评论文章115赞同·20评论文章116赞同·22评论文章116赞同·22评论文章118赞同·22评论文章119赞同·22评论文章quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略49赞同·6评论文章50赞同·6评论文章52赞同·10评论文章53赞同·10评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2572938262",
        "comment_count": 2,
        "voteup_count": 117,
        "question_title": "http://www.zhihu.com/api/v4/questions/458800433",
        "question_url": "分享一下你的ETF强势轮动策略？"
    },
    "2571493072": {
        "created_time": 1657639363,
        "content": "我从事的领域叫『量化投资』（QuantitativeInvestment），这个领域的从业者一般被称为『宽客』（Quant），作为宽客中的一员，经常在饭局聚会被问到一些关于量化的问题，不知对方只是为了客套一下，还是真的想了解，唯一可以确定的就是，很多量化行业外的伙伴对量化投资存在非常多的误解。今天就挑被问及最多的3个问题来唠一唠，除了想消除部分常见误解外，也为将来想从事量化行业的萌新们消除一些幻想和焦虑，别被一些无良机构骗进坑。误解1：量化投资就是“高频交易割韭菜”误解2：量化投资可以做到“稳赚不赔”误解3：做量化投资的门槛非常高，就一定要学习编程和人工智能正式回答开始，herewego~~~误解1：量化投资就是“高频交易割韭菜”一听到“量化投资”，很多人的第一反应，量化是不是就是那种\"高频交易割韭菜\"，出现这种情况，个人感觉，都是一些新闻媒体对“高频交易”的竭力报道和渲染，“高频交易”和“量化投资”总是搭伙出现，让很多人误把“量化投资”等同于“高频交易”。其中最著名的事件莫过于“伊世顿高频事件”，两个外国人，不远万里潜入中国金融市场，抱着纯粹利己的动机，利用自研的高频交易系统，将700多万的初始本金滚到了20亿，其中跌宕起伏的故事可参见财新周刊的文章《伊世顿：20亿神奇之旅》。也就是伊世顿事件报道后，身边很多以前不关注量化的人都开始问起“高频交易”，可能是其中的让du贩都自叹不如的盈利能力，让大家的好奇心开始迸发。如果按照交易频率划分，量化投资可以被粗略划分为“高频交易”和“中低频交易”，也就是说除了“高频交易”之外，还有“中低频交易”。换个角度想想，中国A股目前实行的是“T+1”交易制度，今天买进的股票，第二天才能卖出，即使有股票底仓做T+0，一天之内最多一买一卖交易2次，连高频的边儿都摸不到，所以至少在中国A股领域，A股在交易机制上就无法实现高频交易，用反证法就能证明“量化投资”不等同于“高频交易”。高频交易多发生于期货期权衍生品领域，之前说的伊世顿交易的标的就是股指期货，但高频交易一般承载的资金量都比较小，因为高频交易拼的是速度，船小好调头，资金量过大的话，对市场冲击非常明显，摩擦成本都能把之前的利润侵蚀掉。因此大部分资金还是沉淀在“中低频交易”，比如常见的对冲Alpha策略，买入一揽子股票，用股指期货做对冲，往往交易周期都是周月级别的。一句话总结来说，高频交易之于量化投资，如同某娅某琪之于直播带货，很多人是因为某娅某琪知道直播带货的，但某娅某琪并不等同于直播带货，虽然直播带货头部效应明显，但这个行业中还有非常多的人在辛勤耕耘，量化领域亦如此。误解2：量化投资可以做到“稳赚不赔”在量化投资领域内，也流传着稳赚不赔的传说，那就是找到传说中的圣杯策略，圣杯策略的资金曲线永远都是倾斜向上，给人带来稳稳的幸福，可惜它跟人们口中的“鬼”一样，听过的人多，见过的人少。其实，无论在量化投资亦或是其他领域，如果有人信誓旦旦地告诉你某某交易某某项目稳赚不赔，相信我，要么他是神仙，要么他就是骗子，是后者的概率极大。直接唠个实例解释一下吧，某方是中国量化投资领域的翘楚，下图是其代表作产品“量化对冲1号”自成立以来的收益走势图（绝对收益），虽然整体保持了向上正收益，但若是在去年8月底认购产品，之后出现大幅回撤，亏损颇大。此刻脑海中都能浮现出投资者跳着脚骂街的场景，并随着光良的《童话》旋律哼道：你哭着对我说，量化里都是骗人的，它不可能是你的王子，也许你不会懂~~~量化界翘楚尚且如此，更何况其他梯队，总体盈利我信，但是任何投资期限内都稳赚不赔，那是我做噩梦都不会信！简单来说，量化投资能基于历史数据和数学模型，让投资盈利的概率偏向于我们，并不能保证百分之百盈利。一个你动了手脚的硬币，让你的胜率提升到60%，还是有16%的概率连输两次，6.4%的概率连输三次，黑天鹅谁也预料不到，哪有什么“稳赚不赔”。误解3：做量化投资的门槛非常高，就一定要学习编程和人工智能听了我的解释之后，能戳破部分小伙伴对量化投资的“幻想”，但仍然有一部分在认清本质之后，依然对量化投资感兴趣，想自己也去入门尝试一下。但里面的人又出现了另一种极端，认为做量化投资的门槛非常高，又要学编程又要学人工智能的，自己学不来，之前对量化的幻想有多乐观，现在对自己的学习能力就有多悲观。先把一句话撂在这，能熟练使用Excel的人，就能做量化投资。做量化投资必须学编程吗？不一定！最简单的量化策略莫过于定投策略了，在固定的时间点买入固定金额的标的，按照规则手动操作就可以，无须编程。萌新常说的双均线策略，金叉时买入，死叉时卖出，对着行情软件观察，满足金叉就买入，满足死叉就卖出，也无须编程。当然啦，量化投资当中还有很重要的一项任务就是“回测”（Backtest），也就是把自己的交易想法放到历史数据当中检验，看看能否在历史统计当中盈利，是不是一个好的交易想法。刚才提到的定投和双均线策略，都可以使用Excel完成回测和盈亏情况统计，别问为什么，问就是我刚开始也是这么干的，这就是为什么敢说“能熟练使用Excel的人，就能做量化投资”的原因。对现在萌新入门量化更友好的消息是，现在可能连Excel都不需要会用了，目前都陆续有了零代码无需编程的量化平台，像小时候搭积木一样就能构建属于自己的量化策略。做量化投资必须学人工智能吗？不一定！有像定投和双均线这样的简单策略，自然也有复杂策略，比如说人工智能。”人工智能“（ArtificialIntelligence）这个词近几年非常热，很多领域都在不断提及这个概念，在量化投资领域，用互联网的黑话来说，就是”AI赋能，智能投资“。很多量化培训课程，也在不断教授人工智能的知识，大有不会人工智能就不能做量化之感。咱不能听到别人教人工智能，咱就去学，不要为了学而学，要想想为什么要学。简单来说，量化投资当中引入人工智能，很大程度上是需要AI帮我们自动找到数据当中的规律，主要是非线性规律。因为人脑一般对线性的规律比较敏感，一般通过足够时间的观察就能找到（如果规律存在的话），AI模型就复杂很多，里面存在着各种空间的转换和维度的变换，低维不可分的数据可以映射到高维可分，因此它是找非线性规律的小能手。就是因为AI模型太“能”了，找出的数据规律人类都不太容易看懂，所以很多人觉得AI就像一个黑匣子。而且，你可以输入毫不相干的数据（例如今天天气、前台妹子唇膏裙子颜色和股票涨跌幅），它都能找出规律来，只要模型够复杂、样本数够少，这种情况就是咱经常听到的“过拟合”（overfitting）。正是由于“黑匣子”和“过拟合”的原因，建议萌新宽客（天才除外）入门时，不一定要学人工智能，最主要的是把“观察市场-&gt;总结规律-&gt;形成策略-&gt;回测统计-&gt;改进优化”的学习路径走通，降低学习曲线的坡度，把每一维数据当做是自己的朋友，感受量化给自己带来的快乐。人工智能是给量化投资添砖加瓦的，最好先有一个稳固的量化地基。最后再废话一句，做量化就像是做饭，有做熟吃饱级别的，也有酒店大厨级别的，更有国宴级别的，量化投资没有什么神秘和高大上的，在我看来，它更像是一种思维方式，不再让自己每次都是一拍脑袋（大腿）做出投资决策，亏也亏个明明白白。",
        "url": "http://www.zhihu.com/api/v4/answers/2571493072",
        "comment_count": 0,
        "voteup_count": 72,
        "question_title": "http://www.zhihu.com/api/v4/questions/20167901",
        "question_url": "外行对你熟知的领域有哪些误解？"
    },
    "2563483801": {
        "created_time": 1657195964,
        "content": "回答问题，结论先行：做量化投资不一定要学会机器学习，甚至可以连编程都不会。做量化投资必须学编程吗？不一定！最简单的量化策略莫过于定投策略了，在固定的时间点买入固定金额的标的，按照规则手动操作就可以，无须编程。量化萌新常说的双均线策略，金叉时买入，死叉时卖出，对着行情软件观察，满足金叉就买入，满足死叉就卖出，也无须编程。当然啦，量化投资当中还有很重要的一项任务就是“回测”（Backtest），也就是把自己的交易想法放到历史数据当中检验，看看能否在历史统计当中盈利，是不是一个好的交易想法。刚才提到的定投和双均线策略，都可以使用Excel完成回测和盈亏情况统计，别问为什么，问就是我刚开始也是这么干的，“能熟练使用Excel的人，就能做量化投资”。对现在萌新入门量化更友好的消息是，现在可能连Excel都不需要会用了，目前都陆续有了零代码无需编程的量化平台，像小时候搭积木一样就能构建属于自己的量化策略。做量化投资必须学机器学习吗？不一定！有像定投和双均线这样的简单策略，自然也有复杂策略，比如说机器学习。”机器学习“（MachineLearning）这个词近几年非常热，很多领域都在不断提及这个概念，在量化投资领域，用互联网的黑话来说，就是”AI赋能，智能投资“。很多量化培训课程，也在不断教授机器学习的知识，大有不会机器学习就不能做量化之感。咱不能听到别人教机器学习，咱就去学，不要为了学而学，要想想为什么要学。简单来说，量化投资当中引入机器学习，很大程度上是需要机器学习模型帮我们自动找到数据当中的规律，主要是非线性规律。因为人脑一般对线性的规律比较敏感，一般通过足够时间的观察就能找到（如果规律存在的话），机器学习模型就复杂很多，里面存在着各种空间的转换和维度的变换，低维不可分的数据可以映射到高维可分，因此它是找非线性规律的小能手。就是因为机器学习模型太“能”了，找出的数据规律人类都不太容易看懂，所以很多人觉得机器学习模型就像一个黑匣子。而且，你可以输入毫不相干的数据（例如今天天气、前台妹子唇膏裙子颜色和股票涨跌幅），它都能找出规律来，只要模型够复杂、样本数够少，这种情况就是咱经常听到的“过拟合”（overfitting）。正是由于“黑匣子”和“过拟合”的原因，建议萌新宽客（天才除外）入门时，不一定要学机器学习，最主要的是把“观察市场-&gt;总结规律-&gt;形成策略-&gt;回测统计-&gt;改进优化”的学习路径走通，降低学习曲线的坡度，把每一维数据当做是自己的朋友，感受量化给自己带来的快乐。机器学习是给量化投资添砖加瓦的，最好先有一个稳固的量化地基。最后再废话一句，做量化就像是做饭，有做熟吃饱级别的，也有酒店大厨级别的，更有国宴级别的，各有各的活法做法，终归会做饭总没有坏处，但行量化，无问西东。回答内容出自以前写的文章：兄dei，你是不是对量化投资有什么误解？​mp.weixin.qq.com/s/e_80nbXiu5BAYHuSZae-xQ",
        "url": "http://www.zhihu.com/api/v4/answers/2563483801",
        "comment_count": 2,
        "voteup_count": 53,
        "question_title": "http://www.zhihu.com/api/v4/questions/67868508",
        "question_url": "做量化要不要学习机器学习？"
    },
    "2563461646": {
        "created_time": 1657194894,
        "content": "这主要看楼主对【稳定盈利】的定义，如果以长周期衡量，比如每年都赚钱（赚多赚少先不说），那还是有可能做到的，如果以短周期衡量，比如说每天/每周都赚钱（10年内），我没有见过不能说没有，只能说概率就非常渺小。在量化交易领域内，一直都流传着稳赚不赔的传说，那就是找到传说中的圣杯策略，圣杯策略的资金曲线永远都是倾斜向上，给人带来稳稳的幸福，可惜它跟人们口中的“鬼”一样，听过的人多，见过的人少。其实，无论在量化交易亦或是其他领域，如果有人信誓旦旦地告诉你某某交易某某项目稳赚不赔，相信我，要么他是神仙，要么他就是骗子，是后者的概率极大。直接唠个实例解释一下吧，某方是中国量化投资领域的翘楚，下图是其代表作产品“量化对冲1号”自成立以来的收益走势图（绝对收益），虽然整体保持了向上正收益，但若是在去年8月底认购产品，之后出现大幅回撤，亏损颇大。此刻脑海中都能浮现出投资者跳着脚骂街的场景，并随着光良的《童话》旋律哼道：你哭着对我说，量化里都是骗人的，它不可能是你的王子，也许你不会懂~~~量化界翘楚尚且如此，更何况其他梯队，总体盈利我信，但是任何投资期限内都稳赚不赔，那是我做噩梦都不会信！简单来说，量化交易能基于历史数据和数学模型，让投资盈利的概率偏向于我们，并不能保证“百分之百”盈利。一个你动了手脚的硬币，让你的胜率提升到60%，还是有16%的概率连输两次，6.4%的概率连输三次，黑天鹅谁也预料不到，哪有什么“稳赚不赔”和“稳定盈利”。回答内容出自以前写的文章：兄dei，你是不是对量化投资有什么误解？",
        "url": "http://www.zhihu.com/api/v4/answers/2563461646",
        "comment_count": 4,
        "voteup_count": 10,
        "question_title": "http://www.zhihu.com/api/v4/questions/337926359",
        "question_url": "期货量化交易真的可以实现稳定盈利吗？"
    },
    "2561953738": {
        "created_time": 1657115032,
        "content": "个人相对机构而言，在高频速度上没有任何优势，但在资管要求上，个人可以承受的波动可以大一些（至少不用向投资者费尽口舌解释），打法可以灵活一点，因此建议楼主可以采用中低频策略，但为了能坚持把策略跑下去，建议要选择金融和交易逻辑性比较强的量化策略，自己认同和了解的策略会比较有信心一些。符合条件的量化策略有很多，先给楼主介绍一个适合入手的CTA策略，那就是CTA中的Alpha策略：期限结构之展期收益率策略。下文是新手向解释，大神请退散~~~什么是期限结构呢？下面贴一段学术范儿的解释：同一商品期货品种有多个不同到期日的期货合约，将不同月份合约价格连接起来可以得到商品价格的期限结构（TermStructure）。如果近期价格高于远期价格，期货期限结构向下倾斜，这种情况称为期货贴水（Backwardation），或叫做现货升水，也叫作现货溢价。如果远期价格高于近期价格，期货期限结构向上倾斜，这种情况称为期货升水（Contango），或叫做现货贴水，也叫作期货溢价。萌新第一次看可能一头雾水有点懵，内心OS：这是啥玩意儿啊！那请忽略以上文字，举个栗子打比方，我们静下心来唠唠。比如说，螺某钢合约和当前价格如下：螺某钢2205合约：5504螺某钢2210合约：4884螺某钢2301合约：4817你瞧，随着交割日期越靠后，合约的价格就越低，这就是近期合约的价格高于远期合约的价格，如果将日期画在横轴（X轴）上，将合约价格画在纵轴（Y轴）上，那就是一条逐渐走低的价格曲线，学术范儿叫法就是期限结构向下倾斜，称为期货贴水（Backwardation）。又比如说，沪某铝合约和当前价格如下：沪某铝2205合约：21090沪某铝2206合约：21120沪某铝2207合约：21140这个品种的情况刚好就跟之前螺某钢恰巧相反，随着交割日期越靠后，合约的价格就越高，这就是远期合约的价格高于近期合约的价格，那是一条逐渐走高的价格曲线，学术范儿叫法就是期货期限结构向上倾斜，称为期货升水（Contango）。一般从纯理论来说，期货升水（Contango）是商品期货正常的结构，因为近期合约和远期合约价格关系如下：远期合约价格=近期合约价格+仓储、物流、利息各项杂七杂八的费用这个公式就解释了为什么之前纽商所的原油2005合约价格出现“-40美元/桶”，你没看错，商品价格就是负数，就是你买一桶原油卖方还倒贴你40美元，而当时其他的远期合约价格都是正数。这其中的原因是，买入原油交割，别人只给你油，你自己得拿东西去装回来，而当时原油价格偏低，附近的化工企业就不断收油，都把油罐基本上装满了，临近交割的时候，你自己买个桶或者存在特定的仓库里，存一桶油就可能要花50美元以上，这就是为啥原油卖方愿意贴钱给你让你把油弄走的原因之一（本质原因还是供求关系）。了解完了期限结构，怎么指导我们投资交易呢？按照当前的期限结构，是可以反推商品/品种的市场供需情况的，根据仓储理论和顺势而为的交易理念，当商品库存偏低（供小于求）的时候，近月合约价格将出现更大幅度的上行，从而更容易导致近月合约较远月合约升水，此后由于库存可能继续偏低，则商品价格将继续上涨；相反，当商品库存偏高（供大于求）的时候，近月合约价格将出现更大幅度的下行，从而更容易导致近月合约较远月合约贴水，此后由于库存可能继续偏高，则商品价格将持续下跌。铺垫了这么多，了解完了期限结构和指导原则，这就轮到今天量化策略的核心公式登场了，那就是期限结构当中的展期收益率（RollYield）计算公式。其中，ln(*)是以自然对数函数，Pn是近月合约当前价格，Pd是远月合约当前价格，Nn是近月合约交割日期距当前日期的天数，Nd就是远月合约交割日期距当前日期的天数。那么，“ln(Pn)-ln(Pd)”可以看成是近月合约较远月合约的对数溢价率，如果只是横截面比较大小排序，直接用正常的溢价率就可以了，不需要用对数形式，更符合普通人习惯。“365/(Nd-Nn)”就是对溢价率进行年化处理，方便不同期限合约的溢价率进行统一比较。当近月合约价格高于远月合约价格时，当前的展期收益率为正；当近月合约价格小于远月合约价格时，当前的展期收益率为负数。在近月和远月的选择时，不同人也有不同的选择方案：近月和次近月，近月和主力，近月和最远月，主力和次主力。这些都是可选方案，别人实盘经验说主力和次主力的结合会好一些，既然别人敢说，我就敢信吧。根据之前说的指导原则，展期收益率高的品种价格将会更大概率上行，展期收益率低的品种价格将会更大概率下行，因此就产生了一个朴素的对冲策略想法：在时刻T，做多展期收益率最高的N个品种，同时做空展期收益率最低的N个品种，等市值对冲，定期换仓。有了想法，回测一下，效果还行~~~就是回撤大了一些，不过这还是个毛坯版的策略，还有很多更精细的优化方向可以考虑，比如还要参考商品现货价格、商品价格趋势、波动率放大收敛、加入止盈止损等，留待楼主和宽客大侠们改进成精装版~~~参考资料：海通证券，2017.03，《FICC系列研究之二：基于动量和期限结构的商品期货策略》海通证券，2017.08，《FICC系列研究之五：商品期货因子挖掘与组合构建再探究》兴业证券，2017.05，《CTA策略系列报告之二：基于商品期货的期限结构的投资策略》东方证券，2017.07，《衍生品系列研究之（六）：商品期货中的alpha策略》华泰期货，2017.10，《CTA量化策略因子系列（三）：期限结构因子》渤海证券，2018.04，《金融工程CTA策略专题报告之十：商品期货展期收益策略初》更多相关内容请见：quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章304赞同·12评论文章304赞同·12评论文章304赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章63赞同·2评论文章63赞同·2评论文章63赞同·2评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）116赞同·22评论文章116赞同·22评论文章quantkoala：『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略104赞同·4评论文章111赞同·4评论文章111赞同·4评论文章111赞同·4评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)294赞同·13评论文章299赞同·13评论文章311赞同·13评论文章314赞同·13评论文章333赞同·14评论文章333赞同·14评论文章333赞同·14评论文章334赞同·14评论文章336赞同·15评论文章336赞同·15评论文章336赞同·15评论文章340赞同·15评论文章343赞同·15评论文章343赞同·15评论文章345赞同·14评论文章346赞同·14评论文章350赞同·14评论文章353赞同·18评论文章353赞同·18评论文章356赞同·18评论文章356赞同·18评论文章356赞同·18评论文章quantkoala：又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略(年化20.6%)115赞同·2评论文章118赞同·2评论文章120赞同·2评论文章124赞同·2评论文章132赞同·2评论文章132赞同·2评论文章132赞同·2评论文章133赞同·2评论文章133赞同·2评论文章134赞同·2评论文章135赞同·2评论文章135赞同·2评论文章135赞同·2评论文章137赞同·2评论文章138赞同·2评论文章140赞同·2评论文章141赞同·2评论文章142赞同·2评论文章143赞同·2评论文章143赞同·2评论文章143赞同·2评论文章143赞同·2评论文章quantkoala：【策略干货度：★★★☆☆】如何获取源源不断的量化策略？（CTA/期货策略合集篇）46赞同·0评论文章47赞同·0评论文章47赞同·0评论文章47赞同·0评论文章48赞同·0评论文章49赞同·0评论文章54赞同·0评论文章54赞同·0评论文章54赞同·0评论文章54赞同·0评论文章54赞同·0评论文章54赞同·0评论文章54赞同·0评论文章56赞同·0评论文章56赞同·0评论文章57赞同·0评论文章59赞同·0评论文章59赞同·0评论文章60赞同·0评论文章61赞同·0评论文章61赞同·0评论文章62赞同·0评论文章63赞同·0评论文章63赞同·0评论文章quantkoala：一个号称“买在低点，卖在高点”的震荡策略Q02（从60万到650万）114赞同·4评论文章115赞同·4评论文章116赞同·4评论文章116赞同·4评论文章117赞同·4评论文章117赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章122赞同·4评论文章122赞同·4评论文章122赞同·4评论文章124赞同·4评论文章125赞同·4评论文章127赞同·4评论文章134赞同·4评论文章134赞同·4评论文章137赞同·4评论文章137赞同·4评论文章137赞同·4评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01143赞同·19评论文章143赞同·19评论文章143赞同·19评论文章143赞同·19评论文章144赞同·19评论文章145赞同·19评论文章147赞同·19评论文章147赞同·19评论文章147赞同·19评论文章147赞同·19评论文章148赞同·19评论文章148赞同·19评论文章148赞同·19评论文章149赞同·19评论文章151赞同·19评论文章154赞同·19评论文章154赞同·19评论文章154赞同·19评论文章155赞同·19评论文章158赞同·23评论文章158赞同·23评论文章164赞同·23评论文章164赞同·23评论文章164赞同·23评论文章quantkoala：跟踪“聪明钱”，巧用北向资金进行大盘择时（策略Alpha:14.5%，附源码）46赞同·9评论文章72赞同·9评论文章72赞同·9评论文章72赞同·9评论文章73赞同·9评论文章73赞同·9评论文章73赞同·9评论文章74赞同·9评论文章74赞同·9评论文章75赞同·9评论文章75赞同·9评论文章75赞同·9评论文章75赞同·9评论文章77赞同·9评论文章79赞同·9评论文章80赞同·9评论文章80赞同·9评论文章80赞同·9评论文章80赞同·9评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）69赞同·8评论文章70赞同·8评论文章70赞同·8评论文章70赞同·8评论文章77赞同·10评论文章79赞同·10评论文章83赞同·10评论文章83赞同·10评论文章83赞同·10评论文章quantkoala：动物庄园：商品期货跨品种套利策略16赞同·0评论文章17赞同·0评论文章17赞同·0评论文章19赞同·0评论文章19赞同·0评论文章19赞同·0评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2561953738",
        "comment_count": 5,
        "voteup_count": 114,
        "question_title": "http://www.zhihu.com/api/v4/questions/396703713",
        "question_url": "有哪些个人可以做的量化策略？哪些是个人不能碰的交易策略？"
    },
    "2561920906": {
        "created_time": 1657113550,
        "content": "说说新手在做股票量化交易时，开发量化策略容易碰到的4个坑，有的坑非常明显，有的却非常隐蔽，希望大伙儿都别踩到了。1.明显坑：使用前复权价格数据。由于股票会存在分红送股的情形，价格会出现非交易回落，导致股票价格序列的不连续性，假设个股“10送10”，股价就腰斩了，双均线什么的马上就会出现“死叉”，所以为了指标计算的连续性和方便性，就会使用复权价格数据。一些量化萌新入门之前，在行情软件上一般是看前复权行情（很多股民都有这个习惯），因为前复权行情是保证现在的价格不变，根据分红送股的信息对之前的股票价格进行调整，看到现在K线的数值比较“正常”，如果是看后复权价格行情的话，很多上市时间比较长、分红送股比较多的股票后复权价格都是“成千上万”的了，不太“人性化”。酱香型科技公司的前复权价格比较符合股民习惯。后复权价格已然上万，很多人一开始不习惯也不喜欢。所以有一部分新手就会使用前复权价格数据，刚才已经说了，过去的股价数据是按照现在价格，根据分红送配的信息往过去推的，换句话来说，历史的价格数据包含了现在的信息，也就有了“未来信息”。如果是使用前复权价格数据，那最简单且收益高的量化策略就是，买上市时间早且前复权价格低的股票，回测收益率曲线保证不差。2.普通坑：当前K线出信号，当前K线成交。这里特指的是：使用K线收盘价序列计算指标，出现信号后，以收盘价成交。其实这种情况已经比“最低价买入，最高价卖出”的偷价情形好很多了，除非是恶意设置，不然一般萌新凭直觉都会避免。但有时候看一些萌新的策略源码，会出现类似于“IFCrossover(MA5,MA20)THENBuy(Close，...)”（当前MA5均线上穿MA20均线时，按收盘价买入）的情形，其实这挺符合日常看盘的习惯，看到金叉死叉的时候，都会在脑子里面从当前时点开始判断之后的行情。但在量化里面，这其实也是包含了未来信息的，因为量化交易实盘是实时进行的，至少会出现以下两种不利的情况。（1）当前K线没走完，最高价就触发了金叉信号，按照最高价就买入了，可能收盘价和最高价之间就存在不小的滑点。（2）当前K线最高价可以触发金叉信号，但按照收盘价计算却触发不了金叉信号，这就造成了实盘当中能成交、回测当中无法成交的不对应情况。因此有经验的宽客一般都会设置为“当前K线出信号，下一根K线开盘价/限价成交”，例如上面的例子可以改为“IFCrossover(MA5[1],MA20[1])THENBuy(Open，...)”（根据上一根K线计算的MA5均线上穿MA20均线时，按照开盘价买入）。其实这样的设置还可能不够严谨，不过已经比之前的情形好很多了。更为严谨的是，买入价可以设为“Max(Open，LimitPrice)”（开盘价和心里目标价位的最大值），量化想做好就是要扣很多细节，路漫漫其修远兮，吾将上下而求索~3.进阶坑：无法判断最低价和最高价的出现顺序。这种情况相对少见，造成的后果也比较薛定谔，举个例子来说明吧。假设一个股票/品种出现了天地板（大幅震荡同理），涨停会触发止盈，跌停会触发止损。如果是按照K线来回测的，用高低价判断是否触发止盈止损，这就要看在策略源码中，你把止损写在前头，还是把止盈写在前头，因为在这根K线上，止盈止损的条件同时都满足，谁写在前头谁就会被执行。但是在实盘当中，最高价和最低价必然有先后出场的顺序，假设先出现跌停，再出现涨停，而在代码当中是把止盈写在前头。这个时候就变相出现了未来信息，在回测当中出现了“苦尽甘来”的情况，在实盘当中要亏损10%的情况，在回测当中却盈利了10%。这个就有点儿类似于“幸存者偏差”，如同很多经典量化书籍都提到过的例子：在米国，买入困境当中的股票博反转，回测效果非常好，实盘效果却可能大相径庭，因为在早期，个股退市后数据就“消失”了，能回测到的股票都是从困境当中挺过来的幸存者，股价自然会迎来大涨，但如果在现实当中买到的是没有挺过来的不幸者，那就GG了。4.隐蔽坑：财报数据当中的未来信息。这个财报当中的未来信息非常隐蔽，我初始做量化的时候也掉进过这个坑，不是自己\"粗心大意\"，而是没有经验、特别是没有财务相关知识的萌新容易掉坑。众所周知，A股上市公司的一季报、半年报、三季报和年报的披露截止时间分别在当年的4月底、8月底、10月底和次年4月底公布，一般很少有人在2021年1月就直接调用2020年报的，这个错误对普通股民都太过明显，今天要说的是比较\"隐蔽的\"。举个例子，有的童鞋就考虑到财报的延后披露，但各家上市公司的披露日期又没有规律，于是乎，在构建量化基本面模型时，就在披露截止日期的次月第一个交易日调取财报数据，比方说在2021年5月6日才调用2020年报数据。的确，这种方式能剔除绝大部分的未来信息，但是还是有些隐蔽的瑕疵，这个瑕疵的根源就是：部分公司会对之前的财报数据进行修正，最新值会替换掉旧值。举个真实的例子，某扇贝跑来跑去的上市公司XX岛由于2014、2015连续两年亏损被*ST，如果2016年再亏损就要进入退市流程了。2017年3月21日，XX岛公布了2016年的年报，净利润为7571个w，扭亏为盈，保壳成功。但在2019年7月被证监会最终查出虚增利润1.3个小目标，追溯调整后净利润为-5543个w。如果今天来回测，取到XX岛2016年的净利润就是-5543w，可以避开这个大雷，而实际上，2017年5月第一个交易日取到的净利润却是7571w，老老实实挨锤。XX岛2016年年报原始数据。2022年今天查询到的XX岛财务数据。这种回测历史当中能取到、现实当中无法取到的财报数据，就是做基本面量化的萌新很容易掉进的坑，特别还是早期的时候。不过现在萌新们不用担心了，很多量化平台都做了非常贴心的设置，除了设定报告期外，还可以设定取数日期，只能取到在实际当中取数日期之前可见的财报数据，在取数日期之后的修正是取不到的，或者是其他落地的金融数据库，会同时存储原始财报数据和修改后的财报数据，并且有每条记录的公告日期，可以按照公告日期进行数据选择。在策略开发当中，要有效避免掉各种各样的坑，除了多听前人的掉坑经验外，就是彻底了解自己所用的指标、变量、模型、算法的计算流程和细节，在哪个环节上会拿到这个时点之外的未知信息，慢慢地打磨细节，这样会比较快。更多相关内容请见：quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章304赞同·12评论文章304赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章63赞同·2评论文章63赞同·2评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）116赞同·22评论文章quantkoala：『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略104赞同·4评论文章111赞同·4评论文章111赞同·4评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)294赞同·13评论文章299赞同·13评论文章311赞同·13评论文章314赞同·13评论文章333赞同·14评论文章333赞同·14评论文章333赞同·14评论文章334赞同·14评论文章336赞同·15评论文章336赞同·15评论文章336赞同·15评论文章340赞同·15评论文章343赞同·15评论文章343赞同·15评论文章345赞同·14评论文章346赞同·14评论文章350赞同·14评论文章353赞同·18评论文章353赞同·18评论文章356赞同·18评论文章356赞同·18评论文章quantkoala：又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略(年化20.6%)115赞同·2评论文章118赞同·2评论文章120赞同·2评论文章124赞同·2评论文章132赞同·2评论文章132赞同·2评论文章132赞同·2评论文章133赞同·2评论文章133赞同·2评论文章134赞同·2评论文章135赞同·2评论文章135赞同·2评论文章135赞同·2评论文章137赞同·2评论文章138赞同·2评论文章140赞同·2评论文章141赞同·2评论文章142赞同·2评论文章143赞同·2评论文章143赞同·2评论文章143赞同·2评论文章quantkoala：【策略干货度：★★★☆☆】如何获取源源不断的量化策略？（CTA/期货策略合集篇）46赞同·0评论文章47赞同·0评论文章47赞同·0评论文章47赞同·0评论文章48赞同·0评论文章49赞同·0评论文章54赞同·0评论文章54赞同·0评论文章54赞同·0评论文章54赞同·0评论文章54赞同·0评论文章54赞同·0评论文章54赞同·0评论文章56赞同·0评论文章56赞同·0评论文章57赞同·0评论文章59赞同·0评论文章59赞同·0评论文章60赞同·0评论文章61赞同·0评论文章61赞同·0评论文章62赞同·0评论文章63赞同·0评论文章quantkoala：一个号称“买在低点，卖在高点”的震荡策略Q02（从60万到650万）114赞同·4评论文章115赞同·4评论文章116赞同·4评论文章116赞同·4评论文章117赞同·4评论文章117赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章122赞同·4评论文章122赞同·4评论文章122赞同·4评论文章124赞同·4评论文章125赞同·4评论文章127赞同·4评论文章134赞同·4评论文章134赞同·4评论文章137赞同·4评论文章137赞同·4评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01143赞同·19评论文章143赞同·19评论文章143赞同·19评论文章143赞同·19评论文章144赞同·19评论文章145赞同·19评论文章147赞同·19评论文章147赞同·19评论文章147赞同·19评论文章147赞同·19评论文章148赞同·19评论文章148赞同·19评论文章148赞同·19评论文章149赞同·19评论文章151赞同·19评论文章154赞同·19评论文章154赞同·19评论文章154赞同·19评论文章155赞同·19评论文章158赞同·23评论文章158赞同·23评论文章164赞同·23评论文章164赞同·23评论文章quantkoala：跟踪“聪明钱”，巧用北向资金进行大盘择时（策略Alpha:14.5%，附源码）46赞同·9评论文章72赞同·9评论文章72赞同·9评论文章72赞同·9评论文章73赞同·9评论文章73赞同·9评论文章73赞同·9评论文章74赞同·9评论文章74赞同·9评论文章75赞同·9评论文章75赞同·9评论文章75赞同·9评论文章75赞同·9评论文章77赞同·9评论文章79赞同·9评论文章80赞同·9评论文章80赞同·9评论文章80赞同·9评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）69赞同·8评论文章70赞同·8评论文章70赞同·8评论文章70赞同·8评论文章77赞同·10评论文章79赞同·10评论文章83赞同·10评论文章83赞同·10评论文章quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略49赞同·6评论文章50赞同·6评论文章51赞同·8评论文章51赞同·8评论文章quantkoala：动物庄园：商品期货跨品种套利策略16赞同·0评论文章17赞同·0评论文章17赞同·0评论文章19赞同·0评论文章19赞同·0评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2561920906",
        "comment_count": 8,
        "voteup_count": 76,
        "question_title": "http://www.zhihu.com/api/v4/questions/386072235",
        "question_url": "新人做量化交易会遇到哪些坑？"
    },
    "2560465280": {
        "created_time": 1657036966,
        "content": "看到各位答主大大说了很多应用MACD的量化策略，我也来凑凑热闹，跟大伙儿唠唠这个指标之王MACD的另类用法：高低形态短线量化策略，看看盈亏比2.1的高低形态策略是怎么炼成的。开始先唠唠闲篇，给准备入门的量化萌新铺垫一下，大神可以直接跳到后面的第3部分~1.MACD到底是个啥个人感觉MACD指标就如同微笑那般，是世界最美最通用的语言，无论你是交易股票或债券，还是期货或期权，亦或是外汇和数字货币，MACD都是被人经常提及和使用的指标，素有“指标之王”的美誉。打开大部分行情软件的默认界面，上方一般都是价格K线主图，主图上可能叠加着各个周期的均线，紧接着下来就是成交量柱状图，下方就是MACD的副图了。MACD的英文全称是“MovingAverageConvergenceandDivergence”，中文名字叫“异同移动平均线”，由“一柱两线”构成，两线分别是DIF线和DEA线，一柱就是MACD柱。具体的计算方法如下，【12，26，9】是MACD的默认参数，可以根据自己的喜好调整，关于参数的调整可以看之前的一篇相关文章。DIF=EMA(CLOSE,12)-EMA(CLOSE,26)DEA=EMA(DIF,9)MACD=(DIF-DEA)×2quantkoala：MACD的默认参数为什么是12、26、9，现如今该如何设置？先来解释一下，具体计算式子表达的意思，大神请直接跳过这一Part。瞄一遍计算公式，发现“EMA”是高频词，初学量化的萌新可能会疑惑，这是啥玩意儿，其实它也是均线，它有一个近亲，大家肯定非常熟悉，那就是MA，大家经常说的20日均线，其实一般指的就是MA20。虽然大家都是均线，EMA和MA还是存在区别滴，前者是指数平均，后者是算术平均，算术平均就是对每一天的价格都是同等对待，指数平均就是区别对待每一天的价格，越近期的价格，考虑的权重就越高，所以EMA更能反映近期的价格走势，它们的具体计算方式可以上度娘Google一下。EMA(CLOSE,12)和EMA(CLOSE,26)就是表示对收盘价CLOSE分别计算12日和26日的指数平均，因此DIF线就是快EMA和慢EMA的差值线，DEA线就是对DIF线计算9日的指数平均。那么，MACD柱就是DIF线与DEA线的差值的2倍，当数值为正时，柱子颜色为红，当数值为负时，柱子颜色为绿（也有偏蓝色的）。看吧，MACD也没有啥神秘的，3个步骤就可以轻轻松松计算出来。2.MACD的两个常用方法MACD的底裤我们已经扒开了，计算的本质也坦露在我们面前，那我们该如何使用MACD呢？上周末我舍弃了搜寻岛国高清无码蓝光压缩的电影时间，统计发现目前大家最为常用的方法是金叉死叉法和背离法。（1）金叉死叉法从MACD的计算过程中可以看出，DEA是DIF的9日均线，你若是把DIF想象成收盘价的话，DEA就是收盘价的9日均线，虽然这种不属于5/20/60/120的均线长度，可能对强迫症不友好。自然而然地，当价格向上突破均线趋势时，可能会迎来上涨行情，反之，当价格向下突破均线趋势时，可能会迎来下跌行情。因此，金叉死叉法就是当DIF线与DEA线出现金叉的时候，开多头仓位，当DIF线与DEA线出现死叉的时候，开空头仓位。（2）背离法在MACD的运行过程中，MACD的形态可能会跟价格趋势运行节奏并不一定完全同步，就跟你遛狗的时候，狗狗并不一定总是走在你的身旁，有的时候它原地一趴，任你死拽也不肯往前走了。MACD与价格趋势之间出现的背离关系，很多时候会给我们提前发出非常有提示意义的转向信号，这里面最重要的两种背离就是顶背离和底背离。顶背离就是价格波峰创新高，而MACD指标对应的波峰并没有创新高，价格趋势向上，指标趋势向下，后市可能会出现下跌，出现如下图所示的背离。底背离就是价格波峰创新低，而MACD指标对应的波峰并没有创新低，价格趋势向下，指标趋势向上，后市可能会出现上涨，出现如下图所示的背离。3.MACD高低形态策略众所周知，我是很乐意为兄弟消化过剩量化策略的，这不，最近又偷瞄了老于的策略库，学(shun)习(shou)到(qian)了(yang)一个MACD的另类用法，构建的量化策略效果还不赖。这个另类的方法没有现成的名称，我就暂且把它叫做『MACD高低形态法』吧，因为它的多空条件与MACD的高低形态有关，需要量化波峰波谷，类似于金叉死叉法和背离法的综合版本。这个策略思想是起源于对行情的观察，在很多时候，当MACD的波峰一峰比一峰高之后，出现金叉，后面会出现大波段上涨行情；反之，当MACD的波谷一谷比一谷低之后，出现死叉，后面会出现大幅跳水行情。于是乎，MACD高低形态策略的朴素交易逻辑就诞生了。入场条件：多头：MACD在0轴之上，当前出现金叉，且之前MACD波峰一个比一个高；空头：MACD在0轴之下，当前出现死叉，且之前MACD波谷一个比一个低。出场条件：SAR跟踪移动止盈止损。所以策略的具体实现跟把大象塞进冰箱是一样的，主要分三步走。Step1：对最近2个波峰或波谷进行量化识别，如下图当中的黄线是当前的波峰值，蓝线是上一个波峰值。Step2：实时判断MACD波峰波谷形态，出现金叉/死叉时在下一根K线开仓。Step3：开仓之后，以开仓Bar为起点进行SAR跟踪移动止盈止损。代码细节调整完成之后，把策略牵出来溜溜，回测绩效如下，盈亏比还不赖，盈亏比有2.1。其实这只是一个很简单的元策略，可以和其他更多的因子指标进行结合，更大的改进空间靠诸位大侠继续探究，有好策略别忘了报喜哈~更多相关内容请见：quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章304赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章63赞同·2评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）quantkoala：『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略104赞同·4评论文章111赞同·4评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)294赞同·13评论文章299赞同·13评论文章311赞同·13评论文章314赞同·13评论文章333赞同·14评论文章333赞同·14评论文章333赞同·14评论文章334赞同·14评论文章336赞同·15评论文章336赞同·15评论文章336赞同·15评论文章340赞同·15评论文章343赞同·15评论文章343赞同·15评论文章345赞同·14评论文章346赞同·14评论文章350赞同·14评论文章353赞同·18评论文章353赞同·18评论文章356赞同·18评论文章quantkoala：又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略(年化20.6%)115赞同·2评论文章118赞同·2评论文章120赞同·2评论文章124赞同·2评论文章132赞同·2评论文章132赞同·2评论文章132赞同·2评论文章133赞同·2评论文章133赞同·2评论文章134赞同·2评论文章135赞同·2评论文章135赞同·2评论文章135赞同·2评论文章137赞同·2评论文章138赞同·2评论文章140赞同·2评论文章141赞同·2评论文章142赞同·2评论文章143赞同·2评论文章143赞同·2评论文章quantkoala：【策略干货度：★★★☆☆】如何获取源源不断的量化策略？（CTA/期货策略合集篇）46赞同·0评论文章47赞同·0评论文章47赞同·0评论文章47赞同·0评论文章48赞同·0评论文章49赞同·0评论文章54赞同·0评论文章54赞同·0评论文章54赞同·0评论文章54赞同·0评论文章54赞同·0评论文章54赞同·0评论文章54赞同·0评论文章56赞同·0评论文章56赞同·0评论文章57赞同·0评论文章59赞同·0评论文章59赞同·0评论文章60赞同·0评论文章61赞同·0评论文章61赞同·0评论文章62赞同·0评论文章quantkoala：一个号称“买在低点，卖在高点”的震荡策略Q02（从60万到650万）114赞同·4评论文章115赞同·4评论文章116赞同·4评论文章116赞同·4评论文章117赞同·4评论文章117赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章122赞同·4评论文章122赞同·4评论文章122赞同·4评论文章124赞同·4评论文章125赞同·4评论文章127赞同·4评论文章134赞同·4评论文章134赞同·4评论文章137赞同·4评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01143赞同·19评论文章143赞同·19评论文章143赞同·19评论文章143赞同·19评论文章144赞同·19评论文章145赞同·19评论文章147赞同·19评论文章147赞同·19评论文章147赞同·19评论文章147赞同·19评论文章148赞同·19评论文章148赞同·19评论文章148赞同·19评论文章149赞同·19评论文章151赞同·19评论文章154赞同·19评论文章154赞同·19评论文章154赞同·19评论文章155赞同·19评论文章158赞同·23评论文章158赞同·23评论文章164赞同·23评论文章quantkoala：跟踪“聪明钱”，巧用北向资金进行大盘择时（策略Alpha:14.5%，附源码）46赞同·9评论文章72赞同·9评论文章72赞同·9评论文章72赞同·9评论文章73赞同·9评论文章73赞同·9评论文章73赞同·9评论文章74赞同·9评论文章74赞同·9评论文章75赞同·9评论文章75赞同·9评论文章75赞同·9评论文章75赞同·9评论文章77赞同·9评论文章79赞同·9评论文章80赞同·9评论文章80赞同·9评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）69赞同·8评论文章70赞同·8评论文章70赞同·8评论文章70赞同·8评论文章77赞同·10评论文章79赞同·10评论文章83赞同·10评论文章quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略49赞同·6评论文章50赞同·6评论文章51赞同·8评论文章quantkoala：动物庄园：商品期货跨品种套利策略16赞同·0评论文章17赞同·0评论文章17赞同·0评论文章19赞同·0评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2560465280",
        "comment_count": 2,
        "voteup_count": 36,
        "question_title": "http://www.zhihu.com/api/v4/questions/36411902",
        "question_url": "MACD指标在量化策略实战中如何应用？"
    },
    "2558801948": {
        "created_time": 1656949179,
        "content": "我之前也好奇为什么MACD的默认参数是（12，26，9），刚好前段时间周末有空，好好探寻了一番，发现这3个数字的确有它的设置逻辑。MACD的具体计算方式和使用方法就不再赘述了，先说说参数的定义，“12”（SHORT）是短周期均线的计算长度，“26”（LONG）是长周期均线的计算长度，“9”（MID）是对长短均线离差值计算平均时的长度。“遍览”了网上关于MACD的资料，虽然没有找到MACD之父GeraldAppel（杰拉德·阿佩尔）的详细生平资料和MACD研发的心路历程，但看到了一些有趣的说法，下面慢慢说来。在坊间，大伙儿对“12”和“26”的来历说法都较为一致。相传，在Gerald发明MACD的上世纪70年代，漂亮国交易市场仍在“996”，采用的是单休制度，一周有6个交易日，于是“12”对应的是两周。每个月有4周，一周休息一天，那么30-4=26，“26”对应的是一个月。但是查了道琼斯工业指数和麦当劳的历史日K图，发现一周并没有6根Bar，说明至少在漂亮国股票交易市场并没有“996”，觉得更可能是Gerald关注的交易品种一周是交易6天，类似于期货从周一上午交易到周六凌晨。MACD默认参数中的“12”和“26”都好解释，但是关于“9”的来历就众说纷纭了，目前主要有3种说法。第一种说法，“9”纯粹是作者喜欢的观察周期，萝卜白菜，各有所爱，没有9的话，还可以是8或者10，到时候我们一样会疑惑。第二种说法，“9”对应的是一周半，上文说了，那时候是一周交易6天，那“9”正好是一周半。第三种说法，也是跟一周交易6天有关，不过这种说法显得更高大上一些，“9”是每周交易日数目乘以概率密度系数后的结果，其中1/sqrt(2π)是标准正态分布的概率密度函数的系数。现在终于对MACD的默认参数（12，26，9）是怎么来的，终于有些眉目了，以后我们要是对MACD的参数进行调整就有底了。我国目前一周是交易5天，所以常用的均线默认设置周期都是5的倍数，例如5、20、60、120分别对应1周、1个月、3个月、半年，因此，在MACD中，短均线和长均线的周期可以分别设置为10和20（依旧是对应2周和1个月）。第3个参数的确定，关键是在于你觉得哪一种说法更合理。如果是第一种，那就可以随心所欲了，适合自己的观察周期就好。如果是第二种，那一周半就是对应1.5x5=7.5，MACD的默认参数可以设置为（10，20，7）或者（12，26，8）。如果是第三种，那MACD的默认参数可以设置为（10，20，7）。补充说明，如果是其他交易领域，比如说大饼圈，一周则是交易7天，MACD的默认参数要基于7天计算，例如（14，30，10）。如果觉得MACD反应不够灵敏，可以将参数等比例缩小，例如（7，15，5）。更多相关资料请见：quantkoala：唠一唠指标之王MACD的另类用法：高低形态短线量化策略quantkoala：跟踪“聪明钱”，巧用北向资金进行大盘择时（策略Alpha:14.5%，附源码）quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)",
        "url": "http://www.zhihu.com/api/v4/answers/2558801948",
        "comment_count": 9,
        "voteup_count": 109,
        "question_title": "http://www.zhihu.com/api/v4/questions/50889736",
        "question_url": "股票指标MACD（12，26，9）中的12，26和9分别代表什么？"
    },
    "2551268965": {
        "created_time": 1656511111,
        "content": "题主已经意识到了“非线性可能过拟合”，非常棒，复杂的模型往往缺乏泛化能力容易过拟合，简单模型粗线条策略往往更有生命力。今天介绍一种更粗线条的因子联合方式，在F-Score多因子模型当中，因子被转化成0-1数值，以分数的形式联合汇总在一起。多因子模型F-Score是出自Piotroski的论文《ValueInvesting:TheUseofHistoricalFinancialStatementInformationtoSeparateWinnersfromLosers》，在华创金工的研报《双重筹码集中的基本面选股策略》中也被重点推荐过。愿意看原文探究细节的小伙伴，可以点击下方卡片阅读或下载，只想抓住内核框架的，听我唠一唠就能了解个大概了解了~http://citeseerx.ist.psu.edu/viewdoc/download;jsessionid=0306A4C4E259CB6FE132162F09CECD1C?doi=10.1.1.141.5533&amp;rep=rep1&amp;type=pdf​citeseerx.ist.psu.edu/viewdoc/download;jsessionid=0306A4C4E259CB6FE132162F09CECD1C?doi=10.1.1.141.5533&amp;rep=rep1&amp;type=pdf格雷厄姆和巴菲特等价值投资大师，每天挂在口头上的就是“用合理价格买优质股票”，“合理价格”看估值或风险承受能力，那股票的优质与否用什么衡量呢？这时候就轮到F-Score模型闪亮登场了。简单来说呢，F-Score就是一个利用9个因子对股票基本面进行评分的模型，得分越高，股票就约优质，这9个因子呢，都是可以基于财报数据计算出来的，因子清单和计算方式如下表所示。大概浏览一下上表，每个因子的取值只有0或1，当满足条件时，取值为1，反之为0。每满足一个条件得1分，满足N个条件得N分，因此，F-Score模型的最高评分就是9分。再详细看到每个因子~【资产收益率】用来衡量这个企业的盈利能力，“扣非”是为了剔除类似于卖房子设备、炒股投资带来的盈利，大于零表示企业处于盈利状态。【经营活动产生的现金流量净额比总资产】表示经营业务给企业带来的实际现金流入，因为利润里面是可能包含应收票据或应收账款的，类似于你去小卖部买东西赊账，小卖部账面盈利，但实际没有收到钱，大于零表示有实际的现金流入，企业真金白银的盈利。【资产收益率变化】表示企业盈利能力变化，大于零表示企业盈利加速，处于扩张状态。【应计收益率】比第二个因子更进一步地衡量企业真金白银的盈利能力，大于零表示企业盈利更为真实。【长期负债率变化】用来衡量企业偿债能力的变化，长期负债率=非流动负债/资产总额，小于零表示企业偿债能力增强。【流动比率变化】用来衡量企业变现能力的变化，流动比率=流通资产/流动负债，流动比率数值越大，企业的变现能力就越强，流动比率大于零表示企业的变现能力在增强。【股票是否增发】表示企业是否向股市再融资圈钱，不融资则表示企业依靠自身可以造血，有健康的现金流。【毛利率变化】衡量企业的竞争力变化，众所周知，如果企业没有行业壁垒护城河，则随着竞争者的融入，企业的毛利率会降低，大于零表示企业的竞争力在变强。【资产周转率变化】用来衡量企业的营运效率和管理质量，资产周转率=总营业额/总资产，资产周转率越高则表示企业能很好地利用自身资产生产商品/服务并销售出去，大于零则表示企业的营运效率和管理质量在提升。那这来自海外的F-Score基本面评分模型在中国A股是否有效呢，华创金工做了一个试验，将F-Score得分在0~3之间的股票归为Low组，4~6分的为Middle组，7~9份的为High组，进行分组回测，结果如下。从分组回测结果中看出，净值曲线是明显分层的，说明F-Score模型能起到一定的区分能力。对于个人而言，不需要投资那么多的股票，那我们就直接筛选F-Score得分为9的股票进行投资。依照这个简单朴素的思想，回测一下从2014年至今这个策略的绩效，如下所示。方便PC端观看的横版图：方便手机端观看的竖版图：从回测当中看出，相对于大盘的超额收益率不错，有23.4%，但同时也可以看出，由于是纯多头策略，部分时间收益率曲线也是横盘的，需要耐得住寂寞才能执行下去。从整个策略逻辑当中可以看出，在这9个因子里面，每个因子的取值只有0或1，然后把这9个因子得分汇总起来即可，这种因子联合方式是不是很简单，但取得的效果还过得去。不是想说明这种因子联合/加权方式最好，而是想表达，在一开始构建多因子模型的时候，没必要就把加权方式搞得那么复杂，从简单的开始，就跟奥卡姆剃刀原理一样：如无必要，勿增实体。F-Score策略源码如下：更多相关内容请见：quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？quantkoala：量化本无妙手，背后都是坚实的本手：波动率不对称性RSJ量化策略quantkoala：中国版“漂亮50”量化策略，来我家做客了（年化20%+）quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略quantkoala：跟踪“聪明钱”，巧用北向资金进行大盘择时（策略Alpha:14.5%，附源码）quantkoala：量化萌新向ETF择时策略：当北上资金遇上布林带（年化22%+，大神请绕行）quantkoala：跟着“基金一哥”张坤量化选股的快乐，你想象不到！策略年化收益39.9%",
        "url": "http://www.zhihu.com/api/v4/answers/2551268965",
        "comment_count": 6,
        "voteup_count": 202,
        "question_title": "http://www.zhihu.com/api/v4/questions/43439162",
        "question_url": "多因子模型选股策略，是如何将多个因子联合在一起的？"
    },
    "2551235525": {
        "created_time": 1656509598,
        "content": "单因子策略都能很好地应用于期货市场，更何况是多因子模型呢？以期货市场当中常见的期限结构里的展期收益率因子为例，它被常用来组成期货多因子策略。什么是期限结构呢？下面贴一段学术范儿的解释：同一商品期货品种有多个不同到期日的期货合约，将不同月份合约价格连接起来可以得到商品价格的期限结构（TermStructure）。如果近期价格高于远期价格，期货期限结构向下倾斜，这种情况称为期货贴水（Backwardation），或叫做现货升水，也叫作现货溢价。如果远期价格高于近期价格，期货期限结构向上倾斜，这种情况称为期货升水（Contango），或叫做现货贴水，也叫作期货溢价。萌新第一次看可能一头雾水有点懵，内心OS：这是啥玩意儿啊！那请忽略以上文字，举个栗子打比方，我们静下心来唠唠。比如说，螺某钢合约和当前价格如下：螺某钢2205合约：5504螺某钢2210合约：4884螺某钢2301合约：4817你瞧，随着交割日期越靠后，合约的价格就越低，这就是近期合约的价格高于远期合约的价格，如果将日期画在横轴（X轴）上，将合约价格画在纵轴（Y轴）上，那就是一条逐渐走低的价格曲线，学术范儿叫法就是期限结构向下倾斜，称为期货贴水（Backwardation）。又比如说，沪某铝合约和当前价格如下：沪某铝2205合约：21090沪某铝2206合约：21120沪某铝2207合约：21140这个品种的情况刚好就跟之前螺某钢恰巧相反，随着交割日期越靠后，合约的价格就越高，这就是远期合约的价格高于近期合约的价格，那是一条逐渐走高的价格曲线，学术范儿叫法就是期货期限结构向上倾斜，称为期货升水（Contango）。一般从纯理论来说，期货升水（Contango）是商品期货正常的结构，因为近期合约和远期合约价格关系如下：远期合约价格=近期合约价格+仓储、物流、利息各项杂七杂八的费用这个公式就解释了为什么之前纽商所的原油2005合约价格出现“-40美元/桶”，你没看错，商品价格就是负数，就是你买一桶原油卖方还倒贴你40美元，而当时其他的远期合约价格都是正数。这其中的原因是，买入原油交割，别人只给你油，你自己得拿东西去装回来，而当时原油价格偏低，附近的化工企业就不断收油，都把油罐基本上装满了，临近交割的时候，你自己买个桶或者存在特定的仓库里，存一桶油就可能要花50美元以上，这就是为啥原油卖方愿意贴钱给你让你把油弄走的原因之一（本质原因还是供求关系）。了解完了期限结构，怎么指导我们投资交易呢？按照当前的期限结构，是可以反推商品/品种的市场供需情况的，根据仓储理论和顺势而为的交易理念，当商品库存偏低（供小于求）的时候，近月合约价格将出现更大幅度的上行，从而更容易导致近月合约较远月合约升水，此后由于库存可能继续偏低，则商品价格将继续上涨；相反，当商品库存偏高（供大于求）的时候，近月合约价格将出现更大幅度的下行，从而更容易导致近月合约较远月合约贴水，此后由于库存可能继续偏高，则商品价格将持续下跌。铺垫了这么多，了解完了期限结构和指导原则，这就轮到展期收益率（RollYield）因子的核心公式登场了，如下所示。其中，ln(*)是以自然对数函数，Pn是近月合约当前价格，Pd是远月合约当前价格，Nn是近月合约交割日期距当前日期的天数，Nd就是远月合约交割日期距当前日期的天数。那么，“ln(Pn)-ln(Pd)”可以看成是近月合约较远月合约的对数溢价率，如果只是横截面比较大小排序，直接用正常的溢价率就可以了，不需要用对数形式，更符合普通人习惯。“365/(Nd-Nn)”就是对溢价率进行年化处理，方便不同期限合约的溢价率进行统一比较。当近月合约价格高于远月合约价格时，当前的展期收益率为正；当近月合约价格小于远月合约价格时，当前的展期收益率为负数。在近月和远月的选择时，不同人也有不同的选择方案：近月和次近月，近月和主力，近月和最远月，主力和次主力。这些都是可选方案，在实践当中，主力和次主力的结合会好一些。根据之前说的指导原则，展期收益率高的品种价格将会更大概率上行，展期收益率低的品种价格将会更大概率下行，因此就产生了一个朴素的对冲策略想法：在时刻T，做多展期收益率最高的N个品种，同时做空展期收益率最低的N个品种，等市值对冲，定期换仓。有了想法，说干就干，回测一下，效果还行，就是回撤大了一些，不过这还是个毛坯版的策略，还有很多更精细的优化方向可以考虑，比如还要参考商品现货价格、商品价格趋势、波动率放大收敛、加入止盈止损等~~~其他相关内容：quantkoala：动物庄园：商品期货跨品种套利策略quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)quantkoala：又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略(年化20.6%)quantkoala：『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01quantkoala：一个号称“买在低点，卖在高点”的震荡策略Q02（从60万到650万）quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？",
        "url": "http://www.zhihu.com/api/v4/answers/2551235525",
        "comment_count": 5,
        "voteup_count": 75,
        "question_title": "http://www.zhihu.com/api/v4/questions/41137095",
        "question_url": "有没有可能将多因子模型用于期货市场？"
    },
    "2549853906": {
        "created_time": 1656435484,
        "content": "如果要找量化交易策略实盘的话，建议从已经被市场验证的成熟策略出发，今天我就腆着脸推荐一个吧，这个策略就是TrendModelSys。它就是来源于《FuturesTruthMagazine》杂志的交易系统上榜策略，在2017年第2期的FT热榜中，该策略在“自发布以来表现Top10”和“单市场自发布以来表现Top10”排名全球第9，提供者为DavePoxon。这个《FuturesTruthMagazine》杂志，是美国著名权威的交易系统评选杂志之一，会定期通过不同维度对庞大的策略库进行跟踪评选（跟踪的策略库请点击下方链接查看）。由于美国的量化投资发展比中国早很多，于是也称为了海外归来的量化从业人员常看的一本杂志。http://futurestruth.com/wp-content/uploads/2017/06/SystemsTracked2.2017.pdf​futurestruth.com/wp-content/uploads/2017/06/SystemsTracked2.2017.pdf这些交易系统一般都被用于大宗商品、股票、外汇、股指期货等多个市场，由于进入排名榜单的交易系统业绩表现并不是一直稳定的，于是榜单会区分“上市以来/最近一年”和“单市场/多市场”进行区分排名，我们平时经常听到的Aberration和R-Breaker等交易系统，就是这个榜单的常客。TrendModelSys策略最早期的开发实现是在TradeStation平台完成的，该TS平台在美国已有30多年的历史，开发语言为EasyLanguage。后来在2017年底，经某私募大神A引入，并移植到交易开拓者TB、金字塔和MultiCharts平台上，并有偿地进行小范围分享。浏览了一遍策略源码，这个策略是一个趋势突破的交易系统，利用MACD快(DIF)慢(DEA)线的金叉死叉，当证券价格突破过去N次金/死叉记录的“最高/低价±0.5倍ATR”时，开仓；若持有多头仓位，当证券价格回落至M根K线最低点平仓；若持有空头仓位，当证券价格上升至过去M根K线最高点平仓。2017年底的回测盈亏曲线：2021年经私募大神B改进后的回测盈亏曲线：做过量化策略开发的小伙伴都知道，在突破系统当中，上下轨构建的常用方法之一就是指定时间范围的最高/低价的极值，或者其他代理指标的极值，比如经典的海龟交易法则开仓信号就是突破N个周期的最高价。TrendModelSys策略让人耳目一新、眼前一亮的地方就在于，它不是指定时间范围来构建上下轨的，而是采用N次MACD双线金叉/死叉对应的代理指标的极值来作为开仓信号，相当于是使用了关键点的量价数据，而不是所有“良莠不齐”的数据点。如果感兴趣且有空，可以看看以下一些有趣的量化策略。quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01quantkoala：一个号称“买在低点，卖在高点”的震荡策略Q02（从60万到650万）quantkoala：还来唠一唠曾在全球量化策略热榜上排名第4的TheBigBlue策略(年化57.6%)quantkoala：又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略(年化20.6%)quantkoala：『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略104赞同·4评论文章106赞同·4评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）111赞同·19评论文章112赞同·20评论文章115赞同·20评论文章115赞同·20评论文章115赞同·20评论文章116赞同·22评论文章116赞同·22评论文章116赞同·22评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）69赞同·8评论文章70赞同·8评论文章70赞同·8评论文章70赞同·8评论文章77赞同·10评论文章79赞同·10评论文章83赞同·10评论文章quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略49赞同·6评论文章50赞同·6评论文章51赞同·8评论文章quantkoala：动物庄园：商品期货跨品种套利策略16赞同·0评论文章17赞同·0评论文章17赞同·0评论文章18赞同·0评论文章quantkoala：跟踪“聪明钱”，巧用北向资金进行大盘择时（策略Alpha:14.5%，附源码）",
        "url": "http://www.zhihu.com/api/v4/answers/2549853906",
        "comment_count": 7,
        "voteup_count": 187,
        "question_title": "http://www.zhihu.com/api/v4/questions/475793802",
        "question_url": "如果要自己做一套量化交易系统，有没有推荐的策略？"
    },
    "2549830097": {
        "created_time": 1656433656,
        "content": "看到题主特地在问题描述中加粗凸显【策略合集】，就不自主地想起这本前NASA登月科学家写的量化神作，涵盖了261个策略/指标，妥妥的一场策略饕餮盛宴。这本量化神作就是佩里•考夫曼的《交易系统与方法》（TradingSystemandMethods），英文原版和中文版均有。说起这老爷子，国人可能觉得很陌生，但在量化圈子里，或多或少都听说过“考夫曼均线”，学名为“自适应移动均线”（AdaptiveMovingAverage，简称AMA），这就是他的杰作之一。考夫曼均线在传统的EMA均线中引入了“价格效率系数”，自适应动态调整均线的灵敏度，市场震荡时偏向于使用慢线，市场单边趋势明显时偏向于使用快线，从而更加真实地反映市场趋势，抓住上涨/下跌时机，规避市场来回震荡的影响。从AMA均线的设计当中，便可以窥见这位前NASA登月科学家、现如今量化先驱的交易智慧了，如果想学习考夫曼老爷子更多的策略/指标，这本《交易系统与方法》绝对不容错过。在本书当中，披露了老爷子数百个交易策略和技术指标，而且全部都有对应的源代码。并且，里面的量化策略编程语言都是很偏口语化的，只要能认识简单的英文，不敢保证你能顺滑地编写策略，但是看懂策略的交易思想是铁定没问题的。因为其中所使用的量化平台被设计的初衷就是“让未曾受过专业计算机培训的交易者，也能够轻松简便地建立自己的量化交易策略”。不信啊，那就打开策略源码文件来瞅瞅，其中是截取的部分源码，写上注释对照，相信这样口语化的策略大部分有经验的人都能看懂吧~再废话一句，不要排斥其他编程语言或其他领域的策略源码，站在巨人肩膀上，博采众长，取精去粕，也许你今天向前的一小步，可能就是你量化交易生涯迈出的一大步。传送门：其他内容推荐：quantkoala：量化投资书单推荐，20本拿走不谢！",
        "url": "http://www.zhihu.com/api/v4/answers/2549830097",
        "comment_count": 6,
        "voteup_count": 43,
        "question_title": "http://www.zhihu.com/api/v4/questions/266072600",
        "question_url": "有没有值得推荐的介绍有名的量化投资策略的书籍？"
    },
    "2540219617": {
        "created_time": 1655898115,
        "content": "个人看来，量化策略灵感的获取可以分为三个层面：公开免费获取的资料；公开付费获取的资料；量化小圈子内才能获得的资料。需要补充说明的是，第三层是有钱也不一定买到，取决于你是否在这个圈子以及大神是否信任你。第一层：公开免费获取（干货度：★☆☆☆☆）第一层主要有以下3大来源：书籍(纸质or电子)：可以在量化书籍、交易书籍、名人访谈等书籍中总结出量化策略，但不一定有源码。研究报告：各大券商的策略研究报告，最好是金融工程的研报，策略会描述得更为详细，一般情况下没有策略源码。各大Quant平台：平台上会有许多Quant们分享自己实现的策略，一般会有源码，可能需要积分才能查看或下载。这些渠道对于萌新Quant们是非常好的学习资料，除了能锻炼自己实现策略的能力之外，还能给自己树立主流的交易思想。因为是公开就能找到，并且是免费获取的，在知乎某度某狗上一搜就有很多，在此不再赘述。其实，只要你肯花时间，一定能在互联网上搜索到各种免费公开的量化策略交易思想和对应源码，然后按照上面的方法，分析出可参考的策略实现方案。第二层：公开付费获取（干货度：★★★☆☆）第一层的量化策略基本都是免费的，但良莠不齐，好坏难分，干货度偏低，需要在众多玩具性质的策略中筛选出“金矿”，有点儿耗时费力。但每个人的精力是有限的，对于部分人来说，花大量时间搜集良莠不齐的量化资料，认为是一件很不值得的事情。PS:有免费的当然先用免费的，白piao是本性，对于付费问题，每个人的观点不一样，但如果付费能加速我们的成长，倒是可以低成本试错。试问，你走过的路前人也走过，前人总结的经验，几百块钱请他吃顿饭让你避开这几年踩的坑，自己是否愿意？此时，很多优秀的策略提供者应运而生，他们或将玩具性质策略当中的“金矿”改进优化，或将交易大神的策略思想量化编程实现，或是对近期行情的观察开发出新的策略，最终将策略详细描述和策略源码一同打包出售。因为是要拿出来卖的，所以至少在回测层面的收益和绩效都是非常亮眼的，能大概适合过去的大部分行情，干货度大幅提升。以个人为例，这样的付费量化策略(附源码)，之前学习的时候，购买了将近200套，其中最多的是某某宽客、某某侠、某量投中心、S策源码、F博士实盘源码等好几个系列的策略源码，市面上主流的策略源码系列基本都收集完整了吧。这些策略源码中，大部分是期货策略(CTA)，感觉同时也适合外汇和数字货币，小部分是股票策略。期货策略(CTA)覆盖了国内主要的四大期货量化/程序化平台：开拓交易者（TradeBlazer，简称“TB”）、文华财经（简称“文华”）、金字塔决策交易系统（简称“金字塔”）和MultiCharts（简称“MC”）。直接导入对应平台就可以查看源码和回测实盘，使用方便。股票策略主要是使用Python实现，基于聚宽（JoinQuant）和优矿（Uqer）这两个中国头部量化平台，也是带策略源码，一键回测，使用方便。第三层：小圈子付费也不一定获取（干货度：★★★★★）这个圈子对普通Quant来说就不太友好了，一般是比较难获取。一般来说，这样的圈子进入有一定门槛，不是说有钱能进，还得认识圈里大神，大神还得信任你，把策略思想告诉你，甚至把数据和代码都给你看。PS:这里的小圈子特指量化大神/策略高手运营的私密圈子，其他的量化社群可以参考“第二层：公开付费获取（干货度：★★★☆☆）”。以下提及资料仅做展示，不会在自运营社群中分享！我给大家展示几个“脱敏”的吧（1）头部公募基金的委外课题（策略+源码+数据）这是国内某头部公募基金的委外课题，委托给某券商金工研究部，主要是研究行业轮动当中的因子是否具有领先指导意义，建立了多个行业轮动模型。大神分享的资料包中包含了完整的策略报告、策略源码和数据文件，让我们当初这些量化井底之蛙也大开眼界，见识到了真正量化正规军的武器装备。（2）北大Quant大神的高频研究（策略+源码+数据）（3）香港Quant大神的二级交易核心分享补充说明，本回答内容主要参考之前自己写的文章《如何打造「量化策略兵器库」，策略开发效率提高10倍？》如何打造「量化策略兵器库」，策略开发效率提高10倍？",
        "url": "http://www.zhihu.com/api/v4/answers/2540219617",
        "comment_count": 4,
        "voteup_count": 19,
        "question_title": "http://www.zhihu.com/api/v4/questions/465643790",
        "question_url": "如何去寻找至少过去是成熟的量化交易策略或者寻找自己开发量化策略的灵感，途径有哪些？"
    },
    "2540184357": {
        "created_time": 1655896326,
        "content": "在我短暂的个人经历中，深刻地感觉到，没有什么因子是一直有效的，当初夺目耀眼的因子会随着使用的人数增加，或者背后的金融逻辑/政策改变，而黯然失色。在宽客的眼中，从2017年因子风格突变来算，单纯的小市值因子失效已经有5年了吧，从2008以来持续高更猛进的小市值因子，突遭一盆冷水透心凉，至今还“一蹶不振”，纯小市值因子近3年回测绩效如下，从累计收益率图中可以看出，用惨不忍睹来形容也毫不为过。因子或策略失效，这是再正常不过的事情，如同饿了吃饭、冷了穿衣和胖了减（tang）肥（ping）一样正常。失效已然发生，跳着脚骂街也是解决不了问题，关键是优化重构因子，让策略重现昔日荣光，将小市值“重构”后的绩效表现。让小市值策略重新焕发生机所采用的优化/重构方法，就是使用之前文章里面提到过的“因子切割”方法，它除了可以在数据内部使用之外，还可以用在因子间，使用另外的辅助因子对原始因子进行“切割”，目的是一刀切下去，去糟粕，存精华。quantkoala：量化本无妙手，背后都是坚实的本手：波动率不对称性RSJ量化策略45赞同·6评论文章这样说起来感觉有点儿太抽象，不利于经验较少的萌新宽客理解，咱先来说个大数据抓恐怖分子的故事吧。话说，自从911事件发生后，各国都逐渐增加了军事开支，拉开了大数据反恐的序幕，不能等到恐怖分子犯事儿了再把他们抓住，要在恶性事件发生之前把他们揪出来。视角转到英国，彼时政府发现当地的M斯林非常值得怀疑，因为已经被抓的很多恐怖分子都是M斯林，特别是那种银行账户里突然一大笔钱存进去，然后不断以小额现金取现的M斯林，即使如此，待筛查的人群范围依旧非常大。在焦头烂额之际，经济学家霍斯利解决这个难题，只用到了一个非常简单的辅助筛选条件，那就是“是否购买保险”，事后英国警方根据“M斯林+保险”这两个条件，果然抓到了恐怖分子。因为在英国这种左派国家，福利一直都非常好，发福利非常重要的一个渠道之一就是保险，而且保险卖得也不贵，丐版保险都能解决常见的医疗问题，一般正常的英国公民和长期居住者都会买，但在保险兑付时，有一个前提条件，那就是被保人不能是恐怖分子，也就是说，恐怖分子买保险，即使出现了合同约定的风险事件，也得不到任何赔付，潜台词就是：正常智商的恐怖分子大概率不会买保险，因为得不到赔付！小市值因子就像这个故事里面的“M斯林”，很多涨得好的股票市值都不大，但并不是所有小市值股票都涨得好，咱需要引入一个辅助条件，把涨得少的股票过滤掉一部分，尽量留下涨得好的股票，这个过滤条件就如同故事中的“是否购买保险”。那给小市值因子找的过滤条件是什么呢？目前发现效果比较显著的过滤条件就是“绩优”，也就是筛选有基本面支撑的小市值股票。不过“绩优”可能比较玄学，因为每个人判断股票基本面优秀所使用的指标皆不相同，那这里只能腆着脸说我目前发现的条件指标，那就是首先使用PEG和EBIT筛选基本面扎实的股票。PEG的全称是“市盈率相对盈利增长比率”，其中“PE”就是咱常说的市盈率，“G”就是盈利增长率（profitGrowth），计算方法就是用公司的市盈率除以公司的盈利增长速度，也就是PEG=PE/G。从公式当中可以看出，PEG数值越小，估值越低，成长率越高，股票越被低估。PEG跟PE一样，同属于估值指标，衡量当前股价是偏贵了还是依旧便宜，但为什么不用PE而用PEG呢？因为PE有个比较大的缺陷，那就是不同行业之间的PE值不可比，有的行业PE普遍是几倍，有的行业普遍是几十倍，同样是10倍PE，有的行业显得低估，有的行业显得高估。因此，为了使估值指标在所有股票当中横截面可比，选用PEG，而不是常用的PE。EBIT的全称是“息税前利润”（EarningsBeforeInterestandTax），是指企业在扣除利息和所得税之前的企业利润，该指标主要是用来衡量企业主营业务的盈利能力。简单点儿来说，EBIT就是你在财报上看到净利润这个数值后，再把利息和所得税加回去。那为啥不用大伙儿喜闻乐见的净利润，而用EBIT呢?其实是有这种考虑，因为利息和所得税本身就是公司主营业务赚回来的真金白银，只不过是后面支付出去了而已，为了方便考察主营业务的盈利能力，而暂时不考虑不同地区、行业、法律导致的不同税率和融资成本。举个例子，可能不是很恰当，方便萌新理解，假设我跟王X聪都是月光族，每个月都花光父母给的零花钱，虽然我们的“净利润”都是0，但很明显王公子更富有，未来的潜力也更加巨大。不贫嘴了，说会正经事，新版的小市值策略跟原版的比较，就是不单单只根据市值大小进行排序筛选股票，而是首先使用PEG和EBIT对股票池进行筛选，剩下的股票再按市值大小排序，也就是选择绩优的小市值股票，回测绩效如下图所示。单纯按照市值排序的旧版小市值策略回测绩效（近3年）：增加绩优过滤条件的新版小市值策略回测绩效（近3年）：从对比回测中可以看出，在旧版小市值策略失效的年月里，新版小市值策略也取得了可人的超额收益，为了排除“阶段效应”，接着进行一个长达12年的回测，如下。增加绩优过滤条件的新版小市值策略回测绩效（2010年至今）：横版方便PC端观看竖版方便手机端观看对了，如果想了解更多“经典因子”、“因子切割”和“因子组合”方面的知识，可以看RichardTortoriello写的《QuantitativestrategiesforachievingAlpha》（中译本《量化投资策略：如何实现超额收益》）。小市值因子已然凉凉，绩优小市值依旧狂浪更多相关内容请见：quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章289赞同·12评论文章298赞同·12评论文章299赞同·12评论文章299赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章57赞同·2评论文章61赞同·2评论文章61赞同·2评论文章61赞同·2评论文章quantkoala：『导数』在量化策略中的妙用：日内波动极值vs低阶多项式拟合策略104赞同·4评论文章104赞同·4评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)294赞同·13评论文章299赞同·13评论文章311赞同·13评论文章314赞同·13评论文章333赞同·14评论文章333赞同·14评论文章333赞同·14评论文章334赞同·14评论文章336赞同·15评论文章336赞同·15评论文章336赞同·15评论文章340赞同·15评论文章343赞同·15评论文章343赞同·15评论文章345赞同·14评论文章346赞同·14评论文章350赞同·14评论文章353赞同·18评论文章353赞同·18评论文章353赞同·18评论文章quantkoala：又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略(年化20.6%)115赞同·2评论文章118赞同·2评论文章120赞同·2评论文章124赞同·2评论文章132赞同·2评论文章132赞同·2评论文章132赞同·2评论文章133赞同·2评论文章133赞同·2评论文章134赞同·2评论文章135赞同·2评论文章135赞同·2评论文章135赞同·2评论文章137赞同·2评论文章138赞同·2评论文章140赞同·2评论文章141赞同·2评论文章142赞同·2评论文章143赞同·2评论文章143赞同·2评论文章quantkoala：【策略干货度：★★★☆☆】如何获取源源不断的量化策略？（CTA/期货策略合集篇）46赞同·0评论文章47赞同·0评论文章47赞同·0评论文章47赞同·0评论文章48赞同·0评论文章49赞同·0评论文章54赞同·0评论文章54赞同·0评论文章54赞同·0评论文章54赞同·0评论文章54赞同·0评论文章54赞同·0评论文章54赞同·0评论文章56赞同·0评论文章56赞同·0评论文章57赞同·0评论文章59赞同·0评论文章59赞同·0评论文章60赞同·0评论文章61赞同·0评论文章61赞同·0评论文章61赞同·0评论文章quantkoala：【策略源码】曾经收集过的量化策略/程序化交易策略源码合集（CTA/商品期货篇）26赞同·6评论文章27赞同·6评论文章27赞同·6评论文章27赞同·6评论文章28赞同·6评论文章28赞同·6评论文章31赞同·6评论文章32赞同·6评论文章32赞同·6评论文章32赞同·6评论文章32赞同·6评论文章33赞同·6评论文章34赞同·6评论文章35赞同·6评论文章35赞同·6评论文章36赞同·6评论文章38赞同·6评论文章38赞同·6评论文章39赞同·6评论文章41赞同·10评论文章41赞同·10评论文章41赞同·10评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）111赞同·19评论文章112赞同·20评论文章115赞同·20评论文章115赞同·20评论文章115赞同·20评论文章116赞同·22评论文章116赞同·22评论文章116赞同·22评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）69赞同·8评论文章70赞同·8评论文章70赞同·8评论文章70赞同·8评论文章77赞同·10评论文章79赞同·10评论文章81赞同·10评论文章quantkoala：CTA策略中的Alpha：期限结构之展期收益率策略49赞同·6评论文章50赞同·6评论文章51赞同·6评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2540184357",
        "comment_count": 4,
        "voteup_count": 67,
        "question_title": "http://www.zhihu.com/api/v4/questions/54555068",
        "question_url": "小市值策略真的有效吗？"
    },
    "2509140265": {
        "created_time": 1653968650,
        "content": "恕在下愚见，腆着脸说说自己的想法，如果要保证自己量化策略的持续Alpha，一般来说有两条路子：路子1：寻找到新的数据源。比如说农产品期货中，卫星图估算作物种植面积产量，水文气候估计长势病虫害；消费股中，电商平台爬虫估算产品销量盈利情况等。路子2：对现有数据采用新的处理方法。比如用现有量价数据构建新的趋势衡量方式，采用多级结构出场找卖点。路子1一般大机构资金雄厚才能玩得转，路子2更适合小机构和个人量化投资者。我经常被群友怼：要找新方法谁都知道，说得很轻巧，找起来可不容易！被怼已然习惯，也不急也不躁，也不会跳着脚骂人，谁都有过暂时“迷茫”的阶段，互相理解。一般“找新方法”也有两条路子：路子1：自己观察市场，总结规律，提取模型，实盘测试优化。路子2：站在巨人肩膀上，筛选前人的交易策略进行改进优化。路子1一般耗时比较长、比较费力，但好处是自己对规律的把握刻骨铭心；路子2比较简单、比较快速，坏处找错“巨人”的话，容易被“割韭菜”。对于量化萌新而言，建议先选【路子2】，因为缺乏经验的情况下，【路子1】比较难出结果，打个不恰当的比方，【路子1】就像是在未知区域淘金，【路子2】就想是在标明富金矿的区域淘金，总体来看，前者淘到金子的概率没有后者高，即使后者可能是“虚标”，还是得相信这个世界还是好人多啊。每当量化思路枯竭的时候，可以多去看量化大神的量化策略，市面上相关的资料很多，自行筛选，很多时候，多多少少还是有一定的启发。这样腆着脸瞎BB空说也没啥意思，举个栗子，方便有更生动形象的理解。比如常看常新的《程序化交易教案》，作者是一位来自香港的量化交易员，现居深圳，目前从事内地期货商品和环球期货商品交易，书里包含了很多二级核心，一级核心关键还是靠自己理解和开悟。贴一些内容感受一下，大家可以按照这个方向去寻找。quantkoala：【量化干货03】硬核量化干货密度最高的教程《程序化交易教案》，没有之一！接下来说说这位量化大神的一个异质化另类量化策略——“K线面积交易法”，用的人应该不多，至少我身边是这样（很大可能是我格局小了），感受一下量化大神的大脑洞。现在大家随意打开股票/期货的K线图，任意周期的都可以，观察一下，是不是当价格出现大涨时，价格迅速向上，而均线跟不上，价格K线跟均线的间隙就会越来越大，围成的空间也会越来越大，大跌时也是这样。在这里，“K线面积”指的就是价格K线跟均线之间围成空间的面积，如上图红线围成的蓝色区域，实际计算时，就是把K线与均线两个交点之间的每根Bar收盘价减去均线值，然后求和就可以得到。在出现长时间大涨时，“K线面积”会非常大。在处于震荡时，K线跟均线交织在一起，“K线面积”就会非常小。根据“物极必反”的原理，上涨的趋势幅度越大，时间越长，对应就是“K线面积”越大，其后走震荡市或震荡后反转的概率就越大。就跟弹簧一样，你把它拉得越长，反弹的力度也就越大，你压弹簧也是同样的原理。因此，可以给“K线面积”设定一个阈值，当达到这个阈值的时候，价格趋势就很有可能走完了，要出现反转。但这个阈值可能设置得非常“玄学”，为了再次确认趋势可能已经到了“强弩之末”，加入KDJ指标，判断当前是不是买卖情绪出现转换。判断“强弩之末”，大家也可以用其他的指标，这里只是举例。自此，便可以形成一个相对完整的量化策略，小结一下。多头开仓信号：（1）下降趋势的“K线面积”达到阈值，之前成立即可（2）KDJ指标值大于80（3）价格涨超前一根K线最高价加一倍ATR空头开仓信号：（1）上涨趋势的“K线面积”达到阈值，之前成立即可（2）KDJ指标值小于20（3）价格跌破前一根K线最低价减一倍ATR多头/空头出场：ATR跟踪止损止盈是骡子是马，牵出来溜溜，回测一下，效果还是不赖，盈亏比有1.83。回测盈亏曲线图：回测使用的策略主体源码：没头没脑说了这么多，都是个人愚见，还是希望对大家有帮助吧~~~Bequant，havefun！其他量化相关内容：quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章291赞同·12评论文章291赞同·12评论文章296赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章59赞同·2评论文章59赞同·2评论文章59赞同·2评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)294赞同·13评论文章299赞同·13评论文章311赞同·13评论文章314赞同·13评论文章333赞同·14评论文章333赞同·14评论文章333赞同·14评论文章334赞同·14评论文章336赞同·15评论文章336赞同·15评论文章336赞同·15评论文章340赞同·15评论文章343赞同·15评论文章343赞同·15评论文章345赞同·14评论文章346赞同·14评论文章349赞同·18评论文章350赞同·18评论文章351赞同·18评论文章quantkoala：又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略(年化20.6%)115赞同·2评论文章118赞同·2评论文章120赞同·2评论文章124赞同·2评论文章132赞同·2评论文章132赞同·2评论文章132赞同·2评论文章133赞同·2评论文章133赞同·2评论文章134赞同·2评论文章135赞同·2评论文章135赞同·2评论文章135赞同·2评论文章137赞同·2评论文章138赞同·2评论文章140赞同·2评论文章141赞同·2评论文章142赞同·2评论文章142赞同·2评论文章quantkoala：还来唠一唠曾在全球量化策略热榜上排名第4的TheBigBlue策略(年化57.6%)32赞同·4评论文章33赞同·4评论文章35赞同·4评论文章36赞同·4评论文章43赞同·4评论文章43赞同·4评论文章43赞同·4评论文章43赞同·4评论文章43赞同·4评论文章44赞同·4评论文章44赞同·4评论文章46赞同·4评论文章46赞同·4评论文章47赞同·4评论文章49赞同·4评论文章49赞同·4评论文章50赞同·5评论文章50赞同·5评论文章51赞同·5评论文章quantkoala：一个号称“买在低点，卖在高点”的震荡策略Q02（从60万到650万）114赞同·4评论文章115赞同·4评论文章116赞同·4评论文章116赞同·4评论文章117赞同·4评论文章117赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章122赞同·4评论文章122赞同·4评论文章122赞同·4评论文章124赞同·4评论文章125赞同·4评论文章130赞同·4评论文章132赞同·4评论文章134赞同·4评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01143赞同·19评论文章143赞同·19评论文章143赞同·19评论文章143赞同·19评论文章144赞同·19评论文章145赞同·19评论文章147赞同·19评论文章147赞同·19评论文章147赞同·19评论文章147赞同·19评论文章148赞同·19评论文章148赞同·19评论文章148赞同·19评论文章149赞同·19评论文章151赞同·19评论文章154赞同·19评论文章154赞同·19评论文章154赞同·19评论文章155赞同·23评论文章155赞同·23评论文章156赞同·23评论文章quantkoala：跟踪“聪明钱”，巧用北向资金进行大盘择时（策略Alpha:14.5%，附源码）46赞同·9评论文章72赞同·9评论文章72赞同·9评论文章72赞同·9评论文章73赞同·9评论文章73赞同·9评论文章73赞同·9评论文章74赞同·9评论文章74赞同·9评论文章75赞同·9评论文章75赞同·9评论文章75赞同·9评论文章75赞同·9评论文章77赞同·9评论文章77赞同·9评论文章78赞同·9评论文章quantkoala：中国版“漂亮50”量化策略，来我家做客了（年化20%+）21赞同·6评论文章21赞同·6评论文章21赞同·6评论文章22赞同·6评论文章27赞同·6评论文章27赞同·6评论文章27赞同·6评论文章28赞同·6评论文章28赞同·6评论文章28赞同·8评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）111赞同·19评论文章112赞同·20评论文章115赞同·20评论文章115赞同·20评论文章115赞同·22评论文章116赞同·22评论文章115赞同·22评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）69赞同·8评论文章70赞同·8评论文章70赞同·8评论文章73赞同·8评论文章74赞同·8评论文章76赞同·10评论文章quantkoala：动物庄园：商品期货跨品种套利策略17赞同·0评论文章17赞同·0评论文章17赞同·0评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2509140265",
        "comment_count": 7,
        "voteup_count": 103,
        "question_title": "http://www.zhihu.com/api/v4/questions/57292459",
        "question_url": "现在做量化的越来越多，同质化比较严重，自己的交易系统如何保持一种长久的优势？"
    },
    "2491632315": {
        "created_time": 1652887249,
        "content": "策略的核心是背后的交易思想，数学模型只是交易思想的数量化表达，如果交易思想错了，那再复杂高深的数学也于事无补。由于经营量化社群的原因，能看到的量化圈子稍微比萌新们大一些，我真的看过很多量化大神的实盘策略，涉及到的数学都没有超过高中范畴，但策略成功的原因并不完全在数学本身，而在于宽客将数学理论与交易实际相结合的能力，也就是要把“数学”用到刀刃上。打个比方，很多人都看过电影《三个白痴》，其中有个名场面，学长让男主角兰彻脱掉裤子（别想歪~原因请看原片），兰彻不从，躲进了宿舍，学长扬言再不出来就在门口嘘嘘，兰彻就把电线接在铁勺子上，把铁勺子夹在木尺上，接着开电闸，学长后来就直接嘘了上去，那酸爽~~~室友就评价道：盐水可以作为电的导体，初中生都知道，我们只学了课本，他却学以致用！道理大家都懂（无论高深还是浅显），关键是要学以致用。抛砖引玉，就拿之前量化大神的两个策略出来溜溜，它们的共同点就是都涉及到一个基础的数学概念，高中就学习过的，那就是“导数”，看看大神是怎么把“导数”玩出花儿来。策略1：日内波动极值策略第一个要介绍的策略就是『日内波动极值策略』，它起源于广发金工在11年前发布的研报《基于日内波动极值的股指期货趋势跟随系统》，最初是用在股指期货的量化交易上。对于交易者而言，有波动才有价差（无论是向上还是向下），有价差才有低买高卖，才有投资收益。正如原文中所言，投机人只有溶于波动的市场中才有机会博取高额收益，平静无奇的市场只能是一潭死水，若市场波动很小，更极端一点，在一条近乎直线走势的市场中，无论何种策略、无论采用何种模型，都是无法赚钱的，神仙亦乏术。那我们如何拥抱波动，抓取波段呢？其中一个方法就是利用日内波动极值的思想实现趋势跟随。随着市场的单边趋势运行，价格波动极值会逐步被突破，而这种突破又是上下两个方向均可的。如果价格向上突破极值点，那么我们认为随后的价格波动继续向上的可能是偏大的，同理如果价格向下突破极值点，那么我们认为随后的价格波动继续向下的可能会偏大，从而形成趋势跟随策略。价格起伏就像波浪，后面的价格突破了前浪的高点，很可能孕育着一次比前浪更汹涌的后浪。接着来定义和计算价格波动极值，原文中是基于日内行情的价格进行计算，具体来讲，日内某个时点的极值，就是自当日开盘以来截止至当前时点，市场创出的最高值或者最低值，前者称为日内极高值，后者称为日内极低值。这就形成了一个很朴素的量化策略，首先选取某一信号观察频率周期（如5分钟K线），当价格向上穿越日内波动极高值时发出买入信号，当价格向下穿越极低值时发出卖出信号，关于“日内极值计算细节”、“开仓后如何来跟踪持有的头寸”、“何时平仓离场的问题”、“回测费率设置”等方面，请详见研报原文。研报发布时披露的回测交易资金曲线如下所示。当时这个日内波动极值策略只是应用在了股指期货品种上，后来被某私募量化大神发现该策略的挖掘潜力，觉得极值的确定还可以利用高中数学课学过的“导数”，将改进后的策略分别移植到了商品期货和股票上，并有偿地进行了小范围的分享。众所周知，若一元函数可导，则在极大值或极小值处，导数为0。使用求导的方式确定波动极值，进而衡量K线的形态和走势，还是利用之前的策略的大体思想进行策略构建，不过细节上有所变化。百度百科中关于“极值求导”的说明：函数在其整个定义域内可能有许多极大值或极小值，而且某个极大值不一定大于某个极小值。函数的极值通过其一阶和二阶导数来确定。对于一元可微函数f(x)，它在某点x0有极值的充分必要条件是f(x)在x0的某邻域上一阶可导，在x0处二阶可导，且f'(X0)=0，f\"(x0)≠0，那么：1）若f\"（x0）&lt;0，则f在x0取得极大值；2）若f\"（x0）&gt;0，则f在x0取得极小值。私募量化大神改进后的商品期货策略盈亏曲线：私募量化大神改进后的股票策略盈亏曲线：策略2：基于低阶多项式拟合的日内趋势策略这第二个策略就是『基于低阶多项式拟合的日内趋势策略』，这个日内策略与第一个策略师出同门，它的策略思想出自于广发金工的另外一篇研报《基于低阶多项式拟合的股指期货趋势交易(LPTT)策略》传统金融理论认为在高效率市场中，股票、期货等金融产品的价格变化服从马尔科夫随机过程，即具有无记忆特征，也就谈不上价格变动的趋势。但是在市场效率不高的情况下，由于信息流动存在不平衡性，股票或期货的价格变动常常会形成单边趋势，此时若能够顺势交易，则有可能获得有效的趋势价差收益。那如何捕捉这个价格趋势呢？该研报中的交易策略采用的理论基础是离散数据的多项式拟合。别被这么专业的名词唬住了，其实啊，只要高中数学课认真上过，我一说你就明白了。研报标题中提到的“低阶多项式拟合”，其实指的就是一阶多项式拟合和二阶多项式拟合，一阶多项式拟合指的就是把离散的价格序列拟合成线性函数y1=a·x+b，二阶多项式拟合就是拟合成二次函数y2=a·x^2+b·x+c。看吧，高中数学课上都学过吧~若对一阶线性函数求一阶导数，也就是平常所说的斜率，若导数dy/dt&gt;0，说明价格正处于上升趋势；若导数dy/dt&lt;0，则为下跌趋势。若对二阶线性函数求二阶导数，若二阶导数d2y/dt2&gt;0，价格曲线为凹（开口向上）；若二阶导数d2y/dt2&lt;0，价格曲线为凸（开口向下）。做个类比，价格曲线就像汽车行走的距离轨迹，对距离（位移）求一阶导数就是速度，速度大于0说明朝正方向开，小于0说明朝反方向开。求二阶导数就是加速度，假设此时汽车为正向行驶，加速度大于0说明在汽车速度还在增加的状态当中，在不断加速，反之则是处在减速的过程当中。因此，结合线性函数的一阶导数和二次函数的二阶导数，可以把价格序列划分为如下四种状态。朴素的策略思想这就跟着来了，假设线性函数的一阶导数和二次函数的二阶导数分别为g1和g2，当g1*g2&gt;0时，说明出现了加速上涨或加速下跌的情况，便可以根据价格方向顺势开仓。当g1正负号发生改变时，说明价格趋势改变，该种情况需要进行平仓。当g2正负号发生改变时，说明于上涨或下跌趋势由加速变为减速，趋势有结束迹象，该种情况也需要进行平仓。还有就是在尾盘进行强制平仓，日内策略不持仓过夜。在研报当中，交易标的是股指期货，回测的累计收益率曲线如下所示。还是这位私募量化大神，将其研报中的策略精髓移植到商品期货和股票之上，实现了交易开拓者TB、文华财经、金字塔、MultiCharts和TradeStation多个版本的源码，移植到商品期货多品种上的回测累计收益率曲线如下所示。总结一下从上面介绍的两个量化策略看出，核心思路就是要抓到大价差和大波段，第一个策略关键是找到极值点，第二个策略关键是做一、二阶拟合，看上去手段形式不一样，实质上都可以用“导数”来解决。“导数”只是高中数学当中的一个基础概念，不算高深，但策略能成功，靠的是宽客对数学概念学以致用的能力，以上两个策略例子只是给大伙儿做个启发，起到抛砖引玉的作用。据我路边社小道不靠谱消息透露，类似于“导数”用于量化策略的数学概念还有：偏度、峰度、协方差......最后补充说明一下，本文不是说“高深的数学”就不需要了，而是鼓励萌新们从自身知识水平出发，日拱一卒，小步快进，把学习曲线从陡峭降为平坦，不再焦虑。Bequant，havefun！其他量化策略相关内容：quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章291赞同·12评论文章291赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章59赞同·2评论文章59赞同·2评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)294赞同·13评论文章299赞同·13评论文章311赞同·13评论文章314赞同·13评论文章333赞同·14评论文章333赞同·14评论文章333赞同·14评论文章334赞同·14评论文章336赞同·15评论文章336赞同·15评论文章336赞同·15评论文章340赞同·15评论文章343赞同·15评论文章343赞同·15评论文章345赞同·14评论文章346赞同·14评论文章349赞同·18评论文章350赞同·18评论文章quantkoala：又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略(年化20.6%)115赞同·2评论文章118赞同·2评论文章120赞同·2评论文章124赞同·2评论文章132赞同·2评论文章132赞同·2评论文章132赞同·2评论文章133赞同·2评论文章133赞同·2评论文章134赞同·2评论文章135赞同·2评论文章135赞同·2评论文章135赞同·2评论文章137赞同·2评论文章138赞同·2评论文章140赞同·2评论文章141赞同·2评论文章142赞同·2评论文章quantkoala：还来唠一唠曾在全球量化策略热榜上排名第4的TheBigBlue策略(年化57.6%)32赞同·4评论文章33赞同·4评论文章35赞同·4评论文章36赞同·4评论文章43赞同·4评论文章43赞同·4评论文章43赞同·4评论文章43赞同·4评论文章43赞同·4评论文章44赞同·4评论文章44赞同·4评论文章46赞同·4评论文章46赞同·4评论文章47赞同·4评论文章49赞同·4评论文章49赞同·4评论文章50赞同·5评论文章50赞同·5评论文章quantkoala：一个号称“买在低点，卖在高点”的震荡策略Q02（从60万到650万）114赞同·4评论文章115赞同·4评论文章116赞同·4评论文章116赞同·4评论文章117赞同·4评论文章117赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章122赞同·4评论文章122赞同·4评论文章122赞同·4评论文章124赞同·4评论文章125赞同·4评论文章130赞同·4评论文章132赞同·4评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01143赞同·19评论文章143赞同·19评论文章143赞同·19评论文章143赞同·19评论文章144赞同·19评论文章145赞同·19评论文章147赞同·19评论文章147赞同·19评论文章147赞同·19评论文章147赞同·19评论文章148赞同·19评论文章148赞同·19评论文章148赞同·19评论文章149赞同·19评论文章151赞同·19评论文章154赞同·19评论文章154赞同·19评论文章154赞同·19评论文章155赞同·23评论文章155赞同·23评论文章quantkoala：跟踪“聪明钱”，巧用北向资金进行大盘择时（策略Alpha:14.5%，附源码）46赞同·9评论文章72赞同·9评论文章72赞同·9评论文章72赞同·9评论文章73赞同·9评论文章73赞同·9评论文章73赞同·9评论文章74赞同·9评论文章74赞同·9评论文章75赞同·9评论文章75赞同·9评论文章75赞同·9评论文章75赞同·9评论文章77赞同·9评论文章77赞同·9评论文章quantkoala：中国版“漂亮50”量化策略，来我家做客了（年化20%+）21赞同·6评论文章21赞同·6评论文章21赞同·6评论文章22赞同·6评论文章27赞同·6评论文章27赞同·6评论文章27赞同·6评论文章28赞同·6评论文章28赞同·6评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）111赞同·19评论文章112赞同·20评论文章115赞同·20评论文章115赞同·20评论文章115赞同·22评论文章116赞同·22评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）69赞同·8评论文章70赞同·8评论文章70赞同·8评论文章73赞同·8评论文章74赞同·8评论文章quantkoala：动物庄园：商品期货跨品种套利策略17赞同·0评论文章17赞同·0评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2491632315",
        "comment_count": 10,
        "voteup_count": 402,
        "question_title": "http://www.zhihu.com/api/v4/questions/506725010",
        "question_url": "为什么很多不需要复杂数学的量化策略效果往往比一些使用复杂模型的策略好？"
    },
    "2482699583": {
        "created_time": 1652362354,
        "content": "各位大神都提到了很多经典的股票策略和量价策略，我也腆着脸来唠唠期货量化交易CTA中的经典Alpha策略：期限结构之展期收益率策略。萌新向回答，众大神请退散~~~正文开始，herewego~最近和几个做量化的朋友见面侃大山，其中一个在私募做量化研究员的朋友老高说到，老板给了他一些\"奇奇怪怪\"的策略开发方向。他们家其中一个主打产品是做CTA策略，以前一般老板的需求都是赚钱、赚大钱、持续赚大钱、持续稳定赚大钱，高收益是第一目标。但老板今日一改往常作风，说新开发的策略震荡不赚钱都可以，只要能跟老策略形成互补。刚听朋友说完前半句，我心想：这老板S[第2个英文字母大写]了，不想赚钱啦！大家听完后一琢磨，我们以为自己在第五层，老板直接在天花板了，看来老板不是不想赚钱，而是想\"忽悠\"更多的钱。CTA策略大部分都是趋势策略，趋势策略的特点就是\"低胜率，高赔率\"，没有行情的时候震荡阴跌，行情一来就把之前的亏损弥补掉，然后还有盈余。由于CTA趋势策略同质性比较大，反应在产品净值曲线上就是阴跌下行一段时间，然后向上突突，行情过后，又阴跌下行，而后又向上突突，如此循环往复。虽然这种纯CTA产品持有足够长的时间，盈利是大概率的，但是持有的过程并不舒适，即使私募每周只给客户发一次净值曲线，由于趋势策略低胜率和同质化的特点，多趋势策略叠加组合都可能有一小半的时间在阴跌，路演的时候展示实盘曲线，也可能\"劝退\"一些摇摆客户，导致私募产品规模上涨缓慢。同样是最终收益30%，一个是\"日拱一卒\"缓慢涨到30%，一个是反复震荡涨到30%，持有体验肯定是前者要好，即使后者能震荡上涨到50%，肯定大部分人也是觉得前者好，认购前者基金产品者趋之若鹜。老板想要募集更多的钱（赚得更多），就需要更多的人认购私募基金产品，这就需要一条诱人的净值曲线，这就需要破除传统趋势策略的同质化魔咒，往里面添加相关性小的异质化策略，熨平起起伏伏的净值曲线，哪怕这个异质化策略并不赚钱，只要能降低波动幅度就好。老板就是老板，公司格局的天花板，说是要不赚钱的交易策略，其实是想要更多的钱。老高最近捣鼓了不少跟传统CTA量化策略低相关的异质化策略，其中一个就是期限结构里面的展期收益率策略，老高说这个策略已经基本满足需求了，让我们也去试试，虽然我木有老高这么厉害，但给大家弄个毛坯版的展期收益率策略还是可以的。什么是期限结构呢？下面贴一段学术范儿的解释：同一商品期货品种有多个不同到期日的期货合约，将不同月份合约价格连接起来可以得到商品价格的期限结构（TermStructure）。如果近期价格高于远期价格，期货期限结构向下倾斜，这种情况称为期货贴水（Backwardation），或叫做现货升水，也叫作现货溢价。如果远期价格高于近期价格，期货期限结构向上倾斜，这种情况称为期货升水（Contango），或叫做现货贴水，也叫作期货溢价。萌新第一次看可能一头雾水有点懵，内心OS：这是啥玩意儿啊！那请忽略以上文字，举个栗子打比方，我们静下心来唠唠。比如说，螺某钢合约和当前价格如下：螺某钢2205合约：5504螺某钢2210合约：4884螺某钢2301合约：4817你瞧，随着交割日期越靠后，合约的价格就越低，这就是近期合约的价格高于远期合约的价格，如果将日期画在横轴（X轴）上，将合约价格画在纵轴（Y轴）上，那就是一条逐渐走低的价格曲线，学术范儿叫法就是期限结构向下倾斜，称为期货贴水（Backwardation）。又比如说，沪某铝合约和当前价格如下：沪某铝2205合约：21090沪某铝2206合约：21120沪某铝2207合约：21140这个品种的情况刚好就跟之前螺某钢恰巧相反，随着交割日期越靠后，合约的价格就越高，这就是远期合约的价格高于近期合约的价格，那是一条逐渐走高的价格曲线，学术范儿叫法就是期货期限结构向上倾斜，称为期货升水（Contango）。一般从纯理论来说，期货升水（Contango）是商品期货正常的结构，因为近期合约和远期合约价格关系如下：远期合约价格=近期合约价格+仓储、物流、利息各项杂七杂八的费用这个公式就解释了为什么之前纽商所的原油2005合约价格出现“-40美元/桶”，你没看错，商品价格就是负数，就是你买一桶原油卖方还倒贴你40美元，而当时其他的远期合约价格都是正数。这其中的原因是，买入原油交割，别人只给你油，你自己得拿东西去装回来，而当时原油价格偏低，附近的化工企业就不断收油，都把油罐基本上装满了，临近交割的时候，你自己买个桶或者存在特定的仓库里，存一桶油就可能要花50美元以上，这就是为啥原油卖方愿意贴钱给你让你把油弄走的原因之一（本质原因还是供求关系）。了解完了期限结构，怎么指导我们投资交易呢？按照当前的期限结构，是可以反推商品/品种的市场供需情况的，根据仓储理论和顺势而为的交易理念，当商品库存偏低（供小于求）的时候，近月合约价格将出现更大幅度的上行，从而更容易导致近月合约较远月合约升水，此后由于库存可能继续偏低，则商品价格将继续上涨；相反，当商品库存偏高（供大于求）的时候，近月合约价格将出现更大幅度的下行，从而更容易导致近月合约较远月合约贴水，此后由于库存可能继续偏高，则商品价格将持续下跌。铺垫了这么多，了解完了期限结构和指导原则，这就轮到今天量化策略的核心公式登场了，那就是期限结构当中的展期收益率（RollYield）计算公式。其中，ln(*)是以自然对数函数，Pn是近月合约当前价格，Pd是远月合约当前价格，Nn是近月合约交割日期距当前日期的天数，Nd就是远月合约交割日期距当前日期的天数。那么，“ln(Pn)-ln(Pd)”可以看成是近月合约较远月合约的对数溢价率，如果只是横截面比较大小排序，直接用正常的溢价率就可以了，不需要用对数形式，更符合普通人习惯。“365/(Nd-Nn)”就是对溢价率进行年化处理，方便不同期限合约的溢价率进行统一比较。当近月合约价格高于远月合约价格时，当前的展期收益率为正；当近月合约价格小于远月合约价格时，当前的展期收益率为负数。在近月和远月的选择时，不同人也有不同的选择方案：近月和次近月，近月和主力，近月和最远月，主力和次主力。这些都是可选方案，老高说主力和次主力的结合会好一些，既然他敢说，我就敢信吧。根据之前说的指导原则，展期收益率高的品种价格将会更大概率上行，展期收益率低的品种价格将会更大概率下行，因此就产生了一个朴素的对冲策略想法：在时刻T，做多展期收益率最高的N个品种，同时做空展期收益率最低的N个品种，等市值对冲，定期换仓。有了想法，说干就干，回测一下，效果还行，就是回撤大了一些，不过这还是个毛坯版的策略，还有很多更精细的优化方向可以考虑，比如还要参考商品现货价格、商品价格趋势、波动率放大收敛、加入止盈止损等，留待各位宽客大侠改进成精装版~~~参考资料：海通证券，2017.03，《FICC系列研究之二：基于动量和期限结构的商品期货策略》海通证券，2017.08，《FICC系列研究之五：商品期货因子挖掘与组合构建再探究》兴业证券，2017.05，《CTA策略系列报告之二：基于商品期货的期限结构的投资策略》东方证券，2017.07，《衍生品系列研究之（六）：商品期货中的alpha策略》华泰期货，2017.10，《CTA量化策略因子系列（三）：期限结构因子》渤海证券，2018.04，《金融工程CTA策略专题报告之十：商品期货展期收益策略初》其他量化策略相关内容：quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章261赞同·10评论文章266赞同·10评论文章268赞同·10评论文章269赞同·10评论文章272赞同·10评论文章273赞同·10评论文章276赞同·10评论文章281赞同·10评论文章281赞同·12评论文章284赞同·12评论文章284赞同·12评论文章291赞同·12评论文章quantkoala：“28岁了，做了两年量化，没有做出策略，该怎么办？”47赞同·2评论文章55赞同·2评论文章55赞同·2评论文章59赞同·2评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)294赞同·13评论文章299赞同·13评论文章311赞同·13评论文章314赞同·13评论文章333赞同·14评论文章333赞同·14评论文章333赞同·14评论文章334赞同·14评论文章336赞同·15评论文章336赞同·15评论文章336赞同·15评论文章340赞同·15评论文章343赞同·15评论文章343赞同·15评论文章345赞同·14评论文章346赞同·14评论文章349赞同·18评论文章quantkoala：又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略(年化20.6%)115赞同·2评论文章118赞同·2评论文章120赞同·2评论文章124赞同·2评论文章132赞同·2评论文章132赞同·2评论文章132赞同·2评论文章133赞同·2评论文章133赞同·2评论文章134赞同·2评论文章135赞同·2评论文章135赞同·2评论文章135赞同·2评论文章137赞同·2评论文章138赞同·2评论文章140赞同·2评论文章141赞同·2评论文章quantkoala：还来唠一唠曾在全球量化策略热榜上排名第4的TheBigBlue策略(年化57.6%)32赞同·4评论文章33赞同·4评论文章35赞同·4评论文章36赞同·4评论文章43赞同·4评论文章43赞同·4评论文章43赞同·4评论文章43赞同·4评论文章43赞同·4评论文章44赞同·4评论文章44赞同·4评论文章46赞同·4评论文章46赞同·4评论文章47赞同·4评论文章49赞同·4评论文章49赞同·4评论文章50赞同·5评论文章quantkoala：一个号称“买在低点，卖在高点”的震荡策略Q02（从60万到650万）114赞同·4评论文章115赞同·4评论文章116赞同·4评论文章116赞同·4评论文章117赞同·4评论文章117赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章122赞同·4评论文章122赞同·4评论文章122赞同·4评论文章124赞同·4评论文章125赞同·4评论文章130赞同·4评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01143赞同·19评论文章143赞同·19评论文章143赞同·19评论文章143赞同·19评论文章144赞同·19评论文章145赞同·19评论文章147赞同·19评论文章147赞同·19评论文章147赞同·19评论文章147赞同·19评论文章148赞同·19评论文章148赞同·19评论文章148赞同·19评论文章149赞同·19评论文章151赞同·19评论文章154赞同·19评论文章154赞同·19评论文章154赞同·19评论文章155赞同·23评论文章quantkoala：跟踪“聪明钱”，巧用北向资金进行大盘择时（策略Alpha:14.5%，附源码）46赞同·9评论文章72赞同·9评论文章72赞同·9评论文章72赞同·9评论文章73赞同·9评论文章73赞同·9评论文章73赞同·9评论文章74赞同·9评论文章74赞同·9评论文章75赞同·9评论文章75赞同·9评论文章75赞同·9评论文章75赞同·9评论文章77赞同·9评论文章quantkoala：中国版“漂亮50”量化策略，来我家做客了（年化20%+）21赞同·6评论文章21赞同·6评论文章21赞同·6评论文章22赞同·6评论文章27赞同·6评论文章27赞同·6评论文章27赞同·6评论文章28赞同·6评论文章quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）111赞同·19评论文章112赞同·20评论文章115赞同·20评论文章115赞同·20评论文章115赞同·22评论文章quantkoala：ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）69赞同·8评论文章70赞同·8评论文章70赞同·8评论文章73赞同·8评论文章quantkoala：动物庄园：商品期货跨品种套利策略17赞同·0评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2482699583",
        "comment_count": 1,
        "voteup_count": 88,
        "question_title": "http://www.zhihu.com/api/v4/questions/26594258",
        "question_url": "量化交易主要有哪些经典的策略？"
    },
    "2464951764": {
        "created_time": 1651323533,
        "content": "今儿个腆着脸分享2个入场过滤条件，一般情况下都能立竿见影提高趋势策略表现。为了具体说明这2个过滤技巧，本次内容以双均线作为基础策略，过滤部分亏损信号，减少交易次数，同时提高策略的胜率和盈亏比，herewego~正式回答开始，大神请绕行~双均线策略是最经典的趋势策略之一，被广泛应用于股票、期货、外汇、期权、数字货币等交易领域，与传统的趋势策略一样，同时具有低胜率和高盈亏比（高赔率）的特征。在这里，我先腆着脸再啰嗦几句，先给本文当中的胜率和盈亏比列出定义，定义不明确容易扯皮。胜率=100%*盈利次数/总交易次数盈亏比=总盈利金额/总亏损金额一个策略能否盈利，其中的衡量方法之一，就是【胜率】和【盈亏比+1】的乘积是否大于1.0。举个通俗的例子，你跟小伙伴抛硬币打赌，正面朝上你赢1块钱，反面朝上你输1块钱，正常情况下，大家的胜率都是五五开，此时你的胜率是50%，盈亏比为1.0，50%*(1+1)=1，刚好处在临界点上，大家的预期收益都为0。如果你有特殊的抛硬币技法或是对硬币做了手脚（提高了胜率），或者你的小伙伴是土豪，无聊得很，为了吸引你来玩抛硬币游戏，输钱你给1块，赢钱可以拿1块1（提高了盈亏比），此时【胜率】和【盈亏比+1】的乘积是大于1.0的，非常有利于你，就是很费小伙伴。确切来说，预期收益率=胜率–(1-胜率)/盈亏比，知道了这个式子，在仅知胜率和盈亏比的情况下，就可以快速选择预期收益率更高的交易策略。例如，在“胜率70%，盈亏比1:3”和“胜率30%，盈亏比3:1”这两个策略之间，你会选哪个呢？我絮叨完了，回过头来看双均线策略。在大部分市场当中，大部分时间都是震荡市，趋势市占的时间很少，对于双均线这种趋势策略而言，大部分时间都是出错，开仓不久就会打止损，因此胜率比较低（一般是在20%~40%左右），但只要抓住一次大波段，就可以弥补好几次亏损，因此胜率比较高，通常都在2.0之上。要提高双均线策略的绩效，就要提高【胜率】和【盈亏比+1】的乘积，最好的办法就是同时提高胜率和盈亏比。重新把目光转到胜率和盈亏比的计算公式的分母上，如果我们能过滤掉部分亏损的信号（盈利信号希望保持不变，哈哈哈），那就可以同时减小“总交易次数”和“总亏损金额”，胜率和盈亏比也就同时提高了，撸起袖子，说干就干。首先，来看原始的双均线策略的交易信号和回测绩效，回测期间内总交易次数942次，胜率35%，盈亏比1.22。接着使用今天要介绍的第一个小技巧，平常我们使用双均线，都是“金叉多，死叉空”，现在可以在出现金叉/死叉时，不马上开仓，等到在观察期内突破了设定的上轨/下轨才开仓，此处以唐奇安通道为例。原始信号：改进后的信号：加入“观察期内突破上轨/下轨”开仓条件后的策略绩效如下所示，可以看出，总交易次数下降到了281次，胜率提升到了42.0%，盈亏比提升到了1.55。最后，第二个技巧就是使用波动指标ATR过滤假突破信号，具体的使用方法见之前的我胡诌过的文章，点击卡片直达。quantkoala：一个量化小技巧，突破策略盈亏比从1.1提高到1.7（大神勿进）225赞同·16评论文章此处还是使用“原来开仓价位置±N倍ATR”来提高策略开仓的难度，宁愿错过，也不轻易犯错，改进后的信号如下。最后来看看2个技巧改进后的策略绩效，总交易次数最终下降到152次，胜率提升到了45.4%，盈亏比也最终提升到了1.94，取得了阶段性的改进成效，今晚可以吃鸡了。本次策略测试所使用的源码如下：更多相关内容请见：quantkoala：一个量化小技巧，突破策略盈亏比从1.1提高到1.7（大神勿进）quantkoala：2个量化小技巧，双均线策略盈亏比从1.2提升到1.9（大神请绕行）quantkoala：唠一个能把策略盈亏曲线“掰直”的三级跟踪止盈止损出场方法（大神勿进）",
        "url": "http://www.zhihu.com/api/v4/answers/2464951764",
        "comment_count": 10,
        "voteup_count": 71,
        "question_title": "http://www.zhihu.com/api/v4/questions/64515911",
        "question_url": "期货量化交易的趋势策略中有哪些能立竿见影的提高模型表现的过滤条件？"
    },
    "2438091639": {
        "created_time": 1649855435,
        "content": "由于社群的原因，看过不少策略，今天就腆着脸唠唠，量化新手期在回测（Backtest）当中经常碰到未来函数的4个坑，希望量化萌新们少掉点儿头发。新手向回答，大神请绕行~情景1:使用前复权价格数据。由于股票会存在分红送股的情形，价格会出现非交易回落，导致股票价格序列的不连续性，假设个股“10送10”，股价就腰斩了，双均线什么的马上就会出现“死叉”，所以为了指标计算的连续性和方便性，就会使用复权价格数据。一些量化萌新入门之前，在行情软件上一般是看前复权行情（很多股民都有这个习惯），因为前复权行情是保证现在的价格不变，根据分红送股的信息对之前的股票价格进行调整，看到现在K线的数值比较“正常”，如果是看后复权价格行情的话，很多上市时间比较长、分红送股比较多的股票后复权价格都是“成千上万”的了，不太“人性化”。酱香型科技公司的前复权价格比较符合股民习惯。后复权价格已然上万，很多人一开始不习惯也不喜欢。所以有一部分新手就会使用前复权价格数据，刚才已经说了，过去的股价数据是按照现在价格，根据分红送配的信息往过去推的，换句话来说，历史的价格数据包含了现在的信息，也就有了“未来信息”。如果是使用前复权价格数据，那最简单且收益高的量化策略就是，买上市时间早且前复权价格低的股票，回测收益率曲线保证不差。情景2：当前K线出信号，当前K线成交。这里特指的是：使用K线收盘价序列计算指标，出现信号后，以收盘价成交。其实这种情况已经比“最低价买入，最高价卖出”的偷价情形好很多了，除非是恶意设置，不然一般萌新凭直觉都会避免。但有时候看一些萌新的策略源码，会出现类似于“IFCrossover(MA5,MA20)THENBuy(Close，...)”（当前MA5均线上穿MA20均线时，按收盘价买入）的情形，其实这挺符合日常看盘的习惯，看到金叉死叉的时候，都会在脑子里面从当前时点开始判断之后的行情。但在量化里面，这其实也是包含了未来信息的，因为量化交易实盘是实时进行的，至少会出现以下两种不利的情况。（1）当前K线没走完，最高价就触发了金叉信号，按照最高价就买入了，可能收盘价和最高价之间就存在不小的滑点。（2）当前K线最高价可以触发金叉信号，但按照收盘价计算却触发不了金叉信号，这就造成了实盘当中能成交、回测当中无法成交的不对应情况。因此有经验的宽客一般都会设置为“当前K线出信号，下一根K线开盘价/限价成交”，例如上面的例子可以改为“IFCrossover(MA5[1],MA20[1])THENBuy(Open，...)”（根据上一根K线计算的MA5均线上穿MA20均线时，按照开盘价买入）。其实这样的设置还可能不够严谨，不过已经比之前的情形好很多了。更为严谨的是，买入价可以设为“Max(Open，LimitPrice)”（开盘价和心里目标价位的最大值），量化想做好就是要扣很多细节，路漫漫其修远兮，吾将上下而求索~情景3:无法判断最低价和最高价的出现顺序。这种情况相对少见，造成的后果也比较薛定谔，举个例子来说明吧。假设一个股票/品种出现了天地板（大幅震荡同理），涨停会触发止盈，跌停会触发止损。如果是按照K线来回测的，用高低价判断是否触发止盈止损，这就要看在策略源码中，你把止损写在前头，还是把止盈写在前头，因为在这根K线上，止盈止损的条件同时都满足，谁写在前头谁就会被执行。但是在实盘当中，最高价和最低价必然有先后出场的顺序，假设先出现跌停，再出现涨停，而在代码当中是把止盈写在前头。这个时候就变相出现了未来信息，在回测当中出现了“苦尽甘来”的情况，在实盘当中要亏损10%的情况，在回测当中却盈利了10%。这个就有点儿类似于“幸存者偏差”，如同很多经典量化书籍都提到过的例子：在米国，买入困境当中的股票博反转，回测效果非常好，实盘效果却可能大相径庭，因为在早期，个股退市后数据就“消失”了，能回测到的股票都是从困境当中挺过来的幸存者，股价自然会迎来大涨，但如果在现实当中买到的是没有挺过来的不幸者，那就GG了。情景4:财报数据当中的未来信息。这个财报当中的未来信息非常隐蔽，我初始做量化的时候也掉进过这个坑，不是自己\"粗心大意\"，而是没有经验、特别是没有财务相关知识的萌新容易掉坑。众所周知，A股上市公司的一季报、半年报、三季报和年报的披露截止时间分别在当年的4月底、8月底、10月底和次年4月底公布，一般很少有人在2021年1月就直接调用2020年报的，这个错误对普通股民都太过明显，今天要说的是比较\"隐蔽的\"。举个例子，有的童鞋就考虑到财报的延后披露，但各家上市公司的披露日期又没有规律，于是乎，在构建量化基本面模型时，就在披露截止日期的次月第一个交易日调取财报数据，比方说在2021年5月6日才调用2020年报数据。的确，这种方式能剔除绝大部分的未来信息，但是还是有些隐蔽的瑕疵，这个瑕疵的根源就是：部分公司会对之前的财报数据进行修正，最新值会替换掉旧值。举个真实的例子，某扇贝跑来跑去的上市公司XX岛由于2014、2015连续两年亏损被*ST，如果2016年再亏损就要进入退市流程了。2017年3月21日，XX岛公布了2016年的年报，净利润为7571个w，扭亏为盈，保壳成功。但在2019年7月被证监会最终查出虚增利润1.3个小目标，追溯调整后净利润为-5543个w。如果今天来回测，取到XX岛2016年的净利润就是-5543w，可以避开这个大雷，而实际上，2017年5月第一个交易日取到的净利润却是7571w，老老实实挨锤。XX岛2016年年报原始数据。2022年今天查询到的XX岛财务数据。这种回测历史当中能取到、现实当中无法取到的财报数据，就是做基本面量化的萌新很容易掉进的坑，特别还是早期的时候。不过现在萌新们不用担心了，很多量化平台都做了非常贴心的设置，除了设定报告期外，还可以设定取数日期，只能取到在实际当中取数日期之前可见的财报数据，在取数日期之后的修正是取不到的，或者是其他落地的金融数据库，会同时存储原始财报数据和修改后的财报数据，并且有每条记录的公告日期，可以按照公告日期进行数据选择。在回测当中，要有效避免掉这些未来函数/未来信息，除了多听前人的掉坑经验外，就是彻底了解自己所用的指标、变量、模型、算法的计算流程和细节，在哪个环节上会拿到这个时点之外的未知信息，慢慢地打磨细节，这样会比较快。",
        "url": "http://www.zhihu.com/api/v4/answers/2438091639",
        "comment_count": 0,
        "voteup_count": 89,
        "question_title": "http://www.zhihu.com/api/v4/questions/25100677",
        "question_url": "做回测 (backtest) 的时候如何有效避免使用未来信息？"
    },
    "2405841659": {
        "created_time": 1648137714,
        "content": "1.题主的理想是从事量化交易员，并且很清醒地认识到“语言只是工具”，其实对于“量化交易”而言，“量化”也只是工具而已，核心其实是“交易”。2.交易的目的用2个字概括就是“盈利”，用4个字概括就是“稳定盈利”，6个字就是“持续稳定盈利”，8个字就是……这就是量化交易员给未来公司提供的价值。3.交易盈利的核心依赖于优质的量化交易策略，题主的程序员背景非常好，稍微懂一点金融知识后就可以开发出量化交易策略，也就是入门了，但“能做量化交易”跟“做好量化交易”还有一段距离，这段距离就是对市场的认知，编程再好，模型再漂亮，市场才是最终的裁判。4.个人愚见，建议题主可以先业余做量化交易，选择自己感兴趣的领域，无论是股票、期货、期权、可转债、加密币等，了解金融市场和交易实践，开发出稳定盈利的实盘策略。5.一旦实盘稳定盈利了，拍胸脯说，只要你不再介意给别人打工，在小私募里面找个量化相关的职位就跟玩儿似的，老板就是想招不用培训，入职就能马上赚钱的。公募/自营不敢说能进，因为他们一般还会对学历有要求，“里子”和“面子”都想要。祝题主最终能得偿所愿、开启奇妙的量化之旅！",
        "url": "http://www.zhihu.com/api/v4/answers/2405841659",
        "comment_count": 1,
        "voteup_count": 17,
        "question_title": "http://www.zhihu.com/api/v4/questions/270844540",
        "question_url": "想从互联网码农转量化，能否请前辈给一些建议？"
    },
    "2387783939": {
        "created_time": 1647184901,
        "content": "首先要定义什么是“流入”，单看一笔交易，股票成交有买卖双方，买入金额等于卖出金额，买家给股市投入了1w，卖家从股市拿走了1w，这笔交易是属于“正流入”，还是“负流入”呢？目前一般有2种方式定义“流入”和“流出”。第一种方式，按K线涨跌结果来确定。例如将每天的交易时间按分钟切分成240根K线，如果某1分钟K线股价是上涨的，则这根K线里的全部成交金额则记为“流入”；如果某1分钟K线股票是下跌的，则这根K线的全部成交金额记为“流出”；如果是不涨不跌，则记“流入为0”。因为这种方式是按照K线结果确定的，所以大部分情况都是资金流入情况跟股价的趋势是一致的，比较难出现“资金不断的正流入，股价却不上涨“的情况。这种情况难出现，但不代表不会出现，假设第N根K线放量成交100w，收盘价仅比开盘价高一分钱，而且有长长的上影线和下影线，则这一分钟记为”流入100w“，第N+1分钟缩量成交10w，收盘价比开盘价低3分钱，则这一分钟记为”流出10w“，如果统计这两分钟的资金情况则是“净流入90w”，但股价却下跌了2分钱，假设其余时间的分钟线的情况与这两分钟的情况类似，则会出现题主所说的“资金不断的正流入，股价却不上涨”的情况。这种股票资金流入流出的判断方式一般流行于股市早期，但特别是在2015年之后，大部分行情软件都摒弃了这种“粗糙”的统计方式，转而使用更为“精细”的方式。第二种方式，根据股票Level2行情数据中的买卖标志位进行判断。交易所为各大行情软件商提供Level2数据，主要包含了逐笔成交和逐笔委托数据，逐笔成交数据当中包含了个股的每一笔成交数据，包含了买卖双方的成交情况，其中会有买卖标志位，B表示“流入”，S表示“流出”。那这个交易所是怎么设定这笔交易的流入流出方向的呢？我举个例子来说明。假设现在股票A的现价是10元，买一价格是9.9，卖一价格是10.1，各自都是10000股在排队等待成交，这些等待成交的委托单都是“被动的”，自己只能等在那里，自己是无法成交的。有一个帅小伙觉得这个股票价格估值合理，想马上成交买入，看了目前的挂单情况后，就挂了一个限价单“以10.1的卖一价买入1000股”，这个限价单会马上成交，交易所就会记下这笔交易并发送出去，买卖标志位则会设为“B”（流入）。其实这个“流入”体现的是“主动性”，看哪一方更为主动成交，虽然一笔交易有买卖双方，但总有一方是主动方，哪方主动标志位就记为哪一方，就跟谈恋爱一样，总有一方追另一方，极少有双方同时表白的，谈情说爱总有一方说第一句话吧。因此，买方主动跟卖方成交，那就是“流入(B)”，卖方主动跟买方成交，那就是“流出(S)”。假设这种情况，目前现价是10元，先是帅小伙主动以10.1价格跟卖一价成交了1000股，此时记为“流入10100”，现价上升至10.1元，而后另外一个美少女主动以9.9价格跟买一价成交了100股，此时记为“流出990元，现价回落至9.9元”。回顾这个过程，资金净流入了10100-990=9110元，但是股价却从10元下跌到了9.9元，出现了题主所说的“资金流入，股价下跌”的情况，虽然活跃的股票一天有几十万笔交易，不是这两笔交易就概括了的，大家主要体会一下这个过程。其实不同行情软件的流入流出定义不一样，超大大中小单的资金情况也不一样，行情软件A的资金是净流入的，而行情软件B的资金是净流出的，它们没有好坏之分，只是看它们的计算细节是否跟自己的交易规则相符。",
        "url": "http://www.zhihu.com/api/v4/answers/2387783939",
        "comment_count": 0,
        "voteup_count": 10,
        "question_title": "http://www.zhihu.com/api/v4/questions/462006915",
        "question_url": "资金不断的正流入，股票不该是上涨吗？"
    },
    "2353293712": {
        "created_time": 1645155091,
        "content": "在量化交易当中，到底是C++好，还是Python好？这个问题没有绝对的答案，具体看你自己的需求。C++是程序执行效率高，但开发效率低。也就是说，C++程序跑得很“快”，但是你用C++开发量化策略时会比较头疼，很多轮子都需要自己造，处理个矩阵经常都要用到for循环，让人抓狂。Python是开发效率高，但执行效率低。也就是说，用Python来开发量化策略会非常迅速，代码量也很简洁，同样一个策略实现，Python的代码量往往只有C++的三分之一。但是呢，甘蔗没有两头甜，用Python跑程序会慢很多，日常观测大概是比C++慢几倍~几十倍这种数量级（具体取决于你程序算法的复杂度）Python比C++好的需求场景：（1）快速实现量化交易策略；（2）量化交易策略相关信息数理统计；（3）量化交易策略交易频率较低，一般在1分钟以上交易级别。C++比Python好的需求场景：（1）量化交易策略对速度有要求，特别是对大数据集和实时数据；（2）量化交易策略交易频率较高，一般在1分钟以下交易级别；（3）作为底层策略执行模块，与其他脚本语言进行混编。",
        "url": "http://www.zhihu.com/api/v4/answers/2353293712",
        "comment_count": 0,
        "voteup_count": 13,
        "question_title": "http://www.zhihu.com/api/v4/questions/393361894",
        "question_url": "量化交易用c++好，还是用python好？期货交易频率多高比较好？"
    },
    "2352622158": {
        "created_time": 1645102615,
        "content": "全文约4300字，不是给大伙儿增加焦虑，也不是给大伙儿灌鸡汤，只是唠唠磕，如何真正利用好高手大神的量化策略和交易经验，让自己迅速开发出好策略。首先摆明态度，这种情况肯定不算罕见，哪个做开发的还没遇到过瓶颈呢？老话说得好，人生谁没有几个坎儿~~~就拿咱量化祖师爷西蒙斯老爷子来说，1978年，人到中年的西蒙斯带着一帮教授辞职创业，成立了“计量⾦融学公司”（也就是“⽂艺复兴科技公司”的前身），10年后才算做得有起色站稳了脚跟，从1989年起才开始了大奖章基金封神的业绩。西老爷子这样的一个大神，也是花了10年时间才做出了点儿成绩，咱这些凡人就不要太过焦虑了。不过西老爷子那个时候是有时代的限制的，无论是数据库还是量化系统都是全部从零开始搭建，非常耗时费力。就如同在20年前让你从零开始搭建个人网站一样，还真不是一般人能制作和维护的，而现在，只要你愿意，从购买域名、租服务器、上传框架源码、网站配置等全流程搞下来，都不用半个小时，这是因为已经有很多套件是成熟的了，直接拿来就可以使用，你只需要去了解这些信息和套路，这样一想，我们处在一个美好的时代。今天当然不是纯粹给大伙儿灌灌鸡汤、做做心理按摩的，而是想针对“开发不出策略”这个问题谈谈自己的心得体会。这里先做一个比方，方便大家理解，开发出一个好策略，就像是写一篇好作文。为了写好这篇作文，我们都经历了哪些过程呢？抄生字-&gt;抄课文-&gt;造句-&gt;写作文在我们小学打基础的时候，“抄”是时间占比非常大的学习内容，年级越低，“抄”的占比就越高，我们抄会一个个生字，抄一篇篇课文，感受其中的语法格式，然后自己可以创作单个句子，句子写得多了，连起来就是作文，后期再学习更多的表达技巧，最终写出立意鲜明、形象生动的好作文。“抄”就是模仿和借鉴，无论我们是做量化还是其他领域，自己从一无所知地开始学习，都是在模仿和借鉴前人的基础上起来的。例如你刚开始学习做股票量化，筛选有效的Alpha因子，前人大神用的有多空对比法、分层测试法、IC法、ICIR法等因子有效性测试方法，你也是从这些方法当中选择，如果你有发明新的有效性测试方法，那也是在学习之后的事情。于是乎，对于量化新手而言，迅速开发出一个好策略，不再有前文那个“两年开发不出策略”的焦虑，在我眼里，对普通人来说，是可以有固定套路的，那就是先模仿后创新，站在巨人的肩膀上博采众长、野蛮生长！“模仿”让自己从无到有开发属于自己的策略，“创新”是精雕细琢，让自己有好策略。因此，在这里我主要根据自己的心得体会，唠唠如何真正利用好高手大神的量化策略和交易经验，让自己迅速开发出好策略。以下内容只是自己粗浅的见解，可能对量化新手有启发意义，并不适合于大神，对不对的，还望海涵。目前我自己的感觉是，利用好高手大神的量化策略和交易经验，关键的心法口诀是：守、破、离。“守、破、离”最初源自于剑术剑道的学习理论，后来推广到其他武术派别与各行各业。以下是最初的释义，下文我会结合量化投资推心置腹地唠唠。『守』：最初阶段须遵从老师教诲，认真练习基础，达到熟练的境界。『破』：基础熟练后，试着突破原有规范让自己得到更高层次的进化。『离』：在更高层次得到新的认识并总结，自创新招数另辟出新境界。首先要声明一下，由于“巧妇难为无米之炊”，在这里假设大伙儿都能接触到适量的量化学习资料，“信息不足”的小伙伴可以参考我之前的文章，里面有介绍一些获取渠道，“信息过载”的小伙伴也不要犯焦虑症，先挑取适量的学习，学有所得就可以了，不要贪大求全哦。一．第一阶段『守』在这一阶段，我们首先要端正自己的心态，空杯心态，不要有任何偏见，高手/大神/老师说怎么去做，就怎么去做，动作、步骤、流程不要有一丝变形。就如同刘慈欣《三体》里面那句著名的话“弱小和无知从来都不是生存的障碍，傲慢才是”，傲慢和偏见不仅影响我们的生存，还影响到我们学习量化。因为高手/大神/老师他们在量化当中浸淫了这么久，经验比新手小白丰富得多，出错的概率肯定比新手小白要低。特别是，量化涉及到的技术和理论非常多，为了方便教学和方便学员理解，有一些地方会“默认”操作和不作过多解释，即使很多东西看上去很“蠢”，照做就是了。在安装量化环境的时候，不要尝试跳过某些环节和配置，即使这个环节看上去很无厘头很繁琐，因为你还是量化新手，你还不清楚这个环节为什么要存在，为啥要这么配置。例如在原版中，在环境变量当中加入指定路径，文件编码选择utf-8，操作符左右都要有一个空格。在构建策略的时候，不要尝试修改其中的某些环节和方法，即使这个环节看上去很难以理解很没有必要，因为你是新手，你还不能够保证你的改动比原版的还要好。例如在原版中，用难以理解的矩阵计算代替for循环，要使用后复权价格不能使用原始价格和前复权价格，在分母上再加一个数值“1”。做好这一个阶段的诀窍就是：做一个愿意下笨功夫的聪明人。那什么时候可以离开『守』这个阶段了呢？（1）当你可以不用看原版资料，在纸上写出策略的构建原理；（2）在电脑里不需要提示，徒手敲完整个策略的实现源码；（3）看着策略的回测详情，清楚每一个指标的含义。我个人认为，当同时满足这3个条件时，你就可以脱离『守』这个阶段了，恭喜大侠，你可以离开新手村了，带着一个属于自己的策略，向下一个阶段进发。二．第二阶段『破』在课程里，在社群内，在文章中，你看到的策略，别人也能看到，当用同一个策略的人多了，策略就可能失效了。『守』能让你拥有策略，一时赚点儿小钱，但只会『守』，你或许不能长久赚到钱。人的成长，商业的发展，策略的优化，就是需要不断的『破』，『破』就是破局而出、推陈出新，让自己做出更好的策略。「破」一般有2种方式。（1）做得比别人好（2）做得跟别人不同这两种方式都有效，第一种方式更常见，第二种方式更长久。如何做得比别人好？就是考虑得比别人更深入、更细致、更全面，举个例子。（1）更深入。例如交易领域当中的MACD指标，它的默认参数设置是（12，26，9），它为什么是这么设置呢？因为MACD被发明出来的那个时代，每周是单休制，一周要工作6天，因此12对应的是2周，26对应的是1个月，9对应的是一周半，因此要是与时俱进的话，MACD参数配置就要改为（10，20，7）。（2）更细致。例如很多线性模型对异常值很敏感，单个异常值存在就会对回归系数造成非常不利的影响，导致模型的泛化能力下降，因此要对空值进行填充或舍弃，将异常值“拉回到”合理范围。（3）更全面。例如做基本面量化的小伙伴，经常使用的是单期横截面因子数据进行建模，但是单期数据往往波动较大，因此要量化一个公司基本面的优劣，可以考虑多期序列的平均值和波动值。如何做得跟别人不同呢？那这个方法就比较宽泛了，列举几个，关键是要确定你用的“不同”是有效的。（1）对相同的数据用不同的处理方法。例如别人的双均线用MA，你用EMA或AMA。（2）用不同的数据源。别人只能用财务数据和量价数据，你可以用网络舆情数据和商品交易数据。（3）用不同的交易周期。别人用小时线，你可以用分钟线或Tick数据。『破』就是破局而出、推陈出新，就是往原来的策略当中加入更多“新套路”，让原来的策略“更吃得开”。举个综合的例子，就拿最简单的双均线策略来说，该如何『破』。『守』：双均线MA策略，金叉开多，死叉开空。『破』：在原来的基础上，使用以下3个“新套路”。（1）均线采用自适应均线AMA，趋势时偏向于快线，震荡时偏向于慢线；（2）采用ATR波动过滤的方法尽可能过滤“假突破”信号；（3）双均线策略无论行情向上还是向下，只要有大波动就能赚钱，因此筛选平常波动率较高的品种进行交易，提高交易胜率。其实还可以加入跟踪止盈止损那些条件，但加进去的“新套路”并不是越多越好，要自己不断测试优化。那什么时候可以离开『破』这个阶段了呢？（1）『守』阶段的策略绩效（风险调整后的收益和稳定性）得到显著提升；（2）你对提升优化策略的“新套路”有清楚的理解。我个人认为，当同时满足这2个条件时，你就可以从『破』阶段脱离，继续向『离』阶段进军，你在『守』阶段的那个“策略”也升级为了一个“好策略”。三．第三阶段『离』假如你看了很多高手大神的量化策略，你可能心里会冒出这样的思考：“他们的这些量化策略，都太神奇了，我怎么就想不到，当初这些策略是怎么被构思出来的呢？”这需要进入到一个更高级的能力阶段：『离』。『离』就是借用其他领域或其他量化策略的模块，发现和创造更多新的量化策略。年化91%的ETF轮动策略是从哪里来的呢？——借鉴股票和指数择时中的于阻力支撑相对强度（RSRS）策略，外加波动率筛选交易品种。期货日内的三角形交易策略是从哪里来的呢？——借鉴股票市场缠论中的底分型和顶分型形态，外加海龟交易法则中的ATR。WOBV策略是怎么来的呢？——借鉴传统的OBV指标，外加K线实体和影线的计算。Coin圈的搬砖策略是从哪里来的呢？——借鉴传统证券市场上的跨市场套利。其实绝大部分创新的本质都是“积木式创新”，太阳底下没有新鲜事，新鲜的事物可能就是旧事物的排列组合。在这个阶段，我们培养『离』能力的方式就显而易见了，有以下步骤：（1）研究大量的量化策略，把每个量化策略拆解成不同的量化模块（例如品种选择、入场规则、出场规则、仓位控制等模块）；（2）脱离量化策略，只看量化模块，把每个量化模块理解深入和打磨精通；（3）把每一个打磨精通的量化模块，作为自己的趁手兵器，收入自己的量化策略兵器库当中；（4）遇到新的交易机会，从量化策略兵器库当中，找到合适的兵器组合，做积木式创新；（5）在不同的交易领域，打造一些独门策略兵器。我的量化策略拆解经历可以参考之前的文章《如何打造「量化策略兵器库」，策略开发效率提高10倍？》。如何打造「量化策略兵器库」，策略开发效率提高10倍？当你有了足够多的量化兵器，并且其中有独门策略兵器的时候，你就达到了『离』的境界，这个时候，你就可以通过积木式创新源源不断产生许多好策略了。四．全文总结本文讲述了运用“守破离”心法口诀，真正利用好高手大神的量化策略和交易经验，帮助自己源源不断开发出好策略。『守』阶段：空杯心态，没有偏见，别人怎么说我们就怎么做，开发出一个策略。『破』阶段：2种方式，做得比别人好，或者做得跟别人不同，开发出一个好策略。『离』阶段：拆解策略，积木式创新，量化兵器排列组合，源源不断开发出好策略。参考资料：百度百科，2021，《守破离》词条。蒋小华，2017，《守破离——如何成为一个精进的人》古格里‧祖克曼，2020，《洞悉市场的人-量化交易之父吉姆‧西蒙斯與文藝復興公司的故事》我是@quantkoala，一枚量化/程序化策略源码捕手，喜欢全方位收集分享市面上主流的策略源码（股票+期货+外汇），在『量化藏经阁』和『量化藏经阁Max』社群中持续分享量化策略源码和量化知识等干货（目前已分享200+套精品策略），欢迎关注点赞&amp;联系沟通，探讨共赢&amp;成果共享，相互交流&amp;共同进步！！！常在线，多交流，多沟通！！！更多相关资料请见：如何打造「量化策略兵器库」，策略开发效率提高10倍？唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略(年化20.6%)还来唠一唠曾在全球量化策略热榜上排名第4的TheBigBlue策略(年化57.6%)【策略干货度：★★★☆☆】如何获取源源不断的量化策略？（CTA/期货策略合集篇）【策略源码】曾经收集过的量化策略/程序化交易策略源码合集（CTA/商品期货篇）一个号称“买在低点，卖在高点”的震荡策略Q02（从60万到650万）八年实盘100万到1000万的跨周期突破策略源码Q01跟踪“聪明钱”，巧用北向资金进行大盘择时（策略Alpha:14.5%，附源码）中国版“漂亮50”量化策略，来我家做客了（年化20%+）唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）兄弟家量化策略很多，拿一个『波动率收敛突破策略』盘一下ETF轮动策略在阻力支撑相对强度RSRS指标加持下起飞（年化91.6%）",
        "url": "http://www.zhihu.com/api/v4/answers/2352622158",
        "comment_count": 2,
        "voteup_count": 110,
        "question_title": "http://www.zhihu.com/api/v4/questions/453225321",
        "question_url": "一个28岁工作了两年的量化研究员，没有做出策略，该怎么办？"
    },
    "2225471730": {
        "created_time": 1636989479,
        "content": "我是@quantkoala，今天腆着脸推荐适合零基础系统入门量化投资的20本书籍，文末有传送门，enjoy~根据自己的习惯，将书籍们分为5大类。第一类是科普&amp;故事类，顾名思义，主要是帮量化萌新迅速了解量化&amp;宽客是什么，有个大体的感觉，偏故事向。第二类是股票量化类，主要讲了在股票量化领域有什么经典的策略，如何构建、实现和回测。第三类是期货量化类，讲的是期货量化的经典策略，大部分是趋势策略（例如海龟策略），也有套利策略。第四类就是期权量化类，一般书籍里面都是先科普一下期权是什么，然后就各种字母，接着就各种跨式、蝶式，最后我想把它归到失眠系列类。第五类就是失眠系列类，不是这类书让人失眠，而是适合失眠的时候看，例如那本量化红宝书，新手初看会觉得特别枯燥，公式繁多，助眠效果极佳。一、科普&amp;故事类01.《打开量化投资的黑箱》作者:里什·纳兰豆瓣评分：7.4出版时间:2012-3内容简介：作者是一位基金经理，在书中他站在一个非纯粹技术性的视角介绍了量化交易策略，用生动的文笔带领大家游历整个“黑箱”。涉猎了很多金融界丰富的真实案例和市场趣闻，描绘了华尔街的数量金融奇才们是如何工作的。02.《解读量化投资：西蒙斯用公式打败市场的故事》作者:忻海豆瓣评分：7.2出版时间:2010-1内容简介：作者用轻松、幽默的讲故事手法，解读了西蒙斯量化投资“黑箱”之内的秘密，带我们走近20年中平均每年总回报为80％的大奖章基金，看看它如何能将1万元变成1亿元。03.《宽客：华尔街顶级数量金融大师的另类人生》作者:斯科特·帕特森豆瓣评分：8.0出版时间:2011-7内容简介：这是一本讲述华尔街顶级数量金融大师的另类人生的书。背景是2007年金融危机爆发以后，作者对量化基金经理和顶尖经济学及金融学学者的各种采访。04.《宽客人生:华尔街的数量金融大师》作者:伊曼纽尔·德曼豆瓣评分：8.0出版时间:2007-7内容简介：作者本人就是华尔街的顶级宽客，至今仍享盛名，他分析了物理学与金融学之间的关联和不同，讲述了许多物理学巨匠和金融学大师的故事。05.《高频交易》作者：艾琳·奥尔德里奇豆瓣评分：7.8出版时间：2011-6内容简介：本书作者站在专业的高度，用平实的语言和丰富的图表，带我们走进量化投资的黑匣子，向我们展示了这台复杂的“金融仪器”是如何运作的。06.《高频交易员:华尔街的速度游戏》作者：迈克尔•刘易斯豆瓣评分：7.8出版时间:2015-5内容简介：本书作者其他著名的著作还有《说谎者的扑克牌》和《大空头》，本书叙事偏水浒风，人物逐个出场，背景丰满，性格突出，然后构建完整个拼图，结局有一抹亮色。二、股票量化07.《量化投资——策略与技术》作者：丁鹏豆瓣评分：6.5出版时间:2014-9内容简介：你可以把此书认为是金融工程研报的合订本，内含60多个案例，主要分为策略篇与理论篇两部分。策略篇主要包括：量化选股、量化择时、股指期货套利、商品期货套利、统计套利、期权套利、算法交易和资产配置等。理论篇主要包括：人工智能、数据挖掘、小波分析、支持向量机、分形理论、随机过程及IT技术等。08.《量化交易:如何建立自己的算法交易事业》作者：欧内斯特·陈豆瓣评分：7.5出版时间:2014-1内容简介：此书虽薄，但内容涵盖交易策略的发展、回测检验、风险管理、编程实现、交易系统研发和算法交易运行等关键领域，作者带你一步一步建立起一个最佳量化框架。09.《量化投资策略:如何实现超额收益Alpha》作者：理查德·托托里罗豆瓣评分：7.6出版时间:2013-5内容简介：作者在书中详尽地测试了超过1200种投资策略，归纳了七个投资维度：盈利性、估值、现金流、成长性、资产配置、价格动量以及危险信号，并告诉你如何有效结合单个投资因子或组件因子，如何构建多因子策略，从而构建更全面的选股模型。10.《量化投资：以Python为工具》作者：蔡立耑豆瓣评分：6.7出版时间:2017-2内容简介：主要讲解量化投资的思想和策略，并借助Python语言进行实战。首先对Python编程语言进行介绍；然后，向读者介绍量化投资的理论知识，主要讲解量化投资所需的数量基础和类型等方面；最后讲述如何在Python语言中构建量化投资策略。三、期货量化11.《海龟交易法则》作者：柯蒂斯·费思豆瓣评分：8.6出版时间:2013-5内容简介：伟大的期货交易者究竟是天生的，还是可以后天培养的？丹尼斯和埃克哈为此开始了一项试验，参与者被称为“海龟”。此书的内容就是关于这些海龟的：海龟们如何做交易，如何把握交易时机；海龟们如何衡量风险，如何管理资金；海龟们如何获得超过100%的年均回报率；为什么有些海龟大获成功，有些却赔个精光；如何将海龟交易法则运用于你自己的交易中；12.《期货市场计算机分析指南》作者：查尔斯·勒博豆瓣评分：7.9出版时间:2012-4内容简介：本书原版较老，主要讲解美国80年代各种技术指标的运用，内含了作者几十年的功力。13.《期货市场完全指南:技术分析、交易系统、基本面分析、期权、利差和交易原则》作者：杰克·施瓦格豆瓣评分：7.7出版时间:2017-11内容简介：本书侧重于商品期货市场价格预测，是目前全面的关于基本面分析和技术面分析的期货著作，内容涵盖期货、期权、分析、利差等。14.《统计套利》作者：安德鲁·波尔豆瓣评分：6.6出版时间:2011-1内容简介：本书论述了统计套利的历史，也诠释了统计套利如何运作的方式，以及为什么管用的原因，就是翻译让人吐槽~四、期权量化15.《期权投资策略》作者：劳伦斯G.麦克米伦豆瓣评分：7.9出版时间:2010-1内容简介：本书可认为是期权交易策略大全，包含全面的期权交易工具与各种策略方法。涵盖数百种经过时间与市场考验的交易技巧，承受最低的风险，实现既定的投资目标。16.《波动率交易：期权量化交易员指南》作者：尤安·辛克莱豆瓣评分：9.0出版时间:2017-5内容简介：本书梳理了基础的期权定价、波动率度量、对冲、资金管理以及交易评估等内容，并开发了基于布莱克-斯科尔斯-默顿的量化模型去度量波动率，这适用于几乎所有类型的金融工具。17.《波动率微笑:宽客大师教你建模》作者：伊曼纽尔·德曼豆瓣评分：9.1出版时间:2018-1内容简介：本书公式繁多，需要较强数学功底，绝对是一本期权量化的好书，但总想将其归为失眠系列。五、失眠系列18.《主动投资组合管理:创造高收益并控制风险的量化投资方法》作者：理查德C.格林诺德豆瓣评分：8.7出版时间:2014-9内容简介：本书以其数学上的严谨性和内容上的系统性成为量化组合投资领域的权威之作。该书描述了一套创新的方法：寻找资产收益率原始信号，将它们转化为精炼预测，以及根据这些预测构建具有超常收益率和最小风险的投资组合，即持续战胜市场的投资组合。公式多，助眠！19.《QuantitativeEquityPortfolioManagement:ModernTechniquesandApplications》作者：EdwardE.Qian豆瓣评分：8.9出版时间:2007-5内容简介：本书可以被看成对《主动投资组合管理:创造高收益并控制风险的量化投资方法》的补充。20.《QuantitativeEquityPortfolioManagement:AnActiveApproachtoPortfolioConstructionandManagement》作者：LudwigBChincarini豆瓣评分：8.0出版时间:2006-7内容简介：本书比较偏学术风格，主要讲factormodel，与《主动投资组合管理:创造高收益并控制风险的量化投资方法》相辅相成。参考资料https://book.douban.com/subject/10528799/https://book.douban.com/subject/4149140/https://book.douban.com/subject/6712293/https://book.douban.com/subject/2139493/https://book.douban.com/subject/6516233/https://book.douban.com/subject/26361652/https://book.douban.com/subject/25984057/https://book.douban.com/subject/25878150/https://book.douban.com/subject/24698948/https://book.douban.com/subject/26945535/https://book.douban.com/subject/24325274/https://book.douban.com/subject/10606243/https://book.douban.com/subject/27604426/https://book.douban.com/subject/5384911/https://book.douban.com/subject/4200660/https://book.douban.com/subject/27057344/https://book.douban.com/subject/27611792/https://book.douban.com/subject/25984361/https://book.douban.com/subject/2863060/https://book.douban.com/subject/2799221/传送门我是@quantkoala，一枚量化/程序化策略源码捕手，喜欢全方位收集市面上主流的策略源码（股票+期货+外汇），在『量化藏经阁』社群中持续分享量化策略和量化知识等干货，欢迎关注点赞&amp;联系沟通，探讨共赢&amp;成果共享，相互交流&amp;共同进步！！！常在线，多交流，多沟通！！！",
        "url": "http://www.zhihu.com/api/v4/answers/2225471730",
        "comment_count": 4,
        "voteup_count": 31,
        "question_title": "http://www.zhihu.com/api/v4/questions/305879541",
        "question_url": "零基础想系统地学习金融学、量化投资、数据分析、python，需要哪些课程、书籍？有哪些证书可以考？"
    },
    "2215457448": {
        "created_time": 1636469630,
        "content": "要实现基本面量化模型，首先要有基础的量化思路，其中一条“捷径”就是向有成果的高手学习，总结他的选股思路，然后将选股规则/要素/因子量化，编程实现该基本面模型。之前看了一些有“中国巴菲特”之称的“基金一哥”张坤选股思路的资料，将他的基本面筛选思路做成了量化策略，回测了一下，年化收益39.9%，盈亏比3.0。初步策略的效果还不赖，挫败感少了些，人生也更快乐些。下面将整个基本面量化策略实现的过程简单地说一下，才疏学浅，挂一漏万，大神轻拍，正文开始~张坤，何许人也？中国顶流公募基金——易方达基金管理有限公司基金经理，从业将近9年，毕业于清华大学，硕士学历（生物医学工程专业）。他目前管理着“易方达中小盘混合”，“易方达亚洲精选股票”、“易方达新丝路灵活配置混合”、“易方达蓝筹精选混合”和“易方达优质企业三年持有期混合”这5个基金产品。他的身上有太多的名号：“基金一哥”“中国巴菲特”（当然也有其他人有此名号）“中国价值投资的领军人物”“中国首批公募基金管理规模超过1000亿的基金经理”andsoon~~~除了上面的名号之外，他还是中国第一个有粉丝后援团的基金经理，粉丝皆疯狂高呼“坤坤不老，蓝筹到老；坤坤勇敢飞，ikun永相随”，喜提微博热搜。坤坤的辉煌业绩和事迹，无不吸引着人们的目光，希望自己有朝一日也能拥有此等投资能力，收获荣光。在量化圈子里，Quant们非常善于向有成果的投资大神学习，因此有着这样一项优良的传统——“欣赏你，我就量化你”，目的一是想抓住大神的投资内核，二是想向历史/市场扩展，检验这种投资思想是否仍然有效。张坤有着“中国巴菲特”之称，而巴菲特被人“觊觎”已久，“量化巴菲特”的行动早有人付诸实践，目前关于“量化巴菲特”的公开论文热度较高的有两篇，第一篇是2013年底AndreaFrazzini发布的《Buffett’sAlpha》(巴菲特的阿尔法)，第二篇就是胡熠博士在2018年发表的《巴菲特的alpha：来自中国股票市场的实证研究》，论文的实证结果都非常喜人，建议大家可以去读读原文，增进一下量化复现的功力。在量化张坤的选股思路之前，先要对张坤的投资选股理念进行一个简单的介绍，市面上关于张坤的访谈和解读的文章/视频等资料有很多，大家可以自行查阅。目前我看到的总结比较全面到位的文章如下，全文一万余字，干货度很高，能让你迅速对张坤的投资理念方法有大概的了解。网叔：张坤，有点意思（张坤投资思想系统整理）888赞同·38评论文章目前比较好量化的内容就是对全部A股进行粗筛的部分，以此来构建初步的策略。第一步：筛选投资回报率ROIC五年以上都超过10%的公司投资回报率ROIC=经营性税后净利润/（投入资本+有息负债）以前的选股因子常用净资产收益率ROE，但是ROE有一个缺陷就是，如果企业猛加杠杆，再碰到“顺周期”，ROE值会非常高，但这样的经营是潜在巨大风险的，此处用ROIC衡量企业的盈利能力相对合理一些。第二步：自由资金流强劲，有息负债率低自由资金流＝息税前利润－税金+折旧与摊销－资本支出－营运资本追加为了使“自由现金流”每个股票可比，除以“总资产”，转化为“自由资金流率”。有息负债率=有息负债/总资产第三步：行业地位高、上下游议价能力强、运营资本低的的企业。这条量化起来有点儿“玄学”，暂时用“毛利率高”作为代理指标吧。毛利率=（营业收入–营业成本）/营业收入策略调仓频率为月度，回测时间从2015年1月1日~2021年7月23日，策略年化收益率为39.91%，由于是纯多头策略，策略回撤最高达到45%，因此高波动导致夏普率偏低，仅有1.11，但盈亏比还是不错的，达到了3.0。横版回测绩效（方便PC端观看）：竖版回测绩效（方便手机端观看）：策略源码如下：目前策略仅实现了张坤选股思路的粗筛部分，细筛部分由于更接近行业研究，偏个性化，目前还没有找到通用普适的量化条件，有待进一步探究。若细筛部分也得以实现的话，量化选股就更快乐了！参考文献：张坤，百度百度词条网叔，知乎，2021，《张坤，有点意思（张坤投资思想系统整理）》小雅，知乎，2020，《小雅深访|易方达张坤最完整投资思路：至少跟全市场对抗过两三次》张坤，易方达，2021，《易方达中小盘混合》2020年度报告张坤，易方达，2021，《易方达中小盘混合》2020第四季度报告跟着“基金一哥”张坤量化选股的快乐，你想象不到！（策略年化收益39.9%）相关干货：跟踪『聪明钱』，巧用北向资金进行大盘择时（策略Alpha:14.5%）Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%）如何打造「量化策略兵器库」，策略开发效率提高10倍？",
        "url": "http://www.zhihu.com/api/v4/answers/2215457448",
        "comment_count": 0,
        "voteup_count": 52,
        "question_title": "http://www.zhihu.com/api/v4/questions/26185439",
        "question_url": "如何实现基本面量化？"
    },
    "2213777994": {
        "created_time": 1636387488,
        "content": "看了各位大神的回答，都说得非常详尽了，有好几位答主都提到了量化萌新的Python加速神器——Numba，这个神器的确是可以在不用修改原有代码的情况下，只需在原有代码里新增2行，策略执行速度便可能提高20+倍（本人的测试环境下）。为了方便量化萌新更好入手Numba，写成这个简单的科普贴，大神轻拍，正文开始~~~现如今，无论是入门量化投资，还是做数据分析、机器学习和深度学习，Python成为了首选编程语言，直观的原因就是容易上手和资源丰富，但Python有个根深蒂固的标签，那就是“开发快，执行慢”，特别是执行for循环和大规模科学计算，速度很是“感人”。小孩子才做选择，成年人全都要，那有没有可能既有开发效率，也有执行速度呢？当然可以，现在安排！那先来假设一个这样的场景，策略在不断接收实时Tick数据，或者是在回测当中模拟实际的数据接收，每进来一个新数据，就重新计算一次布林带（BollingerBand）。选择使用布林带作为例子是因为它在股票、期货、外汇和Coin量化中都被经常使用，它由三条线组成，一般这三条线从上至下被成为上轨、中轨、下轨，一般情况下，计算方式如下：上轨=MA20+2×STD中轨=MA20下轨=MA20+2×STD其中，MA20是长度为20的均线，STD是与均线同长数据序列的标准差，“20”是默认的常用均线长度，人为可调。假设有100万个数据点（random模块生成100万个随机数），取10次执行时间的平均值作为耗时结果，来看看不利用任何第三方库实现时的执行耗时。测试环境如下：处理器:Intel(R)Core(TM)i7-7700HQ@2.80GHz内存：8G操作系统：Windows10importtimeimportrandom#随机生成100万个数据点data=[random.randint(1,100)foriinrange(1000000)]#循环次数iter_times=10#计算布林带，返回上中下轨数据defboll(data,periods=20):up_line=[]#上轨mid_line=[]#中轨down_line=[]#下轨clip=data[:periods]#缓存接收到的数据，控制与periods等长#模拟实盘不断接收到新数据fornew_tickindata[periods:]:#剔除旧数据点，纳入新数据点，与periods等长clip.pop(0)clip.append(new_tick)#计算均值v_sum=0fortickinclip:v_sum+=tickv_mean=v_sum/periods#计算标准差v_sum_std=0fortickinclip:v_sum_std+=(tick-v_mean)**2v_std=(v_sum_std/periods)**0.5up_line.append(v_mean+2*v_std)mid_line.append(v_mean)down_line.append(v_mean-2*v_std)returnup_line,mid_line,down_line#记录测试开始时点start_time=time.time()foriinrange(iter_times):up_line,mid_line,down_line=boll(data,periods=20)#记录测试结束时点end_time=time.time()comsued_time=(end_time-start_time)/iter_timesprint('布林带boll计算平均耗时：%s秒'%comsued_time)输出结果：布林带boll计算平均耗时：8.128175449371337秒这个耗时结果看上去还行，因为这个策略本身任务量也不大，但执行执行速度可不可以更快，耗时可不可以被压缩到1秒内呢？答案是肯定的，这就要引入量化萌新的Python加速神器——Numba，它是Anaconda公司推出的针对Python的即时（Just-in-time，JIT）编译器，当你调用函数的时候，可以将全部或部分代码转换为“即时”执行的机器码，以本地机器码的速度运行。简单来说，你不用理会复杂的实现技术，只需要导入这个库，在你的舒适区范围内，就能对函数代码进行优化，将执行速度明显提高。Numba库只需要“pipinstallnumba”就可以直接安装上了，实现加速只需要在原始代码上加入2行代码，第一句就是导入Numba库：fromnumbaimportjit，第二句就是在函数前使用Numba的装饰器：@jit(nopython=True)。Numba编译有两种模式——object模式和nopython模式。object模式表示JIT解析器无法理解/加速/优化该代码内容，编译后代码执行速度跟原生Python一样慢，还可能更慢。nopython模式表示强制不进入object模型，生成更快的机器码，若无法编译成功则会抛出异常。fromnumbaimportjit@jit(nopython=True)defboll_fast(data,periods=20):up_line=[]#上轨mid_line=[]#中轨down_line=[]#下轨clip=data[:periods]#缓存接收到的数据，控制与periods等长#模拟实盘不断接收到新数据fornew_tickindata[periods:]:#剔除旧数据点，纳入新数据点，与periods等长clip.pop(0)clip.append(new_tick)#计算均值v_sum=0fortickinclip:v_sum+=tickv_mean=v_sum/periods#计算标准差v_sum_std=0fortickinclip:v_sum_std+=(tick-v_mean)**2v_std=(v_sum_std/periods)**0.5up_line.append(v_mean+2*v_std)mid_line.append(v_mean)down_line.append(v_mean-2*v_std)returnup_line,mid_line,down_line输出结果：布林带boll_fast计算平均耗时：0.3585397005081177秒8.128175449371337/0.3585397005081177≈22.7，增加2行代码一下子速度提高了20多倍，Numba的“加速神器”的头衔可不是浪得虚名的，以前需要跑一整天的程序，现在可能都不用看完一部国产电影就可以跑完了。有的小伙伴可能就有疑问了，你在这个程序里面用了两个for循环计算均值和标准差，太麻烦了，为啥不使用Numpy模块中的mean()和std()函数分别计算均值和标准差，而且Numpy是经过科学计算优化的，速度会更快。那就利用Numpy模块在相同的情况下重新计算一遍。#计算布林带，返回上中下轨数据defboll_numpy(data,periods=20):up_line=[]#上轨mid_line=[]#中轨down_line=[]#下轨clip=np.array(data[:periods])#缓存接收到的数据，控制与periods等长#模拟实盘不断接收到新数据fornew_tickindata[periods:]:#剔除旧数据点，纳入新数据点，与periods等长clip[0:periods-1]=clip[1:periods]clip[-1]=new_tickv_mean=np.mean(clip)v_std=np.std(clip)up_line.append(v_mean+2*v_std)mid_line.append(v_mean)down_line.append(v_mean-2*v_std)returnup_line,mid_line,down_line输出结果：布林带boll_numpy计算平均耗时：42.0557097196579秒WTF！怎么计算速度还比原来的慢了5倍，这是因为Numpy在复杂对象的开销耗时要比计算优化节省的时间要多，说人话就是，单次处理的数据序列要长(也就是periods数值要大)，Numpy的计算优化效果才能展现出来，因为布林带的默认计算均线长度periods是20，算是比较短的，我们把它增加到200试一试。start_time=time.time()foriinrange(iter_times):up_line,mid_line,down_line=boll(data,periods=200)end_time=time.time()comsued_time=(end_time-start_time)/iter_timesprint('布林带boll计算平均耗时：%s秒'%comsued_time)start_time=time.time()foriinrange(iter_times):up_line,mid_line,down_line=boll_numpy(data,periods=200)end_time=time.time()comsued_time=(end_time-start_time)/iter_timesprint('布林带boll_numpy计算平均耗时：%s秒'%comsued_time)输出结果：布林带boll计算平均耗时：68.52809438705444秒布林带boll_numpy计算平均耗时：43.69762210845947秒你看是不是这下子使用Numpy库的速度比原来使用for循环的速度快多了，而且随着单次处理数据序列的增加，Numpy的执行耗时提升不明显，所以说，在单次处理数据序列短的情况下，使用Numpy的效果未必有时用for循环的要好。如果也对使用Numpy计算布林带的程序（periods=20）也进行加速，看看效果如何。fromnumbaimportjit@jit(nopython=True)#计算布林带，返回上中下轨数据defboll_numpy_fast(data,periods=20):up_line=[]#上轨mid_line=[]#中轨down_line=[]#下轨clip=np.array(data[:periods])#缓存接收到的数据，控制与periods等长#模拟实盘不断接收到新数据fornew_tickindata[periods:]:#剔除旧数据点，纳入新数据点，与periods等长clip[0:periods-1]=clip[1:periods]clip[-1]=new_tickv_mean=np.mean(clip)v_std=np.std(clip)up_line.append(v_mean+2*v_std)mid_line.append(v_mean)down_line.append(v_mean-2*v_std)returnup_line,mid_line,down_line输出结果：布林带boll_numpy_fast计算平均耗时：0.5330439805984497秒42.0557097196579/0.5330439805984497≈78.8，当periods=20时，Numba为布林带的计算加速了70+倍。当periods=200时也进行加速测试，输出结果：布林带boll_numpy_fast计算平均耗时：1.3904209852218627秒43.69762210845947/1.3904209852218627≈31.4，当periods=200时，Numba为布林带的计算加速了30+倍。这从侧面也说明了，单次处理序列长度越长，Numpy的计算优化效果就越好，剩余的优化“压榨空间”也就不多了。小结一下，无论是对“原始Python”，还是对第三方库Numpy，Numba都有明显的加速作用，而且对Numpy的加速作用更明显。所以，大家可以在“使用for循环”和“使用Numpy模块做大量科学计算”时，使用Numba模块进行加速。使用Numba进行加速的方式也非常舒适：在源码文件头部加入：fromnumbaimportjit在需要加速的函数前加入：@jit(nopython=True)最后补充说明：Numba并不能对所有的程序优化和加速，常用的优化场景是for循环和Numpy、cmath模块的计算。不能优化和加速的情况，若带有nopython=True参数，会出现异常（Exception），此时可改为使用其他Python解析器（例如PyPy），或者优化算法。参考资料：http://numba.pydata.org/numba-doc/latest/user/index.htmlhttps://github.com/ContinuumIO/gtc2018-numbahttp://stephanhoyer.com/2015/04/09/numba-vs-cython-how-to-choose/仅需增加2行代码，Python量化策略速度提升20+倍！相关干货：quantkoala：一个量化小技巧，突破策略盈亏比从1.1提高到1.7（大神勿进）quantkoala：2个量化小技巧，双均线策略盈亏比从1.2提升到1.9（大神请绕行）quantkoala：唠一个能把策略盈亏曲线“掰直”的三级跟踪止盈止损出场方法（大神勿进）Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%）",
        "url": "http://www.zhihu.com/api/v4/answers/2213777994",
        "comment_count": 5,
        "voteup_count": 144,
        "question_title": "http://www.zhihu.com/api/v4/questions/30018428",
        "question_url": "用 Python 做策略回测，耗时很长，有什么加速办法？"
    },
    "2211517712": {
        "created_time": 1636280257,
        "content": "看到题主的背景是做期货程序化交易出身，我先来说说期货量化和股票量化的一些常用投资策略的区别，方便题主进行对照理解，然后举一个简单的股票多因子选股策略作为例子，讲述一下一般股票量化中多因子策略的构建步骤，了解股票量化投资策略的特质。期货程序化，也可以叫期货量化，一般业内也称为CTA，其中大部分都是趋势策略，就拿其中的元祖级CTA策略——海龟策略（详见书籍《海龟交易法则》）来说，就是根据唐奇安通道进行买卖，根据平均波幅ATR进行仓位控制。大部分期货程序化策略跟海龟策略一样，偏重于择时，一般是事先固定下来自己要交易那几个品种，然后根据技术指标进行择时，这就是为什么题主提到“我做期货程序化交易3年多~highlowopenclosevolopenint几个数据研究的够多了”，一般技术指标就是由开高低收、成家量、持仓量构成的。简单来说，股票量化一般分为选股和择时，两者同时兼顾。量化选股就是选择我要买哪些股票，量化择时就是对选好的股票我什么时候进行交易。中国A股目前有4000多只股票，投资者资金有限，散户一般买几只股票，机构一般最多也是持有上百只股票，量化选股就是从这几千支股票当中选出少数的“好”股票，期货只有几十个品种，有些流动性还不好，要筛选出“好”品种就比较简单了，人工就能完成。股票的量化择时跟期货的程序化交易策略就很像了，也是根据技术指标（有时候也可以是基本面）进行买卖点的确定。因此，股票量化和期货量化最大的共同点就是都需要根据技术指标进行择时，不同点就是股票量化还需要考虑到品种筛选的问题。这是由他们本身特质决定的，股票有几千只，期货品种只有几十个，股票有公司财报基本面数据，期货虽然也有现货价格和库存等基本面数据，但对一般的宽客而言比较难获取。上面讲了股票量化和期货量化策略的异同，他们的最大不同点就是股票量化还需要考虑到选股，一般是由量化多因子策略完成选股这项功能的，其中的因子一般选自基本面或技术面数据。下面以一个基本面多因子量化策略作为例子，给大家讲述一下多因子策略的构建步骤，就更能了解股票量化投资策略的特质了。今天要讲这这个多因子策略就是非常适合入门且非常百搭的量化基本面多因子模型F-Score，它是出自Piotroski的论文《ValueInvesting:TheUseofHistoricalFinancialStatementInformationtoSeparateWinnersfromLosers》，在华创金工的研报《双重筹码集中的基本面选股策略》中也被重点推荐过。我推荐的理由主要是模型构建非常简单，但非常有金融逻辑，由于使用的是0-1变量，F-Sccore模型对异常值的容忍度非常高，不需要特地清洗数据。不信啊，我们一起来揭开F-Score模型的面纱~愿意看原文探究细节的小伙伴，可以点击下方卡片阅读或下载，只想抓住内核框架的，听我唠一唠就能了解个大概了，herewego~http://citeseerx.ist.psu.edu/viewdoc/download;jsessionid=0306A4C4E259CB6FE132162F09CECD1C?doi=10.1.1.141.5533&amp;rep=rep1&amp;type=pdf​citeseerx.ist.psu.edu/viewdoc/download;jsessionid=0306A4C4E259CB6FE132162F09CECD1C?doi=10.1.1.141.5533&amp;rep=rep1&amp;type=pdf格雷厄姆和巴菲特等价值投资大师，每天挂在口头上的就是“用合理价格买优质股票”，“合理价格”看估值或风险承受能力，那股票的优质与否用什么衡量呢？这时候就轮到F-Score模型闪亮登场了。简单来说呢，F-Score就是一个利用9个因子对股票基本面进行评分的模型，得分越高，股票就约优质，这9个因子呢，都是可以基于财报数据计算出来的，因子清单和计算方式如下表所示。大概浏览一下上表，每个因子的取值只有0或1，当满足条件时，取值为1，反之为0。每满足一个条件得1分，满足N个条件得N分，因此，F-Score模型的最高评分就是9分。再详细看到每个因子~【资产收益率】用来衡量这个企业的盈利能力，“扣非”是为了剔除类似于卖房子设备、炒股投资带来的盈利，大于零表示企业处于盈利状态。【经营活动产生的现金流量净额比总资产】表示经营业务给企业带来的实际现金流入，因为利润里面是可能包含应收票据或应收账款的，类似于你去小卖部买东西赊账，小卖部账面盈利，但实际没有收到钱，大于零表示有实际的现金流入，企业真金白银的盈利。【资产收益率变化】表示企业盈利能力变化，大于零表示企业盈利加速，处于扩张状态。【应计收益率】比第二个因子更进一步地衡量企业真金白银的盈利能力，大于零表示企业盈利更为真实。【长期负债率变化】用来衡量企业偿债能力的变化，长期负债率=非流动负债/资产总额，小于零表示企业偿债能力增强。【流动比率变化】用来衡量企业变现能力的变化，流动比率=流通资产/流动负债，流动比率数值越大，企业的变现能力就越强，流动比率大于零表示企业的变现能力在增强。【股票是否增发】表示企业是否向股市再融资圈钱，不融资则表示企业依靠自身可以造血，有健康的现金流。【毛利率变化】衡量企业的竞争力变化，众所周知，如果企业没有行业壁垒护城河，则随着竞争者的融入，企业的毛利率会降低，大于零表示企业的竞争力在变强。【资产周转率变化】用来衡量企业的营运效率和管理质量，资产周转率=总营业额/总资产，资产周转率越高则表示企业能很好地利用自身资产生产商品/服务并销售出去，大于零则表示企业的营运效率和管理质量在提升。那这来自海外的F-Score基本面评分模型在中国A股是否有效呢，华创金工做了一个试验，将F-Score得分在0~3之间的股票归为Low组，4~6分的为Middle组，7~9份的为High组，进行分组回测，结果如下。从分组回测结果中看出，净值曲线是明显分层的，说明F-Score模型能起到一定的区分能力。对于个人而言，不需要投资那么多的股票，那我们就直接筛选F-Score得分为9的股票进行投资。依照这个简单朴素的思想，回测一下从2014年至今这个策略的绩效，如下所示。方便PC端观看的横版图：方便手机端观看的竖版图：从回测当中看出，相对于大盘的超额收益率不错，有23.4%，但同时也可以看出，由于是纯多头策略，部分时间收益率曲线也是横盘的，需要耐得住寂寞才能执行下去。在目前这种情况下，F-Score模型可能无法长期稳定带来可观的收益，但将其作为风控策略还是不错的，先对股票进行筛选，再叠加其他量价/资金流/筹码策略进行择时交易，Alpha应该能增强不少，留待后续探究。最后再补充一句，其实现如今期货量化也出现了很多向股票多因子靠拢的策略，比如说期货品种间的多因子强弱对冲策略，就是根据现货信息和技术指标构建的因子，分别选出期货多头组合和空头组合进行对冲，类似于一揽子股票对冲股指期货。各个领域的量化策略都可以相互借鉴，博采众长，站在巨人的肩膀上野蛮生长！参考资料：Piotroski，2002-01，《ValueInvesting:TheUseofHistoricalFinancialStatementInformationtoSeparateWinnersfromLosers》华创证券，2019-08，《双重筹码集中的基本面选股策略》Barra太复杂，唠一个适合萌新Quant上手的量化基本面多因子模型F-Score（策略Alpha：23.4%）更多干货：quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01跟踪『聪明钱』，巧用北向资金进行大盘择时（策略Alpha:14.5%）F-Score策略回测所使用源码如下：",
        "url": "http://www.zhihu.com/api/v4/answers/2211517712",
        "comment_count": 5,
        "voteup_count": 136,
        "question_title": "http://www.zhihu.com/api/v4/questions/24369940",
        "question_url": "国内股票的量化投资策略有哪些，特别是基本面量化？"
    },
    "2208783030": {
        "created_time": 1636124694,
        "content": "北向资金是什么？北向资金净流入意味着什么，是“聪明钱”吗？如何分析北向资金，对我们投资有木有指导意义？能不能用它来构建量化投资策略？今天，我们就来好好探究一番。相信很多小伙伴在收盘之后，某个瞬间，电脑屏幕右下角悄咪咪地弹出这样子的小窗口。行情软件每天乐此不疲地把北向资金的资讯推送给你，说明有不少人在关注这个数据，那到底这个数据有没有作用呢，先让我们从“Whatis北向资金？”说起，大神可以跳过这一part哈，主要是给之前不熟悉北向资金的小伙伴稍微科普一下。众所周知，咱天朝物产丰富，A股散发着璀璨金光，但早期的A股市场是不允许境外资金直接参与的，因此，除了QFII/RQFII之外，天朝分别在2014年和2016年启动了沪市和深市与香港市场的资金互流通道。咱们借道儿去买香港市场的股票呢，就叫做“港股通”，大陆之外(境外)的投资者买咱们A股的通道呢，就叫做“陆股通”（沪股通+深股通），由于大陆内地在香港的北边儿，大家就用“北向资金”表示通过陆股通流入A股的境外资金。北向资金的发展历程中，有3个时间点值得我们注意。2014年11月17日，沪股通启动，总额度为3000亿元人民币，每日额度为130亿元人民币。2016年12月5日，深股通启动，不设总额度限制，每日额度为130亿元人民币。2018年4月11日，证监会同意将沪股通和深股通每日额度调整为520亿元人民币，自2018年5月1日起生效。目前，北向资金已经成为外资配置A股的主要渠道，对A股市场的影响力在不断提升当中，持股市值占A股流通市值的比例也在不断上升。除了行情软件和量化平台看资金流数据外，大家也可以直接到香港交易所(HKEX)官网直接看北向资金的原始数据，注意数据的单位是“百万元人民币”就行了。想必看到这里，大家已然了解北向资金的来龙去脉了，正巧最近在量化圈子里涌现了很多利用北向资金进行择时或选股的策略，今天就挑一个比较有逻辑和效果比较好的择时策略，拿出来唠一唠，以后有机会再分享更多。以下策略的构建主要参照了邢大的北向资金流择时策略思想，移植到聚宽(JoinQuant)平台上实现。该北向资金大盘量化择时策略的构建，跟把大象塞进冰箱里一样，都是分三步走。大盘行情用沪深300指数进行代表，并假设该指数可以买卖。Step1：计算每日北向资金的净流入金额，深股通未开通时，深股通净流入记为0。北向资金净流入=沪股通净流入+深股通净流入沪股通净流入=沪股通买入成交额-沪股通卖出成交额深股通净流入=深股通买入成交额-深股通卖出成交额Step2：在T日，将起始日到T-1日的每日北向资金净流入数据进行逆序排列(数值越大，排名越前)，然后将排列后的数据三等分，取前1/3分位的阈值作为高点阈值(中性情绪上沿位置，记为a)，取后1/3分位的阈值作为低点阈值(中性情绪下沿位置，记为b)。Step3：根据T-1日北向资金流净流入数值与高点阈值a、低点阈值b的大小比较，决定T日的交易操作。若T-1日北向资金净流入大于高点阈值a，则在T日开盘买入，若已有持仓，则继续持有，不再买入。若T-1日北向资金净流入小于低点阈值b，则在T日开盘卖出，若无持仓，则不操作。若T-1日北向资金净流入介于低点阈值b和高点阈值a之间，则在T日不做任何操作。将这三步走的策略思想在聚宽(JoinQuant)平台上实现，前面也提到过了，北向资金最早从2014年11月17日才开始有数据，于是回测时间设置为2014-11-17~2021-08-24，为了简单观测纯择时效果，没有设置指数的交易费率和滑点，回测绩效图如下。方便PC端观看的横版图：方便手机端观看的竖版图：从回测图中看出，这个利用北向资金进行大盘择时的策略在2019年之后才跑出了明显的Alpha，我觉得这跟北向资金在A股中的影响力有关系，因为在2018年底之前北向资金持仓市值在A股中的占比不是很高，在2019年之后才有显著的提升，影响力大了才有人愿意跟随。目前从回测来看，这是一个不错的基础策略，也表明了近3年来北向资金对A股投资是具有一定的指示作用的。更深一层地，还可以利用北向资金进行选股，选股之后还可以对个股进行择时交易，有待继续探究分享。北向资金大盘择时的策略源码：参考资料：邢不行，2021-07，《妙用北向资金找出大盘买点卖点，跟着操作5年4倍》兴业证券，2020-12，《基本面量化视角下的机构持仓信息研究系列之三：基于北向资金持仓信息的A股配置全攻略》中金公司，2019-09，《为什么核心资产“抱团”并未解散？》跟踪『聪明钱』，巧用北向资金进行大盘择时（策略Alpha:14.5%）相关干货：quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)quantkoala：又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略(年化20.6%)quantkoala：唠一个异质化另类量化策略：K线面积交易法（盈亏比1.83）",
        "url": "http://www.zhihu.com/api/v4/answers/2208783030",
        "comment_count": 1,
        "voteup_count": 12,
        "question_title": "http://www.zhihu.com/api/v4/questions/427421676",
        "question_url": "什么叫北上资金，北向资金意味着什么？如何分析北向资金？"
    },
    "2206529698": {
        "created_time": 1636025836,
        "content": "我在题主这个大问题底下看到了两个小问题，第一就是Quant们在实际当中是如何构建多因子选股模型，第二个问题就是以前筛选出来的因子或者说多因子模型是否适合未来的市场情况。先来回答第二个问题，当你看到一个选股因子或者选股模型的时候，距离因子/模型的提出已经过去一段时间了，你可以用回测的方式检验“提出时刻→当前”的绩效情况，这段时间就是过去的未来，从而验证因子/模型的有效性，觉得是否将该因子/模型上模拟盘跟踪。对于第一个问题“如何构建多因子选股模型？”，以下将会以F-Score多因子选股模型为例子，简单说说构建流程。说的不好，大神轻拍，herewego~~~先来说说为啥选F-Score为例子，在量化界呢，一说到“多因子”，就不禁让人想起资本资产定价模型CAPM、套利定价模型APT、Fama-French三/四/五模型和Barra这些经典模型，更别说其他陆续提出的多因子模型，纷至沓来，让人应接不暇。特别是Barra多因子模型，用老郭的话来说，就是“名驰宇宙，晃动乾坤”，在量化界的名气太大了，很多萌新刚开始翻开说明书handbook和notes，生词和公式扑面而来，让人刚涌上来的三分热血就渐渐凉了下去。鉴于看这个问题的小伙伴有相当一部分是量化新手，所以我是不太建议量化新手一开始就选Barra多因子模型入门，且不说因子和模型的构建较为复杂，关键是Barra模型对数据质量的要求非常高，如果一开始就花大力气在洗数据这种dirtywork(脏活累活)上的话，会非常打击学习的积极性。于是乎，今天给想构建量化多因子选股模型的萌新Quant，介绍一个非常适合入门且非常百搭的量化基本面多因子模型F-Score，它是出自Piotroski的论文《ValueInvesting:TheUseofHistoricalFinancialStatementInformationtoSeparateWinnersfromLosers》，在华创金工的研报《双重筹码集中的基本面选股策略》中也被重点推荐过。我推荐的理由主要是模型构建非常简单，但非常有金融逻辑，由于使用的是0-1变量，F-Sccore模型对异常值的容忍度非常高，不需要特地清洗数据。不信啊，我们一起来揭开F-Score模型的面纱~愿意看原文探究细节的小伙伴，可以点击下方卡片阅读或下载，只想抓住内核框架的，听我唠一唠就能了解个大概了。http://citeseerx.ist.psu.edu/viewdoc/download;jsessionid=0306A4C4E259CB6FE132162F09CECD1C?doi=10.1.1.141.5533&amp;rep=rep1&amp;type=pdf​citeseerx.ist.psu.edu/viewdoc/download;jsessionid=0306A4C4E259CB6FE132162F09CECD1C?doi=10.1.1.141.5533&amp;rep=rep1&amp;type=pdf格雷厄姆和巴菲特等价值投资大师，每天挂在口头上的就是“用合理价格买优质股票”，“合理价格”看估值或风险承受能力，那股票的优质与否用什么衡量呢？这时候就轮到F-Score模型闪亮登场了。简单来说呢，F-Score就是一个利用9个因子对股票基本面进行评分的模型，得分越高，股票就约优质，这9个因子呢，都是可以基于财报数据计算出来的，因子清单和计算方式如下表所示。大概浏览一下上表，每个因子的取值只有0或1，当满足条件时，取值为1，反之为0。每满足一个条件得1分，满足N个条件得N分，因此，F-Score模型的最高评分就是9分。再详细看到每个因子~【资产收益率】用来衡量这个企业的盈利能力，“扣非”是为了剔除类似于卖房子设备、炒股投资带来的盈利，大于零表示企业处于盈利状态。【经营活动产生的现金流量净额比总资产】表示经营业务给企业带来的实际现金流入，因为利润里面是可能包含应收票据或应收账款的，类似于你去小卖部买东西赊账，小卖部账面盈利，但实际没有收到钱，大于零表示有实际的现金流入，企业真金白银的盈利。【资产收益率变化】表示企业盈利能力变化，大于零表示企业盈利加速，处于扩张状态。【应计收益率】比第二个因子更进一步地衡量企业真金白银的盈利能力，大于零表示企业盈利更为真实。【长期负债率变化】用来衡量企业偿债能力的变化，长期负债率=非流动负债/资产总额，小于零表示企业偿债能力增强。【流动比率变化】用来衡量企业变现能力的变化，流动比率=流通资产/流动负债，流动比率数值越大，企业的变现能力就越强，流动比率大于零表示企业的变现能力在增强。【股票是否增发】表示企业是否向股市再融资圈钱，不融资则表示企业依靠自身可以造血，有健康的现金流。【毛利率变化】衡量企业的竞争力变化，众所周知，如果企业没有行业壁垒护城河，则随着竞争者的融入，企业的毛利率会降低，大于零表示企业的竞争力在变强。【资产周转率变化】用来衡量企业的营运效率和管理质量，资产周转率=总营业额/总资产，资产周转率越高则表示企业能很好地利用自身资产生产商品/服务并销售出去，大于零则表示企业的营运效率和管理质量在提升。那这来自海外的F-Score基本面评分模型在中国A股是否有效呢，华创金工做了一个试验，将F-Score得分在0~3之间的股票归为Low组，4~6分的为Middle组，7~9份的为High组，进行分组回测，结果如下。从分组回测结果中看出，净值曲线是明显分层的，说明F-Score模型能起到一定的区分能力。对于个人而言，不需要投资那么多的股票，那我们就直接筛选F-Score得分为9的股票进行投资。依照这个简单朴素的思想，回测一下从2014年至今这个策略的绩效，如下所示。方便PC端观看的横版图：方便手机端观看的竖版图：从回测当中看出，相对于大盘的超额收益率不错，有23.4%，但同时也可以看出，由于是纯多头策略，部分时间收益率曲线也是横盘的，需要耐得住寂寞才能执行下去。在目前这种情况下，F-Score模型可能无法长期稳定带来可观的收益，但将其作为风控策略还是不错的，先对股票进行筛选，再叠加其他量价/资金流/筹码策略进行择时交易，Alpha应该能增强不少，留待后续探究。F-Score策略源码如下：参考资料：Piotroski，2002-01，《ValueInvesting:TheUseofHistoricalFinancialStatementInformationtoSeparateWinnersfromLosers》华创证券，2019-08，《双重筹码集中的基本面选股策略》其他相关：quantkoala：跟踪“聪明钱”，巧用北向资金进行大盘择时（策略Alpha:14.5%，附源码）quantkoala：261个策略/指标，萌新Quant群友在这本量化神作中学到的（书附源码）quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)",
        "url": "http://www.zhihu.com/api/v4/answers/2206529698",
        "comment_count": 2,
        "voteup_count": 185,
        "question_title": "http://www.zhihu.com/api/v4/questions/26904963",
        "question_url": "多因子选股模型在实际中如何构建？"
    },
    "2205069271": {
        "created_time": 1635956345,
        "content": "我最喜欢的量化模型的获取途径就是向有成就的高手学习，他们不经意的分享，就能让你灵光一现、茅塞顿开。我就以一个另类量化模型“K线面积交易法”作为例子分享吧，它是来自某位香港交易大神（《程序化交易教案》的作者），三年前发布的，可惜后来他把相关的文章删掉了，当初没有保存，后悔不已。quantkoala：【量化干货03】硬核量化干货密度最高的教程《程序化交易教案》，没有之一！21赞同·2评论文章近期看到圈子里又有人提出来，在原来的交易方法上进行了改进，效果还不错，原版的细节我已经记不清了，那就来说说改进后的吧，说得不对的地方，大神勿拍砖。现在大家随意打开股票/期货的K线图，任意周期的都可以，观察一下，是不是当价格出现大涨时，价格迅速向上，而均线跟不上，价格K线跟均线的间隙就会越来越大，围成的空间也会越来越大，大跌时也是这样。在这里，“K线面积”指的就是价格K线跟均线之间围成空间的面积，如上图红线围成的蓝色区域，实际计算时，就是把K线与均线两个交点之间的每根Bar收盘价减去均线值，然后求和就可以得到。在出现长时间大涨时，“K线面积”会非常大。在处于震荡时，K线跟均线交织在一起，“K线面积”就会非常小。根据“物极必反”的原理，上涨的趋势幅度越大，时间越长，对应就是“K线面积”越大，其后走震荡市或震荡后反转的概率就越大。就跟弹簧一样，你把它拉得越长，反弹的力度也就越大，你压弹簧也是同样的原理。因此，可以给“K线面积”设定一个阈值，当达到这个阈值的时候，价格趋势就很有可能走完了，要出现反转。但这个阈值可能设置得非常“玄学”，为了再次确认趋势可能已经到了“强弩之末”，加入KDJ指标，判断当前是不是买卖情绪出现转换。判断“强弩之末”，大家也可以用其他的指标，这里只是举例。自此，便可以形成一个相对完整的量化策略，小结一下。多头开仓信号：（1）下降趋势的“K线面积”达到阈值，之前成立即可（2）KDJ指标值大于80（3）价格涨超前一根K线最高价加一倍ATR空头开仓信号：（1）上涨趋势的“K线面积”达到阈值，之前成立即可（2）KDJ指标值小于20（3）价格跌破前一根K线最低价减一倍ATR多头/空头出场：ATR跟踪止损止盈是骡子是马，牵出来溜溜，回测一下，效果还是不赖，盈亏比有1.83。回测盈亏曲线图：回测使用的策略主体源码：这里只是举了一个简单的例子，想说明的就是大神们虽然不会把自己的机密核心公之于众，但偶尔的分享也能让我们受益匪浅，多关注量化大神，多勾搭多套磁。相关干货：你见过哪些怪异的量化交易策略？你见过哪些耳目一新的量化交易策略？",
        "url": "http://www.zhihu.com/api/v4/answers/2205069271",
        "comment_count": 2,
        "voteup_count": 15,
        "question_title": "http://www.zhihu.com/api/v4/questions/27018468",
        "question_url": "从哪里找量化模型学习？"
    },
    "2182197329": {
        "created_time": 1634821886,
        "content": "做量化交易几乎不需要懂金融，做量化并且稳定盈利肯定需要懂金融。因为书籍内容肯定为了解决某个问题，Python量化书籍的目的一般是解决“零基础小白不会开发量化策略”这个问题，那“编程实现一个策略”就是最简单最稳妥的内容交付方式，这样他教授的门槛低，你学习的门槛也低。你看，作者先给你科普一下量化，告诉你一个三因子策略，一步步手把手教你写出一行行代码，一点『Run』按钮，不断输出交易信号和持仓日志，跑出一条震荡向上的净值曲线，此刻一股豪情油然而生，感谢自己这段时间的付出，感激书籍作者的谆谆教诲和深刻指引，财务自由就在眼前。于是乎，在亲朋间，在网络上，不断给予这本书好评，千千万万这样的你，给书籍的作者带来满满的名利。书籍大卖，盆满钵满，你也学会了Python编程开发策略这项技能，大家都皆大欢喜，气氛一片融洽。之后，你把这个自己辛辛苦苦编写出来的三因子策略上到实盘，发现前期还是震荡的，后期就直接亏损了，亏损的钱都能买上百本量化书籍了。你开始咒骂，作者心系读者粉丝，感受到了你的召唤，蹦跶着来到了你的梦中，翻出了售卖图书时的宣传语，语重心长地说道。“你看，我教你搭建Python开发环境了吧”“我教你Python语法基础了吧”“我教你获取基本面数据和行情数据了吧”“我教你如何使用回测框架跑出净值曲线了吧”“我可从没说过保证每个人稳定盈利哦，别再骂我了，要乖~~~”梦醒了，你发作者承诺的都基本做到了，闭嘴了。是啊，作者多不易啊，谁不是拖家带口，有儿有女，需要赚钱养家，要是在上面写了一大堆金融理论（精不精通暂且不论），书籍厚得跟康熙字典一样，虽然可以卖高价，多收版税吧，但看晕了小白（从入门到放弃），口碑不行，也卖不出几本，书就白写了。悟了，这些书籍最多就是带你开发策略入门，策略稳定盈利还是要靠个人，多了解金融逻辑，让投资的胜率多偏向自己，没有金融逻辑支持的交易策略，盈亏就可能如同娱乐圈的大瓜，亏损和大瓜，不知道哪个先到来。以上文字皆是本人梦呓，没有别的意思~~~",
        "url": "http://www.zhihu.com/api/v4/answers/2182197329",
        "comment_count": 3,
        "voteup_count": 9,
        "question_title": "http://www.zhihu.com/api/v4/questions/350062063",
        "question_url": "做量化交易真的不需要懂金融吗，为何几乎所有的python量化书籍都毫不讲金融知识，反而对编程大讲特讲？"
    },
    "2095618531": {
        "created_time": 1630416139,
        "content": "回答知乎，结论先行。毛爷爷说过，“没有调查，没有发言权”，邓爷爷说过，“实践是检验真理的唯一标准”，前段时间基于北向资金数据，设计了针对大盘(沪深300指数)的量化择时策略，从回测效果来看，北向资金在近三年逐渐成为了“A股风向标”，具有一定的指导意义，能提高胜率，但并不是百分百准确。下面就把介绍和分析过程娓娓道来，正文开始~~~--------------------------------相信很多小伙伴在收盘之后，某个瞬间，电脑屏幕右下角悄咪咪地弹出这样子的小窗口。行情软件每天乐此不疲地把北向资金的资讯推送给你，说明有不少人在关注这个数据，那到底这个数据有没有作用呢，先让我们从“Whatis北向资金？”说起，大神可以跳过这一part哈，主要是给之前不熟悉北向资金的小伙伴稍微科普一下。众所周知，咱天朝物产丰富，A股散发着璀璨金光，但早期的A股市场是不允许境外资金直接参与的，因此，除了QFII/RQFII之外，天朝分别在2014年和2016年启动了沪市和深市与香港市场的资金互流通道。咱们借道儿去买香港市场的股票呢，就叫做“港股通”，大陆之外(境外)的投资者买咱们A股的通道呢，就叫做“陆股通”（沪股通+深股通），由于大陆内地在香港的北边儿，大家就用“北向资金”表示通过陆股通流入A股的境外资金。北向资金的发展历程中，有3个时间点值得我们注意。2014年11月17日，沪股通启动，总额度为3000亿元人民币，每日额度为130亿元人民币。2016年12月5日，深股通启动，不设总额度限制，每日额度为130亿元人民币。2018年4月11日，证监会同意将沪股通和深股通每日额度调整为520亿元人民币，自2018年5月1日起生效。目前，北向资金已经成为外资配置A股的主要渠道，对A股市场的影响力在不断提升当中，持股市值占A股流通市值的比例也在不断上升。除了行情软件和量化平台看资金流数据外，大家也可以直接到香港交易所(HKEX)官网直接看北向资金的原始数据，注意数据的单位是“百万元人民币”就行了。想必看到这里，大家已然了解北向资金的来龙去脉了，正巧最近在量化圈子里涌现了很多利用北向资金进行择时或选股的策略，今天就挑一个比较有逻辑和效果比较好的择时策略，拿出来唠一唠，以后有机会再分享更多。以下策略的构建主要参照了邢大的北向资金流择时策略思想，移植到聚宽(JoinQuant)平台上实现。该北向资金大盘量化择时策略的构建，跟把大象塞进冰箱里一样，都是分三步走。大盘行情用沪深300指数进行代表，并假设该指数可以买卖。Step1：计算每日北向资金的净流入金额，深股通未开通时，深股通净流入记为0。北向资金净流入=沪股通净流入+深股通净流入沪股通净流入=沪股通买入成交额-沪股通卖出成交额深股通净流入=深股通买入成交额-深股通卖出成交额Step2：在T日，将起始日到T-1日的每日北向资金净流入数据进行逆序排列(数值越大，排名越前)，然后将排列后的数据三等分，取前1/3分位的阈值作为高点阈值(中性情绪上沿位置，记为a)，取后1/3分位的阈值作为低点阈值(中性情绪下沿位置，记为b)。Step3：根据T-1日北向资金流净流入数值与高点阈值a、低点阈值b的大小比较，决定T日的交易操作。若T-1日北向资金净流入大于高点阈值a，则在T日开盘买入，若已有持仓，则继续持有，不再买入。若T-1日北向资金净流入小于低点阈值b，则在T日开盘卖出，若无持仓，则不操作。若T-1日北向资金净流入介于低点阈值b和高点阈值a之间，则在T日不做任何操作。将这三步走的策略思想在聚宽(JoinQuant)平台上实现，前面也提到过了，北向资金最早从2014年11月17日才开始有数据，于是回测时间设置为2014-11-17~2021-08-24，为了简单观测纯择时效果，没有设置指数的交易费率和滑点，回测绩效图如下。方便PC端观看的横版图：方便手机端观看的竖版图：从回测图中看出，这个利用北向资金进行大盘择时的策略在2019年之后才跑出了明显的Alpha，我觉得这跟北向资金在A股中的影响力有关系，因为在2018年底之前北向资金持仓市值在A股中的占比不是很高，在2019年之后才有显著的提升，影响力大了才有人愿意跟随。目前从回测来看，这是一个不错的基础择时策略，也表明了近3年来北向资金对A股投资是具有一定的指示作用的，具有较高胜率的“A股风向标”。北向资金大盘择时的策略源码：参考资料：邢不行，2021-07，《妙用北向资金找出大盘买点卖点，跟着操作5年4倍》兴业证券，2020-12，《基本面量化视角下的机构持仓信息研究系列之三：基于北向资金持仓信息的A股配置全攻略》中金公司，2019-09，《为什么核心资产“抱团”并未解散？》更多相关内容请见：quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？",
        "url": "http://www.zhihu.com/api/v4/answers/2095618531",
        "comment_count": 2,
        "voteup_count": 26,
        "question_title": "http://www.zhihu.com/api/v4/questions/410636928",
        "question_url": "北向资金是不是可以成为A股涨跌的风向标?"
    },
    "2079504961": {
        "created_time": 1629728883,
        "content": "不多，只想起来了3句话Sentence1：普通人：你懂个P啊Quant：你懂个Q啊Sentence2：普通人：你TM这是追涨杀跌Quant：我这叫动量策略Sentence3：普通人：NoZuoNoDieQuant：NoQuantNoDie",
        "url": "http://www.zhihu.com/api/v4/answers/2079504961",
        "comment_count": 0,
        "voteup_count": 6,
        "question_title": "http://www.zhihu.com/api/v4/questions/449482720",
        "question_url": "如何用一句话证明自己是Quant？"
    },
    "2071381956": {
        "created_time": 1629385575,
        "content": "看了之前各位大侠的回答，感觉大家都说得非常全面和透彻了，以下我主要从量化的角度出发，说说如何快速地程序化识别出MACD顶背离和底背离信号。为了避免误解，首先还是先来对顶背离和底背离进行一个简单的定义顶背离：证券价格波峰创新高，而MACD指标对应的波峰并没有创新高，价格趋势向上，指标趋势向下，后市可能会出现下跌，如下图所示。底背离：证券价格波峰创新低，而MACD指标对应的波峰并没有创新低，价格趋势向下，指标趋势向上，后市可能会出现上涨，如下图所示。目前找到一个比较好的量化识别思路，就是参照自己之前写的那篇文章《唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略》中关键点的识别。quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)首先找到所有的MACD金叉/死叉，然后根据金叉/死叉确定它们之间的MACD指标的波峰/波谷，再根据波峰/波谷的位置确定证券价格的波峰/波谷。若最近一个价格波峰大于前一个价格波峰，并且最近一个MACD波峰小于前一个MACD波峰，那就是顶背离。若最近一个价格波谷小于前一个价格波谷，并且最近一个MACD波谷大于前一个MACD波谷，那就是底背离。可能细节表达还不够清晰，还是直接上代码吧。Talkischeap，Ishowyouthecode！更过相关资料：交易系统的高盈亏比怎么实现？quantkoala：2个量化小技巧，双均线策略盈亏比从1.2提升到1.9（大神请绕行）你见过哪些怪异的量化交易策略？quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01",
        "url": "http://www.zhihu.com/api/v4/answers/2071381956",
        "comment_count": 9,
        "voteup_count": 30,
        "question_title": "http://www.zhihu.com/api/v4/questions/21838155",
        "question_url": "什么是MACD顶背离和底背离？"
    },
    "2069197380": {
        "created_time": 1629301380,
        "content": "各位大大都说的很全了，我就献丑说一个国外比较经典的策略IchimokuSystem，俗称“日本云图交易系统”，简称“日本云图”，原名“一目均衡表”，相传由日本记者一目山人（IchimokuSanjin，真名：细田悟一）发明，在二战前就已经发明出来，但直到1969年才向公众公布，在近几十年无论是在股市、债市、期市、汇市等领域均得到了国际业界认同。日本云图主要由5条线和一个云带(KUMO)构成，通过几者间关系的解读，可了解市场的强弱，并可得出买卖信号。现在详细讲讲这5条线和云带的计算方式，假设短中长三个时间周期参数为x、y、z，计算方式如下：短轴快线，Tenkan-Sen(转换线)=(x期间最高高点+x期间最低低点)/2；中轴慢线，Kijun-Sen(基准线)=(y期间最高高点+y期间最低低点)/2；迟行线，ChinkouSpan(迟行线)=今天的收盘价格，画在过去y期处；先行指标A，SenkouSpanA(先行带A)=(转换线+基准线)/2，画在未来y期处；先行指标B，SenkouSpanB(先行带B)=(最高高点+最低低点)/2，取过去z期间，画在未来y期处；云带，Kumo=SenkouSpanA和SenkouSpanB之间的区域。x、y、z在原来一般默认为9、26、52，因为在1930年代，日本是每周工作6天，传统的系统以半星期(短)、一个月(中)及二个月(长)为准，现今社会已经由6个工作日改为5个（虽然现在有改回来的趋势），根据日本云图的精髓，也可以改为7，22，44。日本云图的用法很多，但比较通用的规则如下：看多信号：价在云之上价上穿基准线转换线上穿基准线云从红翻绿（SenkouSpanA领先SenkouSpanB为绿云，反之为红云）看空信号：价在云之下价下穿基准线转换线下穿基准线云从绿翻红（SenkouSpanA领先SenkouSpanB为绿云，反之为红云）后来有一量化大神把日本云图的策略精髓移植到了国内期货和股票上，改进后在交易开拓者TB、文华财经WH8和MultiCharts平台上实现，并进行了小范围的有偿分享。看了一下，策略的大体思路就是：1.价格出现“V型”走势做多，出现“倒V型”走势则做空；2.价格在云带上方，只做多不做空；价格在云带下方，只做空不做多；大神自豪地说这是中国版的云图策略，看看这坚挺的回测盈亏曲线！其实，日本云图实际分为两个部分。第一部分是通过图表本身，解读市场的信号；第二部分，是通过计算，预测市场的方向和位置。特别是第二部分，可以说在很大程度上简化解读了周期理论、江恩理论和波浪理论的核心部分，有很强的适用性，有待各位大侠们深入探究。参考资料：K线图，百度百科一目均衡表，百度百科汇商传媒，知乎，《让你一眼就看清趋势，“一目均衡表”究竟有多神奇！？》更多相关资料：quantkoala：东京奥运会开始了，唠唠来自日本的云图策略IchimokuSystemquantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)291赞同·13评论文章quantkoala：又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略(年化20.6%)113赞同·2评论文章quantkoala：还来唠一唠曾在全球量化策略热榜上排名第4的TheBigBlue策略(年化57.6%)31赞同·4评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/2069197380",
        "comment_count": 3,
        "voteup_count": 87,
        "question_title": "http://www.zhihu.com/api/v4/questions/35101479",
        "question_url": "职业交易员都有哪些堪称经典的交易策略？"
    },
    "2013579367": {
        "created_time": 1626946298,
        "content": "前两天推荐过一本量化神作，非常感谢大侠们的认可。今天继续“不遗余力”给大家推荐佩里•考夫曼的《交易系统与方法》（TradingSystemandMethods）。主要是基于以下3个理由：（1）作者牛掰，内容有保证提起作者佩里•考夫曼，很多人不熟悉，但他却是前NASA登月科学家、现如今量化先驱，在量化圈子里，或多或少都听说过“考夫曼均线”，学名为“自适应移动均线”（AdaptiveMovingAverage，简称AMA），这就是他的杰作之一。考夫曼均线在传统的EMA均线中引入了“价格效率系数”，自适应动态调整均线的灵敏度，市场震荡时偏向于使用慢线，市场单边趋势明显时偏向于使用快线，从而更加真实地反映市场趋势，抓住上涨/下跌时机，规避市场来回震荡的影响。（2）中英文版本兼有，方便国人阅读大家就不用为了读英文原著头大了，而且中文版中若有“含糊”的部分，可在英文原版中找到对照。（3）丰富的示例源码考夫曼老爷子可不是光说不练的人，书籍配有满满当当的示例策略/指标，披露了老爷子数百个交易策略和技术指标，而且全部都有对应的源代码。说个题外话，这本量化神作，之前我曾推荐给一位群友，用以量化入门进阶的，一开始他是极力拒绝的，为什么呢？因为他当时只会Python，得知源代码是TradeStation的EasyLanguage之后，就回复了一句“我是用Python的！”，还附带了一个捂脸的表情。我一开始感到很诧异，细细思考以后就理解了他为什么这么想，其实除了他以外，还有相当一部分群友也有这种心理“自己不会这个编程语言，就不想看这个策略”。我非常理解，待在舒适区是人趋利避害的本性，更别提向学习区和恐慌区迈进了。其实啊，无论是国外的TradeStation，还是国内的交易开拓者TB、文华财经、金字塔和MultiCharts（MC）等等量化平台，它们被设计的初衷就是“让未曾受过专业计算机培训的交易者，也能够轻松简便地建立自己的量化交易策略”。因此，这些量化平台的编程方式都是很偏口语化的，只要能认识简单的英文，不敢保证你能顺滑地编写策略，但是看懂策略的交易思想是铁定没问题的。于是我打开了策略源码文件，截取了部分源码，写上注释对照，发给这个群友再争取一下，我坚信他连Python都学会了，这样口语化的策略能看不懂？Happyending~~~再废话一句，不要排斥其他编程语言或其他领域的策略源码，站在巨人肩膀上，博采众长，取精去粕，也许你今天向前的一小步，可能就是你量化交易生涯迈出的一大步。更多相关内容：quantkoala：261个策略/指标，萌新Quant群友在这本量化神作中学到的（书附源码）quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)",
        "url": "http://www.zhihu.com/api/v4/answers/2013579367",
        "comment_count": 18,
        "voteup_count": 435,
        "question_title": "http://www.zhihu.com/api/v4/questions/22948899",
        "question_url": "有哪些值得推荐的量化投资类书籍？"
    },
    "2008806921": {
        "created_time": 1626752091,
        "content": "各位量化大侠都推荐了非常多非常好的量化书籍，我狗尾续貂，着重给大家推荐佩里•考夫曼的《交易系统与方法》（TradingSystemandMethods）。主要是基于以下3个理由：（1）作者牛掰，内容有保证提起作者佩里•考夫曼，很多人不熟悉，但他却是前NASA登月科学家、现如今量化先驱，在量化圈子里，或多或少都听说过“考夫曼均线”，学名为“自适应移动均线”（AdaptiveMovingAverage，简称AMA），这就是他的杰作之一。考夫曼均线在传统的EMA均线中引入了“价格效率系数”，自适应动态调整均线的灵敏度，市场震荡时偏向于使用慢线，市场单边趋势明显时偏向于使用快线，从而更加真实地反映市场趋势，抓住上涨/下跌时机，规避市场来回震荡的影响。（2）中英文版本兼有，方便国人阅读大家就不用为了读英文原著头大了，而且中文版中若有“含糊”的部分，可在英文原版中找到对照。（3）丰富的示例源码考夫曼老爷子可不是光说不练的人，书籍配有满满当当的示例策略/指标，披露了老爷子数百个交易策略和技术指标，而且全部都有对应的源代码。说个题外话，这本量化神作，之前我曾推荐给一位群友，用以量化入门进阶的，一开始他是极力拒绝的，为什么呢？因为他当时只会Python，得知源代码是TradeStation的EasyLanguage之后，就回复了一句“我是用Python的！”，还附带了一个捂脸的表情。我一开始感到很诧异，细细思考以后就理解了他为什么这么想，其实除了他以外，还有相当一部分群友也有这种心理“自己不会这个编程语言，就不想看这个策略”。我非常理解，待在舒适区是人趋利避害的本性，更别提向学习区和恐慌区迈进了。其实啊，无论是国外的TradeStation，还是国内的交易开拓者TB、文华财经、金字塔和MultiCharts（MC）等等量化平台，它们被设计的初衷就是“让未曾受过专业计算机培训的交易者，也能够轻松简便地建立自己的量化交易策略”。因此，这些量化平台的编程方式都是很偏口语化的，只要能认识简单的英文，不敢保证你能顺滑地编写策略，但是看懂策略的交易思想是铁定没问题的。于是我打开了策略源码文件，截取了部分源码，写上注释对照，发给这个群友再争取一下，我坚信他连Python都学会了，这样口语化的策略能看不懂？Happyending~~~再废话一句，不要排斥其他编程语言或其他领域的策略源码，站在巨人肩膀上，博采众长，取精去粕，也许你今天向前的一小步，可能就是你量化交易生涯迈出的一大步。更多相关内容：quantkoala：261个策略/指标，萌新Quant群友在这本量化神作中学到的（书附源码）quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)",
        "url": "http://www.zhihu.com/api/v4/answers/2008806921",
        "comment_count": 8,
        "voteup_count": 92,
        "question_title": "http://www.zhihu.com/api/v4/questions/54727745",
        "question_url": "量化投资学习推荐的书籍都有哪些？"
    },
    "1994461848": {
        "created_time": 1626105383,
        "content": "我来献丑说一个提高盈亏比的技巧，能直接将策略的盈亏比从1.1提高到1.7，先放上改进前后的对比图，大神请绕行~~~改进之前：改进之后：趋势策略的核心思想是“截断亏损，让利润奔跑”，显著特点就是“高盈亏比，低胜率”，一次盈利抵扣几次亏损。趋势策略开仓信号分为“真趋势信号”和“假趋势信号”，真趋势信号就是让策略真正盈利的信号，而假趋势就是“开仓之后不久，标的价格朝反方向运行“的情况。假趋势信号次数过多的话，不仅增加了交易次数，提高交易成本，还拉低了策略的盈亏比，因此，过滤掉策略的假趋势信号，便能有效地提高策略绩效。如何过滤掉假趋势信号呢？这就要引入此处所要介绍技巧的核心指标——ATR（AverageTrueRange，平均真实波动范围）。ATR出自于《海龟交易法则》当中，经常被用于量化策略的开平仓指标构建和资金管理当中，在本技巧当中主要是用于提高突破策略开仓的“难度”，进而过滤掉部分假趋势信号。ATR指标主要用来衡量当前标的近期波动率（行情自适应），如下图所示，其中A=T日最高价–T日最低价B=ABS(T-1日收盘价–T日最低价)C=ABS(T-1日收盘价–T日最高价)TR=MAX(A，B，C)ATR=MA(TR，N)，N为周期数价格波动越大（不管向上还是向下），TR值（下图尖峰状黑线）就越大，为了平滑单日TR极值的影响，ATR采用了平均的思想，将多个周期的TR值平均，用于衡量最近一段时期平均波动幅度的大小。让我们先来构建一个简单的策略，看看在不使用ATR指标进行假趋势过滤时的绩效。原始策略是纯粹基于PVT算法（算法原理详见PVT指标），如下图所示，在PVT指标上穿PVT上轨时，策略开仓，采用跟踪止损的方式进行平仓。策略回测盈亏曲线如下所示，从中看出策略绩效并不理想，主要是由于存在着较多的假趋势信号。接下来，我们引入ATR指标，在原有的开仓方式上加入过滤条件“价格高于前期最高价+1.2倍ATR”，平仓方式保持不变。改进后的策略回测盈亏曲线如下所示，可以看出策略绩效出现了明显的改善，这是因为新加入的ATR过滤条件过滤了部分的假趋势信号。本次策略测试所使用的源码如下：更多相关内容：quantkoala：一个量化小技巧，突破策略盈亏比从1.1提高到1.7（大神勿进）quantkoala：2个量化小技巧，双均线策略盈亏比从1.2提升到1.9（大神请绕行）quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)",
        "url": "http://www.zhihu.com/api/v4/answers/1994461848",
        "comment_count": 14,
        "voteup_count": 86,
        "question_title": "http://www.zhihu.com/api/v4/questions/282056538",
        "question_url": "交易系统的高盈亏比怎么实现？"
    },
    "1988960949": {
        "created_time": 1625847557,
        "content": "最近给我带来耳目一新感觉的策略有两个，其中一个就是，曾在全球量化策略热榜上排名第9的TrendModelSys策略，先放上一张私募大神的实现/改进的回测图。TrendModelSys策略来源于《FuturesTruthMagazine》的交易系统热榜，在2017年第2期的FT热榜中，该策略在“自发布以来表现Top10”和“单市场自发布以来表现Top10”皆排名第9，提供者为DavePoxon。《FuturesTruthMagazine》是美国著名权威的交易系统评选杂志之一，会定期通过不同维度对庞大的策略库进行跟踪评选。这些交易系统一般都被用于大宗商品、股票、外汇、股指期货等多个市场，由于进入排名榜单的交易系统业绩表现并不是一直稳定的，于是榜单会区分“上市以来/最近一年”和“单市场/多市场”进行区分排名，我们平时经常听到的Aberration和R-Breaker等交易系统，就是这个榜单的常客。这个策略本质是一个趋势突破的交易系统，利用MACD快(DIF)慢(DEA)线的金叉死叉，当证券价格突破过去N次金/死叉记录的“最高/低价±0.5倍ATR”时，开仓；若持有多头仓位，当证券价格回落至M根K线最低点平仓；若持有空头仓位，当证券价格上升至过去M根K线最高点平仓。做过CTA策略或者量化择时的小伙伴都知道，在突破系统当中，上下轨构建的常用方法之一就是指定时间范围的最高/低价的极值，或者其他代理指标的极值，比如经典的海龟交易法则开仓信号就是突破N个周期的最高价。TrendModelSys策略让我耳目一新的地方就在于，它不是指定时间范围来构建上下轨的，而是采用N次MACD双线金叉/死叉对应的代理指标的极值来作为开仓信号，相当于是使用了关键点的量价数据，而不是所有“良莠不齐”的数据点。TrendModelSys策略最早期的开发实现是在TradeStation平台完成的，后来在2017年底，经某私募大神A引入，并移植到交易开拓者TB、金字塔和MultiCharts平台上，并进行过小范围分享。最后来对比一下2017年底刚发布时和今年的效果，简单的策略思想可能泛化能力就是强一些。2017年刚发布时的回测效果：2021年经私募大神B改进后的回测盈亏曲线：我是@quantkoala，一枚量化/程序化策略源码捕手，喜欢全方位收集市面上主流的策略源码（股票+期货+外汇），在『量化藏经阁』社群中持续分享量化策略和量化知识等干货，欢迎关注点赞&amp;联系沟通，探讨共赢&amp;成果共享，相互交流&amp;共同进步！！！常在线，多交流，多沟通！！！更多相关资料请见：quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章260赞同·10评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)294赞同·13评论文章299赞同·13评论文章311赞同·13评论文章314赞同·13评论文章333赞同·14评论文章333赞同·14评论文章333赞同·14评论文章quantkoala：又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略(年化20.6%)115赞同·2评论文章118赞同·2评论文章120赞同·2评论文章124赞同·2评论文章132赞同·2评论文章132赞同·2评论文章132赞同·2评论文章quantkoala：还来唠一唠曾在全球量化策略热榜上排名第4的TheBigBlue策略(年化57.6%)32赞同·4评论文章33赞同·4评论文章35赞同·4评论文章36赞同·4评论文章43赞同·4评论文章43赞同·4评论文章43赞同·4评论文章quantkoala：【策略干货度：★★★☆☆】如何获取源源不断的量化策略？（CTA/期货策略合集篇）46赞同·0评论文章47赞同·0评论文章47赞同·0评论文章47赞同·0评论文章48赞同·0评论文章49赞同·0评论文章54赞同·0评论文章54赞同·0评论文章54赞同·0评论文章quantkoala：【策略源码】曾经收集过的量化策略/程序化交易策略源码合集（CTA/商品期货篇）26赞同·6评论文章27赞同·6评论文章27赞同·6评论文章27赞同·6评论文章28赞同·6评论文章28赞同·6评论文章31赞同·6评论文章32赞同·6评论文章32赞同·6评论文章quantkoala：一个号称“买在低点，卖在高点”的震荡策略Q02（从60万到650万）114赞同·4评论文章115赞同·4评论文章116赞同·4评论文章116赞同·4评论文章117赞同·4评论文章117赞同·4评论文章121赞同·4评论文章121赞同·4评论文章121赞同·4评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01143赞同·19评论文章143赞同·19评论文章143赞同·19评论文章143赞同·19评论文章144赞同·19评论文章145赞同·19评论文章147赞同·19评论文章147赞同·19评论文章147赞同·19评论文章quantkoala：曾经月租金10k+的实盘“股指王”策略19赞同·0评论文章19赞同·0评论文章19赞同·0评论文章19赞同·0评论文章20赞同·0评论文章20赞同·0评论文章19赞同·0评论文章19赞同·0评论文章19赞同·0评论文章quantkoala：跟踪“聪明钱”，巧用北向资金进行大盘择时（策略Alpha:14.5%，附源码）46赞同·9评论文章72赞同·9评论文章72赞同·9评论文章72赞同·9评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/1988960949",
        "comment_count": 27,
        "voteup_count": 490,
        "question_title": "http://www.zhihu.com/api/v4/questions/264155185",
        "question_url": "你见过哪些耳目一新的量化交易策略？"
    },
    "1984928729": {
        "created_time": 1625672722,
        "content": "我最近见过最怪异的量化策略是因为它太短了，还TM赚钱，还曾排过全球第6！最近的盈亏曲线如下：怎么形容它的短呢？犹如潘长江之于姚明，小土丘之于喜马拉雅，小溪流之于马里亚纳海沟。它就是在《FuturesTruthMagazine》中多市场量化策略排名第6的RUMI策略，RUMI策略的开发者是DavidImgraben。这个《FuturesTruthMagazine》是美国著名权威的交易系统评选杂志之一，会定期通过不同维度对庞大的策略库进行跟踪评选。这些交易系统一般都被用于大宗商品、股票、外汇、股指期货等多个市场，由于进入排名榜单的交易系统业绩表现并不是一直稳定的，于是榜单会区分“上市以来/最近一年”和“单市场/多市场”进行区分排名，我们平时经常听到的Aberration和R-Breaker等交易系统，就是这个榜单的常客。RUMI策略最早期是在TradeStation平台实现的，该TS平台的开发语言为EasyLanguage，在美国已有30多年的历史。后来在2017年底，经某私募大神A引入，并移植到交易开拓者TB、文华财经和MultiCharts平台上，同时适用于商品期货和中国A股，进行小范围的有偿分享。打开源码浏览，诶~~~用力揉揉眼睛，发现没有看错。这真的是全部的策略源码！但是为什么这么短？！跟初次看到潘金莲的原配一样.......仔细一琢磨，才发现它的精妙之处，该策略本质使用的是双均线，但不是我们平时的那种用法——“短线上穿长线做多，短线下穿长些做空”，而是计算双均线的离差值，并进行平滑处理，类似于微积分求X轴上下面积代数之和的简化方法，一定程度上过滤市场噪音，进而发出有效的开平仓信号。私募大神A初始发布之时的回测盈亏曲线：2021年经私募大神B改进后的回测盈亏曲线：我是@quantkoala，一枚量化/程序化策略源码捕手，喜欢全方位收集市面上主流的策略源码（股票+期货+外汇），在『量化藏经阁』社群中持续分享量化策略和量化知识等干货，欢迎关注点赞&amp;联系沟通，探讨共赢&amp;成果共享，相互交流&amp;共同进步！！！常在线，多交流，多沟通！！！更多相关资料请见：quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？222赞同·10评论文章227赞同·10评论文章229赞同·10评论文章231赞同·10评论文章237赞同·10评论文章240赞同·10评论文章259赞同·10评论文章260赞同·10评论文章quantkoala：唠一唠曾在全球量化策略热榜上排名第9的TrendModelSys策略(年化34.3%)294赞同·13评论文章299赞同·13评论文章311赞同·13评论文章314赞同·13评论文章333赞同·14评论文章333赞同·14评论文章quantkoala：又来唠一唠曾在全球量化策略热榜上排名第6的RUMI策略(年化20.6%)115赞同·2评论文章118赞同·2评论文章120赞同·2评论文章124赞同·2评论文章132赞同·2评论文章132赞同·2评论文章quantkoala：还来唠一唠曾在全球量化策略热榜上排名第4的TheBigBlue策略(年化57.6%)32赞同·4评论文章33赞同·4评论文章35赞同·4评论文章36赞同·4评论文章43赞同·4评论文章43赞同·4评论文章quantkoala：【策略干货度：★★★☆☆】如何获取源源不断的量化策略？（CTA/期货策略合集篇）46赞同·0评论文章47赞同·0评论文章47赞同·0评论文章47赞同·0评论文章48赞同·0评论文章49赞同·0评论文章54赞同·0评论文章54赞同·0评论文章quantkoala：【策略源码】曾经收集过的量化策略/程序化交易策略源码合集（CTA/商品期货篇）26赞同·6评论文章27赞同·6评论文章27赞同·6评论文章27赞同·6评论文章28赞同·6评论文章28赞同·6评论文章31赞同·6评论文章32赞同·6评论文章quantkoala：一个号称“买在低点，卖在高点”的震荡策略Q02（从60万到650万）114赞同·4评论文章115赞同·4评论文章116赞同·4评论文章116赞同·4评论文章117赞同·4评论文章117赞同·4评论文章121赞同·4评论文章121赞同·4评论文章quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01143赞同·19评论文章143赞同·19评论文章143赞同·19评论文章143赞同·19评论文章144赞同·19评论文章145赞同·19评论文章147赞同·19评论文章147赞同·19评论文章quantkoala：曾经月租金10k+的实盘“股指王”策略19赞同·0评论文章19赞同·0评论文章19赞同·0评论文章19赞同·0评论文章20赞同·0评论文章20赞同·0评论文章19赞同·0评论文章19赞同·0评论文章quantkoala：跟踪“聪明钱”，巧用北向资金进行大盘择时（策略Alpha:14.5%，附源码）46赞同·9评论文章72赞同·9评论文章72赞同·9评论文章",
        "url": "http://www.zhihu.com/api/v4/answers/1984928729",
        "comment_count": 53,
        "voteup_count": 636,
        "question_title": "http://www.zhihu.com/api/v4/questions/35811735",
        "question_url": "你见过哪些怪异的量化交易策略？"
    },
    "1975161408": {
        "created_time": 1625236180,
        "content": "拿着刚测好的因子，悄咪咪走进领导办公室，一进去就顺带把门关上。凑到领导耳边，小声说道：领导，我发现了一个NB因子，您每月跟着它买5只股票，保你一年能挣50%。领导皱眉，看着你不语~你再说：您别不信啊，你看世坤论文《101FormulaicAlphas》第9页的22号因子，这个NB因子有理有据。领导面部肌肉开始抽搐，看着你依旧不语~你递过回测图表，说道：我也做过回测了，年化70%妥妥滴，我跟您说50%还是打过折扣的了。领导终于开口：因子有没有效我不管，你TM踩我脚了！！！更多相关内容：quantkoala：这个量价背离的因子，最近2年又开始支棱起来了quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？",
        "url": "http://www.zhihu.com/api/v4/answers/1975161408",
        "comment_count": 7,
        "voteup_count": 69,
        "question_title": "http://www.zhihu.com/api/v4/questions/366533400",
        "question_url": "到底什么样的量化因子能让领导满意？"
    },
    "1957316035": {
        "created_time": 1624465631,
        "content": "如果一开始没有思路，摸不着门道，可以先看一下经典的因子论文，比如说《101FormulaicAlphas》，它是WorldQuant（世坤投资）在2015年底发布的22页论文，其中记录了101个Alpha因子。可以点击下方卡片直达下载阅读~101FormulaicAlphas顺着其中因子的构建进行测试和优化。比如说这两年又突然支棱起来的22号因子（Alpha#22）。“rank(x)=cross-sectionalrankdelta(x,d)=today’svalueofxminusthevalueofxddaysagocorrelation(x,y,d)=time-serialcorrelationofxandyforthepastddaysstddev(x,d)=movingtime-seriesstandarddeviationoverthepastddays”这个因子主要表示的是要在横截面中选择“最近股价与成交量背离扩大，且股价波动率较大”的股票。最近太懒了，就不做去极值、中性化、标准化、分组回测、IC/ICIR分析等科班内容了，我就偷偷贴一个玩具策略给大家吧。策略的核心思想就是：在设置的回测时间范围内，每个月第1个交易日，选择沪深300股票池里Alpha#22因子值最大的5只非停牌股进行换仓。最近2年（2019-01-01~2021-06-21）的回测曲线如下，策略年化收益率接近70%，是不是突然感觉很激动了呢？不过小心一盆冷水当头泼过来哦~看完下面的文章，你就明白“量化不易”的原因了。quantkoala：这个量价背离的因子，最近2年又开始支棱起来了更多相关内容：quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？quantkoala：一个量化小技巧，突破策略盈亏比从1.1提高到1.7（大神勿进）quantkoala：一个量化小技巧，突破策略盈亏比从1.1提高到1.7（大神勿进）",
        "url": "http://www.zhihu.com/api/v4/answers/1957316035",
        "comment_count": 0,
        "voteup_count": 358,
        "question_title": "http://www.zhihu.com/api/v4/questions/366297482",
        "question_url": "量化新手找因子如何入门？"
    },
    "1957293690": {
        "created_time": 1624464590,
        "content": "说一个早些时候提出的，在2019年之后“大放异彩”的因子，它就是《101FormulaicAlphas》中第22号因子，主要是倾向选择“量价背离+波动率放大”的股票。以下是基于该因子简单策略的净值曲线，回测时间为2019-01-01~2021-06-21。乍一看，可能都会觉得这个因子莫名其妙，不明白是什么意思，我大概来说一下。先来看计算式子的左半部分~“correlation(high,volume,5)”表示是最近5个交易日，股票最高价和成交量的相关系数；“delta(v,5)”表示T日数值v减去T-5日的数值v；“-1*delta(correlation(high,volume,5),5)”就表示选择最近5个交易日（1周）股价与成交量背离扩大的股票再来看计算式子的右半部分~“stddev(close,20)”表示最近20个交易日（1个月）股票收盘价的标准差“rank(stddev(close,20))”则表示最近股价波动率的横截面排序，波动率越大，排序值越大。左右两个部分的式子合在一起就是表示要在横截面中选择“最近股价与成交量背离扩大，且股价波动率较大”的股票。“为了避免被我这英语二把刀“坑害”，我把论文中的原文贴出来rank(x)=cross-sectionalrankdelta(x,d)=today’svalueofxminusthevalueofxddaysagocorrelation(x,y,d)=time-serialcorrelationofxandyforthepastddaysstddev(x,d)=movingtime-seriesstandarddeviationoverthepastddays”相关链接：quantkoala：这个量价背离的因子，最近2年又开始支棱起来了quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？quantkoala：一个量化小技巧，突破策略盈亏比从1.1提高到1.7（大神勿进）",
        "url": "http://www.zhihu.com/api/v4/answers/1957293690",
        "comment_count": 12,
        "voteup_count": 257,
        "question_title": "http://www.zhihu.com/api/v4/questions/392723180",
        "question_url": "2019年以后量化交易新提出的比较有意思的量化因子有哪些?"
    },
    "1953238373": {
        "created_time": 1624290353,
        "content": "各位答主大大都说的很好，那我献丑说说我的一个改进小思路吧，因为没有看到题主的具体交易数据，我只能靠自己的感觉经验说说，可能不是很成熟，大神请绕行~题主的整个策略是由5个趋势型子策略组合而成，在不考虑它们互补性的情况下（看不到子策略数据，无法考虑），每个子策略表现越好，那组合策略表现就越好。策略改进的方向之一就是优化子策略的表现，比如说，通过观察实盘的交易详情，看看能否发现和过滤掉部分亏损的开仓信号模式，提高策略的盈亏比。下文就给大家介绍一个量化小技巧，能将策略的盈亏比从1.1提高到1.7，可能举的实例不是很恰当，大家体会大概的意思就好，先放上改进前和改进后的盈亏曲线对比，让大家先直观感受一下。改进之前：改进之后：趋势策略的核心思想是“截断亏损，让利润奔跑”，显著特点就是“高盈亏比，低胜率”，一次盈利抵扣几次亏损。趋势策略开仓信号分为“真趋势信号”和“假趋势信号”，真趋势信号就是让策略真正盈利的信号，而假趋势就是“开仓之后不久，标的价格朝反方向运行“的情况。假趋势信号次数过多的话，不仅增加了交易次数，提高交易成本，还拉低了策略的盈亏比，因此，过滤掉策略的假趋势信号，便能有效地提高策略绩效。如何过滤掉假趋势信号呢？这就要引入此处所要介绍技巧的核心指标——ATR（AverageTrueRange，平均真实波动范围）。ATR出自于《海龟交易法则》当中，经常被用于量化策略的开平仓指标构建和资金管理当中，在本技巧当中主要是用于提高突破策略开仓的“难度”，进而过滤掉部分假趋势信号。ATR指标主要用来衡量当前标的近期波动率（行情自适应），如下图所示，其中A=T日最高价–T日最低价B=ABS(T-1日收盘价–T日最低价)C=ABS(T-1日收盘价–T日最高价)TR=MAX(A，B，C)ATR=MA(TR，N)，N为周期数价格波动越大（不管向上还是向下），TR值（下图尖峰状黑线）就越大，为了平滑单日TR极值的影响，ATR采用了平均的思想，将多个周期的TR值平均，用于衡量最近一段时期平均波动幅度的大小。让我们先来构建一个简单的策略，看看在不使用ATR指标进行假趋势过滤时的绩效。原始策略是纯粹基于PVT算法（算法原理详见PVT指标），如下图所示，在PVT指标上穿PVT上轨时，策略开仓，采用跟踪止损的方式进行平仓。策略回测盈亏曲线如下所示，从中看出策略绩效并不理想，主要是由于存在着较多的假趋势信号。接下来，我们引入ATR指标，在原有的开仓方式上加入过滤条件“价格高于前期最高价+1.2倍ATR”，平仓方式保持不变。改进后的策略回测盈亏曲线如下所示，可以看出策略绩效出现了明显的改善，这是因为新加入的ATR过滤条件过滤了部分的假趋势信号。本次策略测试所使用的源码如下：这只是展示了ATR波动率过滤假趋势信号和优化策略盈亏比的一个小例子，他还有更多让策略精进的方法，留待各位大大去探索了。更多内容请见：quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01quantkoala：【策略干货度：★★★☆☆】如何获取源源不断的量化策略？（CTA/期货策略合集篇）",
        "url": "http://www.zhihu.com/api/v4/answers/1953238373",
        "comment_count": 14,
        "voteup_count": 91,
        "question_title": "http://www.zhihu.com/api/v4/questions/26852868",
        "question_url": "程序化做趋势跟踪策略怎么精进？"
    },
    "1945035258": {
        "created_time": 1623907784,
        "content": "如果量化公司给你的考量是100分，这个证书对于实习生找量化实习能贡献10分，应届生能贡献5分，往届生再找量化工作就是0分，已经是高估了。Certificationischeap，showyourstrategy！",
        "url": "http://www.zhihu.com/api/v4/answers/1945035258",
        "comment_count": 0,
        "voteup_count": 6,
        "question_title": "http://www.zhihu.com/api/v4/questions/465132086",
        "question_url": "考了CQF证书，对以后的从事量化方面的工作有多大作用？"
    },
    "1852537989": {
        "created_time": 1619263847,
        "content": "全文约5000字，3年实践经验，从量化小白到策略老兵，一项“投机取巧”的知识技能。看了诸多大神的回答，感觉已经把量化涉及到的量化知识说得很完整了，那我就来说说“投机取巧”的知识技能：如何通过清单思维拆解大神们的策略源码，博采众长，自成一家！要点结论先放在这里：采用清单思维，将所看到的策略拆解成品种选择、入场规则、出场规则和仓位管理这4个策略核心要素，记录在「策略清单」当中。在日后需要将新的交易思想或投资理念编程实现成策略，并进行回测改进优化、模拟盘实盘验证时，便可以从「策略清单」当中随时抽取相似对应的元素进行组合，并且也将相应的策略源码进行改写/拼接/组合。只要我们拆解的策略足够多，“太阳底下无新鲜事”，采用此方式，再也不用对策略的实现冥思苦想，至少可以采用相似的方式进行快速实现，“站在巨人的肩膀上”，策略开发效率提升何止10倍？！------------------------------------------目录-------------------------------------------01为什么高手开发策略这么厉害（快准狠）？02如何分析优秀策略？（1）核心要素之一：品种选择（2）核心要素之二：入场规则（3）核心要素之三：出场规则（4）核心要素之四：仓位管理03如何寻找源源不断的量化策略(附源码)？第一层：公开免费获取（干货度：★☆☆☆☆）第二层：公开付费获取（干货度：★★★☆☆）第三层：小圈子付费也不一定获取（干货度：★★★★★）（1）头部公募基金的委外课题（策略+源码+数据）（2）北大Quant大神的高频研究（策略+源码+数据）（3）香港Quant大神的二级交易核心分享04全文总结------------------------------------------正文开始-------------------------------------------你有没有过这种的策略开发经历——相同一本交易书籍，自己看过就完了，图一乐呵，有人却能量化出交易规则、形成指标/因子、写出策略代码、模拟盘验证、实盘盈利。因为后者有一个「策略兵器库」（大脑里or笔记中），遇到任何交易想法/投资理念——随时调用，快速匹配，回测优化，模拟验证、实盘盈利。掌握好经过验证的方法，大家都能拥有自己的「策略兵器库」。01为什么高手开发策略这么厉害（快准狠）？3年前，我开始接触量化投资，虽然喜欢每天宅在家里研究策略，但通过线下参加策略/金工会议，线上参加量化社群，认识了不少的Quant大神/策略高手。我发现他们有共同的一点：他们遇到任何新的交易思想/投资理念，都能很快拓展并形成一个完整的量化策略，而且不是那种夸夸其谈，而是真正的思想理念到交易规则，口头文字到策略源码，都想的很清楚。我以前十分疑惑，觉得这些高手大神都比较聪明，天赋异禀，老天爷赏饭吃，所以很厉害。但3这些年时间过去，慢慢发现，自己逐渐具备了这种能力，虽然跟高手大神们相比还差得很远。我才猛然明白，这并不是所谓的「天赋异禀」，而是长期的刻意练习，养成的思维习惯。在很多萌新Quant看来，量化策略实在太多了，而且各不相同，没有太多规律可言。但其实，如果你认真分析，就会发现，所有的量化策略，无论是期货还是股票，是外汇还是数字货币，在不考虑硬件支持的情况下，量化策略的4大核心要素无非是：品种选择、入场规则、出场规则和仓位控制。品种选择：每个策略适用于不同的品种？为什么？怎么选？入场规则：指标/因子出现什么变化时开仓？为什么？怎么判断？出场规则：指标/因子出现什么变化时平仓？为什么？怎么判断？仓位控制：如何管理自己的资金大小和交易头寸？为什么？怎么做？如果你看到感觉不错、对自己有启发的量化策略，按照上述的4个策略核心要素拆解出来，总结成一个「策略清单」。以后遇到新的交易思想/投资理念，你就能从「策略清单」里，找到对应的策略实现方案，根据收益/风控要求灵活变通，做出和自己契合匹配的策略，极大提高开发效率和成功概率。因为一切创新都是旧元素的组合，你的「策略清单」是根据过往优秀策略的总结，所以里面的方法/思路/实现路径，都经过验证，你参考借鉴这部分内容内容，等于站在巨人肩膀上，成功可能性就更大。这个「策略清单」，就是高手的「策略兵器库」。高手大神面对新的交易思想和投资理念，能迅速地做出有效行动，就是因为「策略兵器库」的强大。他们看过大量的各式各样的量化策略和实现源码，当遇到新东西，他就知道——“这个XXX趋势突破策略，也可能适合XX品种，因为它们的波动性和周期性基本一致”“这个入场形态可以用XX策略中的形态识别方法，套用缠论底分型识别的思路”“这个出场的指标可以用XX策略中的卖出方法，模仿SAR+吊顶止盈止损的方法”“这个资金管理方法可以用XXX策略中的用马丁格尔策略”当你有了「策略兵器库」，你就不再是孤军奋战，遇到问题，找到相应的「兵器」，模仿，回测，改进，优化，实践。如果不行，换另一个「兵器」，快速迭代。借用前人智慧，提高开发效率，加大成功概率。接下来的小节就来分享一下，该如何分析优秀策略，把4大策略要素归入对应的「策略清单」，建立自己的「策略兵器库」。02如何分析优秀策略？对于每个优秀的策略案例，都能通过以下4个核心元素进行拆解，总结出相应的「策略清单」，最终建立自己的「策略兵器库」。（1）核心要素之一：品种选择A.期货/外汇/数字货币量化策略对于期货(CTA)/外汇/数字货币量化策略，判断其属于的策略类型，例如趋势类、震荡类、套利类等，记录下所适用的品种和时间周期，积累的策略多了以后，就对在什么时间框架下，什么品种适合做趋势还是震荡有感觉了。B.股票量化策略对于股票量化策略，那就是量化选股，使用基本面或技术面因子进行打分排序，选出排名靠前的N只股票构建投资组合，如果再加上股指期货进行对冲，那就是股票策略中的量化对冲策略。我们需要记录下该策略所使用的选股因子或指标。（2）核心要素之二：入场规则A.期货/外汇/数字货币量化策略对于期货(CTA)/外汇/数字货币量化策略的入场规则，为了记录和分类方便，还可以根据个人习惯进行再次细分，我喜欢再次将其分为基本面指标、量价指标和形态指标。基本面指标：期货是可以获取到基本面相关数据的（虽说较难），比如说现货价格、库存等信息，例如某个策略中，期货较现货贴水超过某个分位时做多，同时做空升水最多的相关品种。量价指标：指MA、EMA、AMA、SAR、布林带等依靠纯行情数据计算出来的标量指标。形态指标：识别出固定形态的指标，比如说缠论中的顶分型底分型。B.股票量化策略对于传统的量化对冲策略，是剔除大盘系统风险，获取超额Alpha收益，一般来说做好选股工作就好，入场规则就是定期换仓后开仓。对于量化择时策略，指标细分类型与期货的入场指标类似，但会多出财务报告和产品信息，详细记录下该策略所使用的择时因子或指标。（3）核心要素之三：出场规则A.期货/外汇/数字货币量化策略对于期货(CTA)/外汇/数字货币量化策略的出场规则，指标分类与入场相似，除了基本面指标、量价指标和形态指标之外，还会有止盈止损指标，常见的有固定程度止盈止损法、相对程度止盈止损法、ATR倍数止盈止损法。B.股票量化策略对于传统的量化对冲策略，交易时间是定期换仓，出场规则就是定期卖出平仓。对于量化择时策略，指标细分类型与期货的出场指标类似，但会多出财务报告和产品信息，详细记录下该策略所使用的择时因子或指标。（4）核心要素之四：仓位管理A.期货/外汇/数字货币量化策略对于期货(CTA)/外汇/数字货币量化策略的仓位管理，常见的方法有固定的百分比、凯利公式、顺势加仓、逆势加仓、马丁格尔策略、反马丁格尔策略、固定的增量比例。除了记录所使用的仓位管理方法之外，最好还要记录下所使用的阈值（若有），积累的策略多了之后，便对合理的经验值有感觉了，尽量避免参数孤岛。B.股票量化策略对于传统的量化对冲策略，仓位控制一般是等市值对冲，或是根据Beta值等动态调整头寸，有现成的解决方案。对于量化择时策略，常用的仓位管理方法与期货/外汇/数字货币量化策略一致，记录即可。总结/记录原则：方便自己随时调用，最好用自己熟悉的方式即可，无需刻意追求形式。03如何寻找源源不断的量化策略(附源码)？前面讲了为什么和如何分析优秀的量化策略，但还有个现实问题，去哪里找到源源不断的量化策略，不是“纸上谈兵”的那种，要带有源码实现，最好再选好品种和设置好各项参数。毕竟，巧妇难为无米之炊，有了大量的量化策略，我们才能取其精华，去其糟粕，博采众长，为自所用。在我看来，量化策略的获取分为三个层面，第一个层是公开免费获取的资料，第二层是公开付费获取的资料，第三层是量化小圈子内才能获得的资料，第三层是有钱也不一定买到，取决于你是否在这个圈子以及大神是否信任你。第一层：公开免费获取（干货度：★☆☆☆☆）第一层主要有以下3大来源。书籍(纸质or电子)：可以在量化书籍、交易书籍、名人访谈等书籍中总结出量化策略，但不一定有源码。研究报告：各大券商的策略研究报告，最好是金融工程的研报，策略会描述得更为详细，一般情况下没有策略源码。各大Quant平台：平台上会有许多Quant们分享自己实现的策略，一般会有源码，可能需要积分才能查看或下载。这些渠道对于萌新Quant们是非常好的学习资料，除了能锻炼自己实现策略的能力之外，还能给自己树立主流的交易思想。因为是公开就能找到，并且是免费获取的，在知乎上一搜就有很多，在此不再赘述。其实，只要你肯花时间，一定能在互联网上搜索到各种免费公开的量化策略源码，然后按照上面的方法，分析出可参考的策略实现方案。第二层：公开付费获取（干货度：★★★☆☆）第一层的量化策略基本都是免费的，但良莠不齐，好坏难分，干货度偏低，需要在众多玩具性质的策略中筛选出“金矿”，有点儿耗时费力。但每个人的精力是有限的，对于部分人来说，花大量时间搜集良莠不齐的量化资料，认为是一件很不值得的事情。PS:有免费的当然先用免费的，白piao是本性，对于付费问题，每个人的观点不一样，但如果付费能加速我们的成长，倒是可以低成本试错。试问，你走过的路前人也走过，前人总结的经验，几百块钱请他吃顿饭让你避开这几年踩的坑，自己是否愿意？此时，很多优秀的策略提供者应运而生，他们或将玩具性质策略当中的“金矿”改进优化，或将交易大神的策略思想量化编程实现，或是对近期行情的观察开发出新的策略，最终将策略详细描述和策略源码一同打包出售。因为是要拿出来卖的，所以至少在回测层面的收益和绩效都是非常亮眼的，能大概适合过去的大部分行情，干货度大幅提升。拿我个人为例，这样的付费量化策略(附源码)，我购买了将近200套，其中最多的是人人宽客、量化侠、量化投资全球服务中心、七禾策略源码、松鼠宽客、房博士实盘源码这6个系列的策略源码，市面上主流的策略源码系列基本都收集完整了吧。这些策略源码中，大部分是期货策略(CTA)，感觉同时也适合外汇和数字货币，小部分是股票策略。期货策略(CTA)覆盖了国内主要的四大期货量化/程序化平台：开拓交易者（TradeBlazer，简称“TB”）、文华财经（简称“文华”）、金字塔决策交易系统（简称“金字塔”）和MultiCharts（简称“MC”）。直接导入对应平台就可以查看源码和回测实盘，使用方便。股票策略主要是使用Python实现，基于聚宽（JoinQuant）和优矿（Uqer）这两个中国头部量化平台，也是带策略源码，一键回测，使用方便。第三层：小圈子付费也不一定获取（干货度：★★★★★）这个圈子对普通Quant来说就不太友好了，一般是比较难获取。一般来说，这样的圈子进入有一定门槛，不是说有钱能进，还得认识圈里大神，大神还得信任你，把策略思想告诉你，甚至把数据和代码都给你看。PS:这里的小圈子特指量化大神/策略高手运营的私密圈子，其他的量化社群可以参考“第二层：公开付费获取（干货度：★★★☆☆）”。以下提及资料仅做展示，不会在自运营社群中分享！我给大家展示几个“脱敏”的吧（1）头部公募基金的委外课题（策略+源码+数据）这是国内某头部公募基金的委外课题，委托给某券商金工研究部，主要是研究行业轮动当中的因子是否具有领先指导意义，建立了多个行业轮动模型。大神分享的资料包中包含了完整的策略报告、策略源码和数据文件，让我们当初这些量化井底之蛙也大开眼界，见识到了真正量化正规军的武器装备。（2）北大Quant大神的高频研究（策略+源码+数据）（3）香港Quant大神的二级交易核心分享04全文总结打造自己的「策略兵器库」，就是采用清单思维，将所看到的策略拆解成品种选择、入场规则、出场规则和仓位管理这4个策略核心要素，记录在「策略清单」当中。在日后需要将新的交易思想或投资理念编程实现成策略，并进行回测改进优化、模拟盘实盘验证时，便可以从「策略清单」当中随时抽取相似对应的元素进行组合，并且也将相应的策略源码进行改写/拼接/组合。只要我们拆解的策略足够多，“太阳底下无新鲜事”，采用此方式，再也不用对策略的实现冥思苦想，至少可以采用相似的方式进行快速实现，“站在巨人的肩膀上”，策略开发效率提升何止10倍？！quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01",
        "url": "http://www.zhihu.com/api/v4/answers/1852537989",
        "comment_count": 13,
        "voteup_count": 176,
        "question_title": "http://www.zhihu.com/api/v4/questions/24708653",
        "question_url": "在量化策略开发过程中，你都用到了哪些知识？"
    },
    "1852483646": {
        "created_time": 1619261242,
        "content": "我没有接触过国外的，不知道国外的具体情况。也没有接触过国内顶级机构的一级核心，但接触过一些量化fund的内训资料（二级核心），干货当然比那些市面上的付费培训教程还高不少，我想里面的员工几年内能在此基础之上开发出自己的专属策略吧。我给大家展示几个“脱敏”的吧（1）委外课题（2）高频研究（3）二级交易核心quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？",
        "url": "http://www.zhihu.com/api/v4/answers/1852483646",
        "comment_count": 2,
        "voteup_count": 55,
        "question_title": "http://www.zhihu.com/api/v4/questions/288421904",
        "question_url": "在国内量化fund做quant，能接触到策略核心吗？在国外又是什么情况呢？"
    },
    "1849555522": {
        "created_time": 1619103420,
        "content": "可以把每个策略当做是一个因子，然后将这20~30个策略符合成单因子，基于IC_IR最大化解出每个子因子的权重，从权重系数中就可以看出每个策略的“贡献”，进而知道选择哪个策略，或者多策略配置。",
        "url": "http://www.zhihu.com/api/v4/answers/1849555522",
        "comment_count": 0,
        "voteup_count": 3,
        "question_title": "http://www.zhihu.com/api/v4/questions/455925940",
        "question_url": "量化策略：如何更加有效筛选股票组合的量化策略？"
    },
    "1849546576": {
        "created_time": 1619103075,
        "content": "你有没有过这种的策略开发经历——相同一本交易书籍，自己看过就完了，图一乐呵，有人却能量化出交易规则、形成指标/因子、写出策略代码、模拟盘验证、实盘盈利。因为后者有一个「策略兵器库」（大脑里or笔记中），遇到任何交易想法/投资理念——随时调用，快速匹配，回测优化，模拟验证、实盘盈利。掌握好经过验证的方法，大家都能拥有自己的「策略兵器库」。01为什么高手开发策略这么厉害（快准狠）？3年前，我开始接触量化投资，虽然喜欢每天宅在家里研究策略，但通过线下参加策略/金工会议，线上参加量化社群，认识了不少的Quant大神/策略高手。我发现他们有共同的一点：他们遇到任何新的交易思想/投资理念，都能很快拓展并形成一个完整的量化策略，而且不是那种夸夸其谈，而是真正的思想理念到交易规则，口头文字到策略源码，都想的很清楚。我以前十分疑惑，觉得这些高手大神都比较聪明，天赋异禀，老天爷赏饭吃，所以很厉害。但3这些年时间过去，慢慢发现，自己逐渐具备了这种能力，虽然跟高手大神们相比还差得很远。我才猛然明白，这并不是所谓的「天赋异禀」，而是长期的刻意练习，养成的思维习惯。在很多萌新Quant看来，量化策略实在太多了，而且各不相同，没有太多规律可言。但其实，如果你认真分析，就会发现，所有的量化策略，无论是期货还是股票，是外汇还是数字货币，在不考虑硬件支持的情况下，量化策略的4大核心要素无非是：品种选择、入场规则、出场规则和仓位控制。品种选择：每个策略适用于不同的品种？为什么？怎么选？入场规则：指标/因子出现什么变化时开仓？为什么？怎么判断？出场规则：指标/因子出现什么变化时平仓？为什么？怎么判断？仓位控制：如何管理自己的资金大小和交易头寸？为什么？怎么做？如果你看到感觉不错、对自己有启发的量化策略，按照上述的4个策略核心要素拆解出来，总结成一个「策略清单」。以后遇到新的交易思想/投资理念，你就能从「策略清单」里，找到对应的策略实现方案，根据收益/风控要求灵活变通，做出和自己契合匹配的策略，极大提高开发效率和成功概率。因为一切创新都是旧元素的组合，你的「策略清单」是根据过往优秀策略的总结，所以里面的方法/思路/实现路径，都经过验证，你参考借鉴这部分内容内容，等于站在巨人肩膀上，成功可能性就更大。这个「策略清单」，就是高手的「策略兵器库」。高手大神面对新的交易思想和投资理念，能迅速地做出有效行动，就是因为「策略兵器库」的强大。他们看过大量的各式各样的量化策略和实现源码，当遇到新东西，他就知道——“这个XXX趋势突破策略，也可能适合XX品种，因为它们的波动性和周期性基本一致”“这个入场形态可以用XX策略中的形态识别方法，套用缠论底分型识别的思路”“这个出场的指标可以用XX策略中的卖出方法，模仿SAR+吊顶止盈止损的方法”“这个资金管理方法可以用XXX策略中的用马丁格尔策略”当你有了「策略兵器库」，你就不再是孤军奋战，遇到问题，找到相应的「兵器」，模仿，回测，改进，优化，实践。如果不行，换另一个「兵器」，快速迭代。借用前人智慧，提高开发效率，加大成功概率。接下来的小节就来分享一下，该如何分析优秀策略，把4大策略要素归入对应的「策略清单」，建立自己的「策略兵器库」。02如何分析优秀策略？对于每个优秀的策略案例，都能通过以下4个核心元素进行拆解，总结出相应的「策略清单」，最终建立自己的「策略兵器库」。（1）核心要素之一：品种选择A.期货/外汇/数字货币量化策略对于期货(CTA)/外汇/数字货币量化策略，判断其属于的策略类型，例如趋势类、震荡类、套利类等，记录下所适用的品种和时间周期，积累的策略多了以后，就对在什么时间框架下，什么品种适合做趋势还是震荡有感觉了。B.股票量化策略对于股票量化策略，那就是量化选股，使用基本面或技术面因子进行打分排序，选出排名靠前的N只股票构建投资组合，如果再加上股指期货进行对冲，那就是股票策略中的量化对冲策略。我们需要记录下该策略所使用的选股因子或指标。（2）核心要素之二：入场规则A.期货/外汇/数字货币量化策略对于期货(CTA)/外汇/数字货币量化策略的入场规则，为了记录和分类方便，还可以根据个人习惯进行再次细分，我喜欢再次将其分为基本面指标、量价指标和形态指标。基本面指标：期货是可以获取到基本面相关数据的（虽说较难），比如说现货价格、库存等信息，例如某个策略中，期货较现货贴水超过某个分位时做多，同时做空升水最多的相关品种。量价指标：指MA、EMA、AMA、SAR、布林带等依靠纯行情数据计算出来的标量指标。形态指标：识别出固定形态的指标，比如说缠论中的顶分型底分型。B.股票量化策略对于传统的量化对冲策略，是剔除大盘系统风险，获取超额Alpha收益，一般来说做好选股工作就好，入场规则就是定期换仓后开仓。对于量化择时策略，指标细分类型与期货的入场指标类似，但会多出财务报告和产品信息，详细记录下该策略所使用的择时因子或指标。（3）核心要素之三：出场规则A.期货/外汇/数字货币量化策略对于期货(CTA)/外汇/数字货币量化策略的出场规则，指标分类与入场相似，除了基本面指标、量价指标和形态指标之外，还会有止盈止损指标，常见的有固定程度止盈止损法、相对程度止盈止损法、ATR倍数止盈止损法。B.股票量化策略对于传统的量化对冲策略，交易时间是定期换仓，出场规则就是定期卖出平仓。对于量化择时策略，指标细分类型与期货的出场指标类似，但会多出财务报告和产品信息，详细记录下该策略所使用的择时因子或指标。（4）核心要素之四：仓位管理A.期货/外汇/数字货币量化策略对于期货(CTA)/外汇/数字货币量化策略的仓位管理，常见的方法有固定的百分比、凯利公式、顺势加仓、逆势加仓、马丁格尔策略、反马丁格尔策略、固定的增量比例。除了记录所使用的仓位管理方法之外，最好还要记录下所使用的阈值（若有），积累的策略多了之后，便对合理的经验值有感觉了，尽量避免参数孤岛。B.股票量化策略对于传统的量化对冲策略，仓位控制一般是等市值对冲，或是根据Beta值等动态调整头寸，有现成的解决方案。对于量化择时策略，常用的仓位管理方法与期货/外汇/数字货币量化策略一致，记录即可。总结/记录原则：方便自己随时调用，最好用自己熟悉的方式即可，无需刻意追求形式。总结打造自己的「策略兵器库」，就是采用清单思维，将所看到的策略拆解成品种选择、入场规则、出场规则和仓位管理这4个策略核心要素，记录在「策略清单」当中。在日后需要将新的交易思想或投资理念编程实现成策略，并进行回测改进优化、模拟盘实盘验证时，便可以从「策略清单」当中随时抽取相似对应的元素进行组合，并且也将相应的策略源码进行改写/拼接/组合。只要我们拆解的策略足够多，“太阳底下无新鲜事”，采用此方式，再也不用对策略的实现冥思苦想，至少可以采用相似的方式进行快速实现，“站在巨人的肩膀上”，策略开发效率提升何止10倍？！quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01",
        "url": "http://www.zhihu.com/api/v4/answers/1849546576",
        "comment_count": 2,
        "voteup_count": 62,
        "question_title": "http://www.zhihu.com/api/v4/questions/37745951",
        "question_url": "如何设计量化交易策略？"
    },
    "1849531344": {
        "created_time": 1619102501,
        "content": "各位量化大神都分享了非常好的策略想法来源，我来说说自己常用的策略灵感来源，狗尾续貂~~~在我看来，量化策略思想和灵感的获取分为三个层面，第一个层是公开免费获取的资料，第二层是公开付费获取的资料，第三层是量化小圈子内才能获得的资料，第三层是有钱也不一定买到，取决于你是否在这个圈子以及大神是否信任你。第一层：公开免费获取（干货度：★☆☆☆☆）第一层主要有以下3大来源。书籍(纸质or电子)：可以在量化书籍、交易书籍、名人访谈等书籍中总结出量化策略，但不一定有源码。研究报告：各大券商的策略研究报告，最好是金融工程的研报，策略会描述得更为详细，一般情况下没有策略源码。各大Quant平台：平台上会有许多Quant们分享自己实现的策略，一般会有源码，可能需要积分才能查看或下载。这些渠道对于萌新Quant们是非常好的学习资料，除了能锻炼自己实现策略的能力之外，还能给自己树立主流的交易思想。因为是公开就能找到，并且是免费获取的，在知乎上一搜就有很多，在此不再赘述。其实，只要你肯花时间，一定能在互联网上搜索到各种免费公开的量化策略源码，然后按照上面的方法，分析出可参考的策略实现方案。第二层：公开付费获取（干货度：★★★☆☆）第一层的量化策略基本都是免费的，但良莠不齐，好坏难分，干货度偏低，需要在众多玩具性质的策略中筛选出“金矿”，有点儿耗时费力。但每个人的精力是有限的，对于部分人来说，花大量时间搜集良莠不齐的量化资料，认为是一件很不值得的事情。PS:有免费的当然先用免费的，白piao是本性，对于付费问题，每个人的观点不一样，但如果付费能加速我们的成长，倒是可以低成本试错。试问，你走过的路前人也走过，前人总结的经验，几百块钱请他吃顿饭让你避开这几年踩的坑，自己是否愿意？此时，很多优秀的策略提供者应运而生，他们或将玩具性质策略当中的“金矿”改进优化，或将交易大神的策略思想量化编程实现，或是对近期行情的观察开发出新的策略，最终将策略详细描述和策略源码一同打包出售。因为是要拿出来卖的，所以至少在回测层面的收益和绩效都是非常亮眼的，能大概适合过去的大部分行情，干货度大幅提升。拿我个人为例，这样的付费量化策略(附源码)，我购买了将近200套，其中最多的是人人宽客、量化侠、量化投资全球服务中心、七禾策略源码、松鼠宽客、房博士实盘源码这6个系列的策略源码，市面上主流的策略源码系列基本都收集完整了吧。这些策略源码中，大部分是期货策略(CTA)，感觉同时也适合外汇和数字货币，小部分是股票策略。期货策略(CTA)覆盖了国内主要的四大期货量化/程序化平台：开拓交易者（TradeBlazer，简称“TB”）、文华财经（简称“文华”）、金字塔决策交易系统（简称“金字塔”）和MultiCharts（简称“MC”）。直接导入对应平台就可以查看源码和回测实盘，使用方便。股票策略主要是使用Python实现，基于聚宽（JoinQuant）和优矿（Uqer）这两个中国头部量化平台，也是带策略源码，一键回测，使用方便。第三层：小圈子付费也不一定获取（干货度：★★★★★）这个圈子对普通Quant来说就不太友好了，一般是比较难获取。一般来说，这样的圈子进入有一定门槛，不是说有钱能进，还得认识圈里大神，大神还得信任你，把策略思想告诉你，甚至把数据和代码都给你看。PS:这里的小圈子特指量化大神/策略高手运营的私密圈子，其他的量化社群可以参考“第二层：公开付费获取（干货度：★★★☆☆）”。以下提及资料仅做展示，不会在自运营社群中分享！我给大家展示几个“脱敏”的吧（1）头部公募基金的委外课题（策略+源码+数据）这是国内某头部公募基金的委外课题，委托给某券商金工研究部，主要是研究行业轮动当中的因子是否具有领先指导意义，建立了多个行业轮动模型。大神分享的资料包中包含了完整的策略报告、策略源码和数据文件，让我们当初这些量化井底之蛙也大开眼界，见识到了真正量化正规军的武器装备。（2）北大Quant大神的高频研究（策略+源码+数据）（3）香港Quant大神的二级交易核心分享quantkoala：如何打造「量化策略兵器库」，策略开发效率提高10倍？quantkoala：八年实盘100万到1000万的跨周期突破策略源码Q01",
        "url": "http://www.zhihu.com/api/v4/answers/1849531344",
        "comment_count": 8,
        "voteup_count": 89,
        "question_title": "http://www.zhihu.com/api/v4/questions/65776958",
        "question_url": "交易策略开发的灵感从何而来?"
    },
    "641103484": {
        "created_time": 1554353711,
        "content": "主要是看你的可用资金是否足够买入新仓位，资金足够，先买还是先卖都可以。",
        "url": "http://www.zhihu.com/api/v4/answers/641103484",
        "comment_count": 0,
        "voteup_count": 1,
        "question_title": "http://www.zhihu.com/api/v4/questions/318610925",
        "question_url": "回测调仓的时候都是卖出旧股票的当天就买入新的股票吗？"
    },
    "641102149": {
        "created_time": 1554353623,
        "content": "提高效率。机器比人工快。证伪系统。互联网上一大堆专家整天嘚吧嘚自己的交易系统，回测一下就一目了然了。证实系统。回测只能找出潜在的好策略，还需要机器帮你实盘跟踪。",
        "url": "http://www.zhihu.com/api/v4/answers/641102149",
        "comment_count": 0,
        "voteup_count": 0,
        "question_title": "http://www.zhihu.com/api/v4/questions/318697095",
        "question_url": "为什么要使用量化交易系统？"
    },
    "640449277": {
        "created_time": 1554290606,
        "content": "高手应该对自己的策略保密性很在意，要么就是自建回测框架，要么就是基于开源平台改进。",
        "url": "http://www.zhihu.com/api/v4/answers/640449277",
        "comment_count": 0,
        "voteup_count": 2,
        "question_title": "http://www.zhihu.com/api/v4/questions/318588776",
        "question_url": "各位高手，能问一下，你们回测都用的什么软件吗？"
    },
    "639495079": {
        "created_time": 1554207420,
        "content": "我见过82年本科工科大叔转量化做股票alpha的。种一棵树最好的时间是10年前，其次就是现在。",
        "url": "http://www.zhihu.com/api/v4/answers/639495079",
        "comment_count": 0,
        "voteup_count": 1,
        "question_title": "http://www.zhihu.com/api/v4/questions/318441239",
        "question_url": "29岁工学硕士转量化交易靠谱吗？"
    },
    "635669535": {
        "created_time": 1553839580,
        "content": "很明显不是啦如果量化交易是夕阳产业那人工智能AI也是夕阳产业，而且更夕阳",
        "url": "http://www.zhihu.com/api/v4/answers/635669535",
        "comment_count": 0,
        "voteup_count": 1,
        "question_title": "http://www.zhihu.com/api/v4/questions/317898516",
        "question_url": "量化交易是夕阳产业吗？"
    },
    "628926190": {
        "created_time": 1553178139,
        "content": "股票T+0一般要有股票底仓，很多产品用来增强收益。期货日内就随意了，随时买随时卖，没有特别要求，就是追求投机短线收益。",
        "url": "http://www.zhihu.com/api/v4/answers/628926190",
        "comment_count": 0,
        "voteup_count": 0,
        "question_title": "http://www.zhihu.com/api/v4/questions/316819264",
        "question_url": "做量化股票T+0日内回转交易和量化期货日内交易策略有什么相同和不同之处？"
    },
    "628923483": {
        "created_time": 1553177946,
        "content": "我买过很多策略源码，网上公开出售源码的我基本都买过，最大的感觉就是没看见源码细节前不要盲目相信，可能是过度拟合或幸存效应。不过如果你是初学者的话，很多策略思想还是值得借鉴的，至少能反应某段时期的价格规律，就看是否能后期演绎了。",
        "url": "http://www.zhihu.com/api/v4/answers/628923483",
        "comment_count": 1,
        "voteup_count": 2,
        "question_title": "http://www.zhihu.com/api/v4/questions/316679015",
        "question_url": "聚宽策略商城的策略靠谱吗？"
    },
    "624122456": {
        "created_time": 1552716877,
        "content": "跟聚宽一样靠谱，广发等好几家券商都是跟聚宽合作开发自己的量化回测平台，底层框架都是一样的，就是把名称换了而已",
        "url": "http://www.zhihu.com/api/v4/answers/624122456",
        "comment_count": 0,
        "voteup_count": 0,
        "question_title": "http://www.zhihu.com/api/v4/questions/316118917",
        "question_url": "一创聚宽靠谱吗？"
    },
    "609569338": {
        "created_time": 1551242259,
        "content": "网上有很多量化平台都会有一些免费的源码发布出来，但是代码水平和回测结果参差不起，付费的策略源码回测效果会相对好一些，里面会有自己意想不到的idea，参考意义也较好，毕竟总有自己想不到的思想和细节，这样的机构好像有七禾人人宽客、量化侠、量化投资中心、房博士等，这些是我买过的，还有一些零散的在其他网站上卖的就没接触过了（因为实在是太贵）。",
        "url": "http://www.zhihu.com/api/v4/answers/609569338",
        "comment_count": 0,
        "voteup_count": 3,
        "question_title": "http://www.zhihu.com/api/v4/questions/51895136",
        "question_url": "程序化和量化交易策略代码哪里可以下载？"
    },
    "569284219": {
        "created_time": 1546937904,
        "content": "黄金分割比例",
        "url": "http://www.zhihu.com/api/v4/answers/569284219",
        "comment_count": 0,
        "voteup_count": 0,
        "question_title": "http://www.zhihu.com/api/v4/questions/308363775",
        "question_url": "波浪理论理论中，请问大家对于标准化画浪有什么见解？"
    },
    "567822069": {
        "created_time": 1546769514,
        "content": "有些期货品种波动率小，历史上出现趋势的情况少，自然很多趋势策略不适合这些品种。",
        "url": "http://www.zhihu.com/api/v4/answers/567822069",
        "comment_count": 0,
        "voteup_count": 0,
        "question_title": "http://www.zhihu.com/api/v4/questions/308166984",
        "question_url": "期货的策略为什么通常只应用于一些期货？"
    },
    "562437501": {
        "created_time": 1546087352,
        "content": "不小心入坑，金融+数学+编程。PS:入坑要考虑好机会成本哦。",
        "url": "http://www.zhihu.com/api/v4/answers/562437501",
        "comment_count": 3,
        "voteup_count": 1,
        "question_title": "http://www.zhihu.com/api/v4/questions/307064057",
        "question_url": "未来想要进入量化交易狗一只，想请教前辈们当初是怎么入坑的呢？前期需要补充什么知识和技能呢？"
    },
    "549973808": {
        "created_time": 1544524793,
        "content": "这是一项技能，技能是通过实践练习得来的，不像死记硬背应付考试那样。建议找一个自己感兴趣的相关项目，把他实现，既可以有成就感，也练到了本事，还可以写在简历里面。",
        "url": "http://www.zhihu.com/api/v4/answers/549973808",
        "comment_count": 1,
        "voteup_count": 0,
        "question_title": "http://www.zhihu.com/api/v4/questions/305405709",
        "question_url": "想用python进行数据分析和建模。断断续续学了一阵子，感觉自己好像没学到什么东西。不知该如何学习？"
    },
    "548952317": {
        "created_time": 1544411109,
        "content": "很多私募对编程语言的要求很宽泛的，Python那些不是死要求，只要你能用一门语言完成回测跟实盘就完全OK了。量化本来就是个工具，赚钱就行，能赚钱了，连你用的是不是量化方法都不会在意的。",
        "url": "http://www.zhihu.com/api/v4/answers/548952317",
        "comment_count": 0,
        "voteup_count": 0,
        "question_title": "http://www.zhihu.com/api/v4/questions/305226154",
        "question_url": "目前有哪些大的私募做量化的，用的matlab语言？"
    },
    "547979938": {
        "created_time": 1544269415,
        "content": "可以自己设计一个形态模板，然后把K线序列放进去计算相似度，相似度高于某个阈值则算这段序列符合这个形态。",
        "url": "http://www.zhihu.com/api/v4/answers/547979938",
        "comment_count": 0,
        "voteup_count": 1,
        "question_title": "http://www.zhihu.com/api/v4/questions/304879920",
        "question_url": "算法能否辨认美人腿形态？"
    },
    "544887071": {
        "created_time": 1543892247,
        "content": "你可能需要的是MacBookPro或各种炫酷的游戏本",
        "url": "http://www.zhihu.com/api/v4/answers/544887071",
        "comment_count": 0,
        "voteup_count": 0,
        "question_title": "http://www.zhihu.com/api/v4/questions/304555297",
        "question_url": "数据分析师一般用什么电脑啊？希望轻薄、颜值高的。？"
    },
    "544886270": {
        "created_time": 1543892197,
        "content": "不做量化和开发策略的话，进金融机构的业务部门，往管理或营销方向转，或者当金融产品经理等那些都行，不要限制自己的想象力。",
        "url": "http://www.zhihu.com/api/v4/answers/544886270",
        "comment_count": 0,
        "voteup_count": 2,
        "question_title": "http://www.zhihu.com/api/v4/questions/304532241",
        "question_url": "量化金融研究生毕业除了做量化分析/研究还有什么出路？"
    },
    "543823208": {
        "created_time": 1543758712,
        "content": "过编程门槛很简单，现在已经有很多互联网quant平台，您选择一个使用人数较为多的，上面都会有Python快速入门和平台使用教程，搞通一个平台后，则其他平台都是大同小异了。",
        "url": "http://www.zhihu.com/api/v4/answers/543823208",
        "comment_count": 0,
        "voteup_count": 0,
        "question_title": "http://www.zhihu.com/api/v4/questions/301092464",
        "question_url": "进入量化行业一定要过编程这一关吗？"
    },
    "541382430": {
        "created_time": 1543459518,
        "content": "进私募排排网，看看别人的净值曲线就一目了然啦",
        "url": "http://www.zhihu.com/api/v4/answers/541382430",
        "comment_count": 0,
        "voteup_count": 0,
        "question_title": "http://www.zhihu.com/api/v4/questions/303942346",
        "question_url": "国内CTA做的比较好的公司有哪些呢？"
    },
    "540991769": {
        "created_time": 1543400026,
        "content": "当舆论以文本等信息表露出来，让爬虫捕捉到的时候，已经是二手信息了。",
        "url": "http://www.zhihu.com/api/v4/answers/540991769",
        "comment_count": 2,
        "voteup_count": 0,
        "question_title": "http://www.zhihu.com/api/v4/questions/303742451",
        "question_url": "有在量化期货交易中引入舆论捕捉到机制的方法和实例吗？"
    },
    "540990320": {
        "created_time": 1543399887,
        "content": "个人感觉JoinQuant综合起来比较好，本地调用也很方便。万德旗下的WindQuant也可以关注一下，据说底层数据库跟万得是一致的，做股票量化的话，财报数据准确性会可靠一点。",
        "url": "http://www.zhihu.com/api/v4/answers/540990320",
        "comment_count": 0,
        "voteup_count": 2,
        "question_title": "http://www.zhihu.com/api/v4/questions/303931447",
        "question_url": "python量化交易平台，那家比较好用？"
    },
    "537257644": {
        "created_time": 1542941734,
        "content": "策略底层用到的量化技术没有啥区别。主要是用户受众的区别。智能投顾是开发策略给别人用，好不好用自己不操心，客户亏了钱自己不心疼，关键是卖出产品赚到佣金。后者的量化策略是开发出来自己用，真金白银的投入，盈亏自负。",
        "url": "http://www.zhihu.com/api/v4/answers/537257644",
        "comment_count": 0,
        "voteup_count": 0,
        "question_title": "http://www.zhihu.com/api/v4/questions/278935302",
        "question_url": "智能投顾的量化策略研究和业务方向的量化策略研究有什么区别？"
    },
    "537250014": {
        "created_time": 1542941194,
        "content": "量化只是一个手段或工具而已。无论主观还是量化，能否赚钱，都是看背后的投资想法。也可以把你的主观投资想法量化，然后程序化执行，那样能提高效率，避免你将来资金量太大忙不过来。",
        "url": "http://www.zhihu.com/api/v4/answers/537250014",
        "comment_count": 0,
        "voteup_count": 0,
        "question_title": "http://www.zhihu.com/api/v4/questions/294001548",
        "question_url": "请问期货程序化好还是人工主观交易好？"
    },
    "537245653": {
        "created_time": 1542940855,
        "content": "套利关键是预测两个或多个合约的价差，如果把这个价差也看成是价格序列，那就和趋势投机策略无异了，很多cta策略思想都可以套用。不过套利也有很多人走中长期基本面量化的方法，跟单纯的价量策略还是有不同的地方。",
        "url": "http://www.zhihu.com/api/v4/answers/537245653",
        "comment_count": 1,
        "voteup_count": 2,
        "question_title": "http://www.zhihu.com/api/v4/questions/270005619",
        "question_url": "商品期货量化套利模型的一般构建方法有哪些呢？"
    },
    "536678230": {
        "created_time": 1542864210,
        "content": "不一定是传统的技术指标，我见过有专门做图形识别的，效果也不错。AI那些出策略很简单，回测曲线也很好，但是容易对噪声过拟合，实盘效果反而不佳。目前AI在金融投资领域还没有取得太大成果，不然AI程序员都是亿万富翁了。",
        "url": "http://www.zhihu.com/api/v4/answers/536678230",
        "comment_count": 1,
        "voteup_count": 6,
        "question_title": "http://www.zhihu.com/api/v4/questions/291948456",
        "question_url": "目前主流的量化CTA策略有哪些？真的就是简单的技术指标衍生出来的策略吗？"
    },
    "536578924": {
        "created_time": 1542855176,
        "content": "只能说用Python做数据分析的开发效率很高，但程序的执行效率不高，应该自己折中判断。",
        "url": "http://www.zhihu.com/api/v4/answers/536578924",
        "comment_count": 0,
        "voteup_count": 1,
        "question_title": "http://www.zhihu.com/api/v4/questions/302929198",
        "question_url": "python 做数据分析速度快吗？"
    },
    "536270808": {
        "created_time": 1542804037,
        "content": "赚钱的思路不要随便告诉别人哦，自己找个教程学习编程，自己实现程序化吧。",
        "url": "http://www.zhihu.com/api/v4/answers/536270808",
        "comment_count": 0,
        "voteup_count": 0,
        "question_title": "http://www.zhihu.com/api/v4/questions/302944730",
        "question_url": "哪里能开发程序化啊  有套思路不会弄！高人指点？"
    },
    "536269816": {
        "created_time": 1542803931,
        "content": "用try...except语句捕抓异常并设置处理程序就好了",
        "url": "http://www.zhihu.com/api/v4/answers/536269816",
        "comment_count": 0,
        "voteup_count": 1,
        "question_title": "http://www.zhihu.com/api/v4/questions/302982904",
        "question_url": "怎么能够在输入错误的情况下继续执行？"
    },
    "536254508": {
        "created_time": 1542802340,
        "content": "以终为始，怎么样做让别人认为你厉害，急迫想把你招入麾下？那就是把一条45度斜向上的实盘净值曲线甩到别人眼前，注意不是回测曲线。可以是任意投资品种的实盘。这关键是要找到好的交易想法，然后程序化实现。看书、研报、观察等方法找到交易想法。看书、报班、实践等学习编程。剩下的倒推就是书籍与课程那些目录了，这个你就去百度吧，手机打字太累。",
        "url": "http://www.zhihu.com/api/v4/answers/536254508",
        "comment_count": 0,
        "voteup_count": 3,
        "question_title": "http://www.zhihu.com/api/v4/questions/303005303",
        "question_url": "本科生怎样自学成为一个厉害的量化策略研究员呀？"
    },
    "524612000": {
        "created_time": 1541304312,
        "content": "数据挖掘要入门的话，懂基本的统计学原理，有一点编程基础就可以了。将来只是为了把数据挖掘作为工具使用，而不是为了开发新模型然后发paper，那就更简单了。建议学Python，里面有大量的机器学习与数据挖掘的第三方库，把他当函数调用就行了，不过前提是大概看懂模型原理，了解每一个参数的意义。",
        "url": "http://www.zhihu.com/api/v4/answers/524612000",
        "comment_count": 3,
        "voteup_count": 0,
        "question_title": "http://www.zhihu.com/api/v4/questions/300954482",
        "question_url": "数据挖掘方面的研究需要用到哪些知识？"
    },
    "524609260": {
        "created_time": 1541304003,
        "content": "个人认为，量化模型只是一个工具，是对交易理念的数学表达与计算机实现，其目的是为了在市场上盈利。所以说，关键是交易理念，不是为了量化而量化，量化只是手段，而不是目的。主观与量化能否赚钱，看交易理念与交易思想，这两个方面都有人成为了投资大师。所以您在哪方面容易出nb的交易想法，您就可能在哪方面成为投资大师。如果对于没有天赋的普通人而言，也许量化更适合他吧，至少把听来与看来的交易想法一回测，可以证伪许多交易想法，少入股票期货那些“老师”的坑。",
        "url": "http://www.zhihu.com/api/v4/answers/524609260",
        "comment_count": 0,
        "voteup_count": 1,
        "question_title": "http://www.zhihu.com/api/v4/questions/300694294",
        "question_url": "主观交易与量化模型交易谁更宏大更容易成为交易大师？"
    },
    "522307099": {
        "created_time": 1540989084,
        "content": "这是本人当初对比过的各大回测平台，您可以去各个官网对比一下，看看哪个符合您的需求，我相信总有一款适合你。",
        "url": "http://www.zhihu.com/api/v4/answers/522307099",
        "comment_count": 6,
        "voteup_count": 129,
        "question_title": "http://www.zhihu.com/api/v4/questions/298433868",
        "question_url": "有什么好的回测工具或平台？"
    },
    "521681059": {
        "created_time": 1540909426,
        "content": "从量化实操的角度来看。交易策略：通过数理统计、机器学习、数据挖掘等方法发现大概率盈利的有限交易规则的集合。例如海龟交易策略中的突破10日最高价则做多、低于10日最低价则卖空等规则的集合。交易纪律：严格按照之前设定的交易条条框框，例如严格按照交易策略的信号下单，严格止损不要存在侥幸心理，触碰到仓位控制线则减仓等。上文中的“海龟交易策略”就是交易策略，是一个让你大概率盈利的武器，交易纪律就是你使用这个武器的方法与限制，唯有遵守这些方法与限制，你才能将这个武器的威力发挥到最大化。",
        "url": "http://www.zhihu.com/api/v4/answers/521681059",
        "comment_count": 0,
        "voteup_count": 0,
        "question_title": "http://www.zhihu.com/api/v4/questions/295175999",
        "question_url": "交易策略和交易纪律有什么区别？"
    },
    "495306257": {
        "created_time": 1537443986,
        "content": "网络上的量化侠、人人宽客、全球量投中心、房世辉博士等全套代码我都买过，主要是为了股票量化转CTA学习别人的思想。话说很多都是有过拟合、偷价、交易成本过低等情况的存在，很多距离发布日较久的策略都失效了。个人观点，如果只是用来借鉴思想然后自己改进优化，那没有什么问题，若是直接买来实盘的话，那只能说一句goodlucktoyou~~~",
        "url": "http://www.zhihu.com/api/v4/answers/495306257",
        "comment_count": 0,
        "voteup_count": 6,
        "question_title": "http://www.zhihu.com/api/v4/questions/267404686",
        "question_url": "网络购买量化策略的靠谱程度？"
    },
    "494609981": {
        "created_time": 1537351545,
        "content": "之前从股票量化转CTA，为了更快学习前人的期货量化思想，买过他们所有期货策略C1~C51，都是捐赠版，之前回测过C1~C45从发布日起到6月30号的绩效，发现相当一部分策略都失效了，在2018年上半年都是亏损的，直接买来就马上实盘这种行为是有待商榷的，需要借鉴别人的思想去改进。不过这几十个策略的思想加宽了我的CTA策略开发思想，一定程度上加快了我的学习进度，也算是站了一会儿“巨人”的肩膀上。",
        "url": "http://www.zhihu.com/api/v4/answers/494609981",
        "comment_count": 3,
        "voteup_count": 1,
        "question_title": "http://www.zhihu.com/api/v4/questions/66386778",
        "question_url": "人人宽客微信公众号近期在网上的行为大家怎么看？"
    }
}